{"ast":null,"code":"/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n * \n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n * \n */\n!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define([], t) : \"object\" == typeof exports ? exports.OktaAuth = t() : e.OktaAuth = t();\n}(\"undefined\" != typeof self ? self : this, function () {\n  return function (e) {\n    function t(n) {\n      if (r[n]) return r[n].exports;\n      var o = r[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n      };\n      return e[n].call(o.exports, o, o.exports, t), o.l = !0, o.exports;\n    }\n\n    var r = {};\n    return t.m = e, t.c = r, t.d = function (e, r, n) {\n      t.o(e, r) || Object.defineProperty(e, r, {\n        configurable: !1,\n        enumerable: !0,\n        get: n\n      });\n    }, t.n = function (e) {\n      var r = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return t.d(r, \"a\", r), r;\n    }, t.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, t.p = \"\", t(t.s = 11);\n  }([function (e, t) {\n    var r = e.exports;\n    r.stringToBase64Url = function (e) {\n      var t = btoa(e);\n      return r.base64ToBase64Url(t);\n    }, r.base64ToBase64Url = function (e) {\n      return e.replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n    }, r.base64UrlToBase64 = function (e) {\n      return e.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    }, r.base64UrlToString = function (e) {\n      var t = r.base64UrlToBase64(e);\n\n      switch (t.length % 4) {\n        case 0:\n          break;\n\n        case 2:\n          t += \"==\";\n          break;\n\n        case 3:\n          t += \"=\";\n          break;\n\n        default:\n          throw \"Not a valid Base64Url\";\n      }\n\n      var n = atob(t);\n\n      try {\n        return decodeURIComponent(escape(n));\n      } catch (e) {\n        return n;\n      }\n    }, r.stringToBuffer = function (e) {\n      for (var t = new Uint8Array(e.length), r = 0; r < e.length; r++) t[r] = e.charCodeAt(r);\n\n      return t;\n    }, r.base64UrlDecode = function (e) {\n      return atob(r.base64UrlToBase64(e));\n    }, r.bind = function (e, t) {\n      var r = Array.prototype.slice.call(arguments, 2);\n      return function () {\n        var n = Array.prototype.slice.call(arguments);\n        return n = r.concat(n), e.apply(t, n);\n      };\n    }, r.isAbsoluteUrl = function (e) {\n      return /^(?:[a-z]+:)?\\/\\//i.test(e);\n    }, r.isString = function (e) {\n      return \"[object String]\" === Object.prototype.toString.call(e);\n    }, r.isObject = function (e) {\n      return \"[object Object]\" === Object.prototype.toString.call(e);\n    }, r.isNumber = function (e) {\n      return \"[object Number]\" === Object.prototype.toString.call(e);\n    }, r.isoToUTCString = function (e) {\n      var t = e.match(/\\d+/g),\n          r = Date.UTC(t[0], t[1] - 1, t[2], t[3], t[4], t[5]);\n      return new Date(r).toUTCString();\n    }, r.toQueryParams = function (e) {\n      var t = [];\n      if (null !== e) for (var r in e) e.hasOwnProperty(r) && void 0 !== e[r] && null !== e[r] && t.push(r + \"=\" + encodeURIComponent(e[r]));\n      return t.length ? \"?\" + t.join(\"&\") : \"\";\n    }, r.genRandomString = function (e) {\n      for (var t = \"abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\", r = \"\", n = 0, o = t.length; n < e; ++n) r += t[Math.floor(Math.random() * o)];\n\n      return r;\n    }, r.extend = function () {\n      var e = arguments[0];\n      return [].slice.call(arguments, 1).forEach(function (t) {\n        for (var r in t) t.hasOwnProperty(r) && void 0 !== t[r] && (e[r] = t[r]);\n      }), e;\n    }, r.removeNils = function (e) {\n      var t = {};\n\n      for (var r in e) if (e.hasOwnProperty(r)) {\n        var n = e[r];\n        null !== n && void 0 !== n && (t[r] = n);\n      }\n\n      return t;\n    }, r.clone = function (e) {\n      if (e) {\n        var t = JSON.stringify(e);\n        if (t) return JSON.parse(t);\n      }\n\n      return e;\n    }, r.omit = function (e) {\n      var t = Array.prototype.slice.call(arguments, 1),\n          n = {};\n\n      for (var o in e) e.hasOwnProperty(o) && -1 == t.indexOf(o) && (n[o] = e[o]);\n\n      return r.clone(n);\n    }, r.find = function (e, t) {\n      for (var r = e.length; r--;) {\n        var n = e[r],\n            o = !0;\n\n        for (var i in t) if (t.hasOwnProperty(i) && n[i] !== t[i]) {\n          o = !1;\n          break;\n        }\n\n        if (o) return n;\n      }\n    }, r.getLink = function (e, t, n) {\n      if (e && e._links) {\n        var o = r.clone(e._links[t]);\n        return o && o.name && n ? o.name === n ? o : void 0 : o;\n      }\n    }, r.getNativeConsole = function () {\n      return \"undefined\" != typeof window ? window.console : \"undefined\" != typeof console ? console : void 0;\n    }, r.getConsole = function () {\n      var e = r.getNativeConsole();\n      return e && e.log ? e : {\n        log: function () {}\n      };\n    }, r.warn = function (e) {\n      r.getConsole().log(\"[okta-auth-sdk] WARN: \" + e);\n    }, r.deprecate = function (e) {\n      r.getConsole().log(\"[okta-auth-sdk] DEPRECATION: \" + e);\n    }, r.deprecateWrap = function (e, t) {\n      return function () {\n        return r.deprecate(e), t.apply(null, arguments);\n      };\n    }, r.removeTrailingSlash = function (e) {\n      if (e) {\n        var t = e.replace(/^\\s+|\\s+$/gm, \"\");\n        return t = t.replace(/\\/+$/, \"\");\n      }\n    }, r.isIE11OrLess = function () {\n      return !!document.documentMode && document.documentMode <= 11;\n    }, r.isFunction = function (e) {\n      return !!e && \"[object Function]\" === {}.toString.call(e);\n    }, r.delay = function (e) {\n      return new Promise(function (t) {\n        setTimeout(t, e);\n      });\n    };\n  }, function (e, t) {\n    function r(e, t) {\n      this.name = \"AuthSdkError\", this.message = e, this.errorCode = \"INTERNAL\", this.errorSummary = e, this.errorLink = \"INTERNAL\", this.errorId = \"INTERNAL\", this.errorCauses = [], t && (this.xhr = t);\n    }\n\n    r.prototype = new Error(), e.exports = r;\n  }, function (e, t) {\n    e.exports = {\n      STATE_TOKEN_KEY_NAME: \"oktaStateToken\",\n      DEFAULT_POLLING_DELAY: 500,\n      DEFAULT_MAX_CLOCK_SKEW: 300,\n      DEFAULT_CACHE_DURATION: 86400,\n      REDIRECT_OAUTH_PARAMS_COOKIE_NAME: \"okta-oauth-redirect-params\",\n      REDIRECT_STATE_COOKIE_NAME: \"okta-oauth-state\",\n      REDIRECT_NONCE_COOKIE_NAME: \"okta-oauth-nonce\",\n      TOKEN_STORAGE_NAME: \"okta-token-storage\",\n      CACHE_STORAGE_NAME: \"okta-cache-storage\",\n      PKCE_STORAGE_NAME: \"okta-pkce-storage\"\n    };\n  }, function (e, t, r) {\n    function n(e, t) {\n      t = t || {};\n      var r = t.url,\n          n = t.method,\n          o = t.args,\n          i = t.saveAuthnState,\n          c = t.accessToken,\n          f = !1 !== t.withCredentials,\n          l = e.options.storageUtil,\n          p = l.storage,\n          h = l.getHttpCache(e.options.cookies);\n\n      if (t.cacheResponse) {\n        var d = h.getStorage(),\n            g = d[r];\n        if (g && Date.now() / 1e3 < g.expiresAt) return Promise.resolve(g.response);\n      }\n\n      var m = {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"X-Okta-User-Agent-Extended\": e.userAgent\n      };\n      s.extend(m, e.options.headers, t.headers), c && s.isString(c) && (m.Authorization = \"Bearer \" + c);\n      var y,\n          v,\n          w = {\n        headers: m,\n        data: o || void 0,\n        withCredentials: f\n      };\n      return e.options.httpRequestClient(n, r, w).then(function (n) {\n        return v = n.responseText, v && s.isString(v) && (v = JSON.parse(v)), i && (v.stateToken || p.delete(u.STATE_TOKEN_KEY_NAME)), v && v.stateToken && v.expiresAt && p.set(u.STATE_TOKEN_KEY_NAME, v.stateToken, v.expiresAt, e.options.cookies), v && t.cacheResponse && h.updateStorage(r, {\n          expiresAt: Math.floor(Date.now() / 1e3) + u.DEFAULT_CACHE_DURATION,\n          response: v\n        }), v;\n      }).catch(function (t) {\n        var r = t.responseText || {};\n        if (s.isString(r)) try {\n          r = JSON.parse(r);\n        } catch (e) {\n          r = {\n            errorSummary: \"Unknown error\"\n          };\n        }\n        throw t.status >= 500 && (r.errorSummary = \"Unknown error\"), e.options.transformErrorXHR && (t = e.options.transformErrorXHR(s.clone(t))), y = new a(r, t), \"E0000011\" === y.errorCode && p.delete(u.STATE_TOKEN_KEY_NAME), y;\n      });\n    }\n\n    function o(e, t, r) {\n      t = s.isAbsoluteUrl(t) ? t : e.getIssuerOrigin() + t;\n      var o = {\n        url: t,\n        method: \"GET\"\n      };\n      return s.extend(o, r), n(e, o);\n    }\n\n    function i(e, t, r, o) {\n      t = s.isAbsoluteUrl(t) ? t : e.getIssuerOrigin() + t;\n      var i = {\n        url: t,\n        method: \"POST\",\n        args: r,\n        saveAuthnState: !0\n      };\n      return s.extend(i, o), n(e, i);\n    }\n\n    var s = r(0),\n        a = r(19),\n        u = r(2);\n    e.exports = {\n      get: o,\n      post: i,\n      httpRequest: n\n    };\n  }, function (e, t, r) {\n    var n = r(14),\n        o = r(6),\n        i = r(2),\n        s = r(1),\n        a = {};\n    a.browserHasLocalStorage = function () {\n      try {\n        var e = a.getLocalStorage();\n        return a.testStorage(e);\n      } catch (e) {\n        return !1;\n      }\n    }, a.browserHasSessionStorage = function () {\n      try {\n        var e = a.getSessionStorage();\n        return a.testStorage(e);\n      } catch (e) {\n        return !1;\n      }\n    }, a.getPKCEStorage = function (e) {\n      return a.browserHasLocalStorage() ? o(a.getLocalStorage(), i.PKCE_STORAGE_NAME) : a.browserHasSessionStorage() ? o(a.getSessionStorage(), i.PKCE_STORAGE_NAME) : o(a.getCookieStorage(e), i.PKCE_STORAGE_NAME);\n    }, a.getHttpCache = function (e) {\n      return a.browserHasLocalStorage() ? o(a.getLocalStorage(), i.CACHE_STORAGE_NAME) : a.browserHasSessionStorage() ? o(a.getSessionStorage(), i.CACHE_STORAGE_NAME) : o(a.getCookieStorage(e), i.CACHE_STORAGE_NAME);\n    }, a.getLocalStorage = function () {\n      return localStorage;\n    }, a.getSessionStorage = function () {\n      return sessionStorage;\n    }, a.getCookieStorage = function (e) {\n      var t = e.secure,\n          r = e.sameSite;\n      if (void 0 === t || void 0 === r) throw new s('getCookieStorage: \"secure\" and \"sameSite\" options must be provided');\n      return {\n        getItem: a.storage.get,\n        setItem: function (e, n) {\n          a.storage.set(e, n, \"2200-01-01T00:00:00.000Z\", {\n            secure: t,\n            sameSite: r\n          });\n        }\n      };\n    }, a.getInMemoryStorage = function () {\n      var e = {};\n      return {\n        getItem: function (t) {\n          return e[t];\n        },\n        setItem: function (t, r) {\n          e[t] = r;\n        }\n      };\n    }, a.testStorage = function (e) {\n      var t = \"okta-test-storage\";\n\n      try {\n        return e.setItem(t, t), e.removeItem(t), !0;\n      } catch (e) {\n        return !1;\n      }\n    }, a.storage = {\n      set: function (e, t, r, o) {\n        var i = o.secure,\n            u = o.sameSite;\n        if (void 0 === i || void 0 === u) throw new s('storage.set: \"secure\" and \"sameSite\" options must be provided');\n        var c = {\n          path: o.path || \"/\",\n          secure: i,\n          sameSite: u\n        };\n        return Date.parse(r) && (c.expires = new Date(r)), n.set(e, t, c), a.storage.get(e);\n      },\n      get: function (e) {\n        return n.get(e);\n      },\n      delete: function (e) {\n        return n.remove(e, {\n          path: \"/\"\n        });\n      }\n    }, e.exports = a;\n  }, function (e, t) {\n    function r(t) {\n      return \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? e.exports = r = function (e) {\n        return typeof e;\n      } : e.exports = r = function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      }, r(t);\n    }\n\n    e.exports = r;\n  }, function (e, t, r) {\n    function n(e, t) {\n      function r() {\n        var r = e.getItem(t);\n        r = r || \"{}\";\n\n        try {\n          return JSON.parse(r);\n        } catch (e) {\n          throw new o(\"Unable to parse storage string: \" + t);\n        }\n      }\n\n      function n(r) {\n        try {\n          var n = JSON.stringify(r);\n          e.setItem(t, n);\n        } catch (e) {\n          throw new o(\"Unable to set storage: \" + t);\n        }\n      }\n\n      function i(e) {\n        if (!e) return n({});\n        var t = r();\n        delete t[e], n(t);\n      }\n\n      function s(e, t) {\n        var o = r();\n        o[e] = t, n(o);\n      }\n\n      if (\"string\" != typeof t || !t.length) throw new o('\"storageName\" is required');\n      return {\n        getStorage: r,\n        setStorage: n,\n        clearStorage: i,\n        updateStorage: s\n      };\n    }\n\n    var o = r(1);\n    e.exports = n;\n  }, function (e, t, r) {\n    e.exports = r(16);\n  }, function (e, t) {\n    function r(e, t, r, n, o, i, s) {\n      try {\n        var a = e[i](s),\n            u = a.value;\n      } catch (e) {\n        return void r(e);\n      }\n\n      a.done ? t(u) : Promise.resolve(u).then(n, o);\n    }\n\n    function n(e) {\n      return function () {\n        var t = this,\n            n = arguments;\n        return new Promise(function (o, i) {\n          function s(e) {\n            r(u, o, i, s, a, \"next\", e);\n          }\n\n          function a(e) {\n            r(u, o, i, s, a, \"throw\", e);\n          }\n\n          var u = e.apply(t, n);\n          s(void 0);\n        });\n      };\n    }\n\n    e.exports = n;\n  }, function (e, t, r) {\n    function n(e, t) {\n      var r = {};\n      return y.extend(r, t), !r.stateToken && e.stateToken && (r.stateToken = e.stateToken), r;\n    }\n\n    function o(e) {\n      return n(e);\n    }\n\n    function i(e, t) {\n      return t = n(e, t), m.post(e, e.getIssuerOrigin() + \"/api/v1/authn\", t);\n    }\n\n    function s(e, t) {\n      if (!t || !t.stateToken) {\n        var r = e.tx.exists._get(k.STATE_TOKEN_KEY_NAME);\n\n        if (!r) return Promise.reject(new v(\"No transaction to resume\"));\n        t = {\n          stateToken: r\n        };\n      }\n\n      return e.tx.status(t).then(function (t) {\n        return new g(e, t);\n      });\n    }\n\n    function a(e, t) {\n      if (!t || !t.stateToken) {\n        var r = e.tx.exists._get(k.STATE_TOKEN_KEY_NAME);\n\n        if (!r) return Promise.reject(new v(\"No transaction to evaluate\"));\n        t = {\n          stateToken: r\n        };\n      }\n\n      return u(e, t).then(function (t) {\n        return new g(e, t);\n      });\n    }\n\n    function u(e, t) {\n      return t = n(e, t), m.post(e, e.getIssuerOrigin() + \"/api/v1/authn/introspect\", t);\n    }\n\n    function c(e) {\n      return !!e.tx.exists._get(k.STATE_TOKEN_KEY_NAME);\n    }\n\n    function f(e, t, r, n) {\n      return m.post(e, t, r, n).then(function (t) {\n        return new g(e, t);\n      });\n    }\n\n    function l(e, t, r) {\n      return function (n) {\n        function i() {\n          var r = {};\n          if (\"function\" == typeof u) try {\n            r.autoPush = !!u();\n          } catch (e) {\n            return Promise.reject(new v(\"AutoPush resulted in an error.\"));\n          } else void 0 !== u && null !== u && (r.autoPush = !!u);\n          if (\"function\" == typeof a) try {\n            r.rememberDevice = !!a();\n          } catch (e) {\n            return Promise.reject(new v(\"RememberDevice resulted in an error.\"));\n          } else void 0 !== a && null !== a && (r.rememberDevice = !!a);\n          var n = f.href + y.toQueryParams(r);\n          return m.post(e, n, o(t), {\n            saveAuthnState: !1\n          });\n        }\n\n        var s, a, u, c;\n        y.isNumber(n) ? s = n : y.isObject(n) && (s = n.delay, a = n.rememberDevice, u = n.autoPush, c = n.transactionCallBack), s || 0 === s || (s = k.DEFAULT_POLLING_DELAY);\n        var f = y.getLink(t, \"next\", \"poll\");\n        r.isPolling = !0;\n        var l = 0;\n        return function t() {\n          return r.isPolling ? i().then(function (n) {\n            if (l = 0, n.factorResult && \"WAITING\" === n.factorResult) {\n              if (!r.isPolling) throw new w();\n              return \"function\" == typeof c && c(n), y.delay(s).then(t);\n            }\n\n            return r.isPolling = !1, new g(e, n);\n          }).catch(function (e) {\n            if (e.xhr && (0 === e.xhr.status || 429 === e.xhr.status) && l <= 4) {\n              var r = 1e3 * Math.pow(2, l);\n              return l++, y.delay(r).then(t);\n            }\n\n            throw e;\n          }) : Promise.reject(new w());\n        }().catch(function (e) {\n          throw r.isPolling = !1, e;\n        });\n      };\n    }\n\n    function p(e, t, r, o, i) {\n      if (Array.isArray(o)) return function (n, s) {\n        if (!n) throw new v(\"Must provide a link name\");\n        var a = y.find(o, {\n          name: n\n        });\n        if (!a) throw new v(\"No link found for that name\");\n        return p(e, t, r, a, i)(s);\n      };\n\n      if (o.hints && o.hints.allow && 1 === o.hints.allow.length) {\n        switch (o.hints.allow[0]) {\n          case \"GET\":\n            return function () {\n              return m.get(e, o.href);\n            };\n\n          case \"POST\":\n            return function (s) {\n              i && i.isPolling && (i.isPolling = !1);\n              var a = n(t, s);\n              \"MFA_ENROLL\" !== t.status && \"FACTOR_ENROLL\" !== t.status || y.extend(a, {\n                factorType: r.factorType,\n                provider: r.provider\n              });\n              var u = {},\n                  c = a.autoPush;\n\n              if (void 0 !== c) {\n                if (\"function\" == typeof c) try {\n                  u.autoPush = !!c();\n                } catch (e) {\n                  return Promise.reject(new v(\"AutoPush resulted in an error.\"));\n                } else null !== c && (u.autoPush = !!c);\n                a = y.omit(a, \"autoPush\");\n              }\n\n              var l = a.rememberDevice;\n\n              if (void 0 !== l) {\n                if (\"function\" == typeof l) try {\n                  u.rememberDevice = !!l();\n                } catch (e) {\n                  return Promise.reject(new v(\"RememberDevice resulted in an error.\"));\n                } else null !== l && (u.rememberDevice = !!l);\n                a = y.omit(a, \"rememberDevice\");\n              } else a.profile && void 0 !== a.profile.updatePhone && (a.profile.updatePhone && (u.updatePhone = !0), a.profile = y.omit(a.profile, \"updatePhone\"));\n\n              var p = o.href + y.toQueryParams(u);\n              return f(e, p, a);\n            };\n        }\n      }\n    }\n\n    function h(e, t, r, n) {\n      var o = {};\n\n      for (var i in r._links) if (r._links.hasOwnProperty(i)) {\n        var s = r._links[i];\n        if (\"next\" === i && (i = s.name), s.type) o[i] = s;else switch (i) {\n          case \"poll\":\n            o.poll = l(e, t, n);\n            break;\n\n          default:\n            var a = p(e, t, r, s, n);\n            a && (o[i] = a);\n        }\n      }\n\n      return o;\n    }\n\n    function d(e, t, r, n) {\n      if (r = r || t, r = y.clone(r), Array.isArray(r)) {\n        for (var o = [], i = 0, s = r.length; i < s; i++) o.push(d(e, t, r[i], n));\n\n        return o;\n      }\n\n      var a = r._embedded || {};\n\n      for (var u in a) a.hasOwnProperty(u) && (y.isObject(a[u]) || Array.isArray(a[u])) && (a[u] = d(e, t, a[u], n));\n\n      var c = h(e, t, r, n);\n      return y.extend(a, c), r = y.omit(r, \"_embedded\", \"_links\"), y.extend(r, a), r;\n    }\n\n    function g(e, t) {\n      t && (this.data = t, y.extend(this, d(e, t, t, {})), delete this.stateToken, \"RECOVERY_CHALLENGE\" !== t.status || t._links || (this.cancel = function () {\n        return Promise.resolve(new g(e));\n      }));\n    }\n\n    var m = r(3),\n        y = r(0),\n        v = r(1),\n        w = r(20),\n        k = r(2);\n    e.exports = {\n      transactionStatus: i,\n      resumeTransaction: s,\n      transactionExists: c,\n      postToTransaction: f,\n      introspect: a\n    };\n  }, function (e, t, r) {\n    function n() {\n      return m.genRandomString(64);\n    }\n\n    function o() {\n      return m.genRandomString(64);\n    }\n\n    function i(e) {\n      return !(!e || !e.accessToken && !e.idToken || !Array.isArray(e.scopes));\n    }\n\n    function s(e, t, r) {\n      e.addEventListener ? e.addEventListener(t, r) : e.attachEvent(\"on\" + t, r);\n    }\n\n    function a(e, t, r) {\n      e.removeEventListener ? e.removeEventListener(t, r) : e.detachEvent(\"on\" + t, r);\n    }\n\n    function u(e) {\n      var t = document.createElement(\"iframe\");\n      return t.style.display = \"none\", t.src = e, document.body.appendChild(t);\n    }\n\n    function c(e, t) {\n      var r = t.popupTitle || \"External Identity Provider User Authentication\",\n          n = \"toolbar=no, scrollbars=yes, resizable=yes, top=100, left=500, width=600, height=600\";\n\n      if (m.isIE11OrLess()) {\n        var o = window.open(\"/\", r, n);\n        return o.location.href = e, o;\n      }\n\n      return window.open(e, r, n);\n    }\n\n    function f(e, t) {\n      var r = t || e.options.issuer;\n      return g.get(e, r + \"/.well-known/openid-configuration\", {\n        cacheResponse: !0\n      });\n    }\n\n    function l(e, t, r) {\n      var n = y.getHttpCache(e.options.cookies);\n      return f(e, t).then(function (t) {\n        var o = t.jwks_uri,\n            i = n.getStorage(),\n            s = i[o];\n\n        if (s && Date.now() / 1e3 < s.expiresAt) {\n          var a = m.find(s.response.keys, {\n            kid: r\n          });\n          if (a) return a;\n        }\n\n        return n.clearStorage(o), g.get(e, o, {\n          cacheResponse: !0\n        }).then(function (e) {\n          var t = m.find(e.keys, {\n            kid: r\n          });\n          if (t) return t;\n          throw new v(\"The key id, \" + r + \", was not found in the server's keys\");\n        });\n      });\n    }\n\n    function p(e, t, r) {\n      var n = r.clientId,\n          o = r.issuer,\n          i = r.nonce;\n      if (!t || !o || !n) throw new v(\"The jwt, iss, and aud arguments are all required\");\n      if (i && t.nonce !== i) throw new v(\"OAuth flow response nonce doesn't match request nonce\");\n      var s = Math.floor(Date.now() / 1e3);\n      if (t.iss !== o) throw new v(\"The issuer [\" + t.iss + \"] does not match [\" + o + \"]\");\n      if (t.aud !== n) throw new v(\"The audience [\" + t.aud + \"] does not match [\" + n + \"]\");\n      if (t.iat > t.exp) throw new v(\"The JWT expired before it was issued\");\n      if (s - e.options.maxClockSkew > t.exp) throw new v(\"The JWT expired and is no longer valid\");\n      if (t.iat > s + e.options.maxClockSkew) throw new v(\"The JWT was issued in the future\");\n    }\n\n    function h(e, t) {\n      if (arguments.length > 2) throw new v('As of version 3.0, \"getOAuthUrls\" takes only a single set of options');\n      t = t || {};\n      var r = m.removeTrailingSlash(t.authorizeUrl) || e.options.authorizeUrl,\n          n = m.removeTrailingSlash(t.issuer) || e.options.issuer,\n          o = m.removeTrailingSlash(t.userinfoUrl) || e.options.userinfoUrl,\n          i = m.removeTrailingSlash(t.tokenUrl) || e.options.tokenUrl,\n          s = m.removeTrailingSlash(t.logoutUrl) || e.options.logoutUrl,\n          a = m.removeTrailingSlash(t.revokeUrl) || e.options.revokeUrl,\n          u = n.indexOf(\"/oauth2\") > 0 ? n : n + \"/oauth2\";\n      return r = r || u + \"/v1/authorize\", o = o || u + \"/v1/userinfo\", i = i || u + \"/v1/token\", a = a || u + \"/v1/revoke\", s = s || u + \"/v1/logout\", {\n        issuer: n,\n        authorizeUrl: r,\n        userinfoUrl: o,\n        tokenUrl: i,\n        revokeUrl: a,\n        logoutUrl: s\n      };\n    }\n\n    function d(e) {\n      var t = /\\+/g,\n          r = /([^&=]+)=?([^&]*)/g,\n          n = e;\n      \"#\" === n.charAt(0) && \"/\" === n.charAt(1) && (n = n.substring(2)), \"#\" !== n.charAt(0) && \"?\" !== n.charAt(0) || (n = n.substring(1));\n\n      for (var o, i = {};;) {\n        if (!(o = r.exec(n))) break;\n        var s = o[1],\n            a = o[2];\n        i[s] = \"id_token\" === s || \"access_token\" === s || \"code\" === s ? a : decodeURIComponent(a.replace(t, \" \"));\n      }\n\n      return i;\n    }\n\n    var g = r(3),\n        m = r(0),\n        y = r(4),\n        v = r(1);\n    e.exports = {\n      generateState: n,\n      generateNonce: o,\n      getWellKnown: f,\n      getKey: l,\n      validateClaims: p,\n      getOAuthUrls: h,\n      loadFrame: u,\n      loadPopup: c,\n      urlParamsToObject: d,\n      isToken: i,\n      addListener: s,\n      removeListener: a\n    };\n  }, function (e, t, r) {\n    var n = r(12),\n        o = r(4);\n    e.exports = r(15)(o, n);\n  }, function (e, t, r) {\n    function n(e) {\n      return e.headers.get(\"Content-Type\") && e.headers.get(\"Content-Type\").toLowerCase().indexOf(\"application/json\") >= 0 ? e.json().catch(function (e) {\n        return {\n          error: e,\n          errorSummary: \"Could not parse server response\"\n        };\n      }) : e.text();\n    }\n\n    function o(e, t) {\n      var r = \"object\" === s(t),\n          n = {\n        responseText: r ? JSON.stringify(t) : t,\n        status: e\n      };\n      return r && (n.responseType = \"json\", n.responseJSON = t), n;\n    }\n\n    function i(e, t, r) {\n      var i = r.data,\n          s = r.headers || {};\n      return \"application/json\" === (s[\"Content-Type\"] || s[\"content-type\"] || \"\") && i && \"string\" != typeof i && (i = JSON.stringify(i)), a(t, {\n        method: e,\n        headers: r.headers,\n        body: i,\n        credentials: r.withCredentials ? \"include\" : \"omit\"\n      }).then(function (e) {\n        var t = !e.ok,\n            r = e.status;\n        return n(e).then(function (e) {\n          return o(r, e);\n        }).then(function (e) {\n          if (t) throw e;\n          return e;\n        });\n      });\n    }\n\n    var s = r(5),\n        a = r(13);\n    e.exports = i;\n  }, function (e, t) {\n    var r = function (e) {\n      function t() {\n        this.fetch = !1, this.DOMException = e.DOMException;\n      }\n\n      return t.prototype = e, new t();\n    }(\"undefined\" != typeof self ? self : this);\n\n    !function (e) {\n      !function (t) {\n        function r(e) {\n          return e && DataView.prototype.isPrototypeOf(e);\n        }\n\n        function n(e) {\n          if (\"string\" != typeof e && (e = String(e)), /[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(e)) throw new TypeError(\"Invalid character in header field name\");\n          return e.toLowerCase();\n        }\n\n        function o(e) {\n          return \"string\" != typeof e && (e = String(e)), e;\n        }\n\n        function i(e) {\n          var t = {\n            next: function () {\n              var t = e.shift();\n              return {\n                done: void 0 === t,\n                value: t\n              };\n            }\n          };\n          return k.iterable && (t[Symbol.iterator] = function () {\n            return t;\n          }), t;\n        }\n\n        function s(e) {\n          this.map = {}, e instanceof s ? e.forEach(function (e, t) {\n            this.append(t, e);\n          }, this) : Array.isArray(e) ? e.forEach(function (e) {\n            this.append(e[0], e[1]);\n          }, this) : e && Object.getOwnPropertyNames(e).forEach(function (t) {\n            this.append(t, e[t]);\n          }, this);\n        }\n\n        function a(e) {\n          if (e.bodyUsed) return Promise.reject(new TypeError(\"Already read\"));\n          e.bodyUsed = !0;\n        }\n\n        function u(e) {\n          return new Promise(function (t, r) {\n            e.onload = function () {\n              t(e.result);\n            }, e.onerror = function () {\n              r(e.error);\n            };\n          });\n        }\n\n        function c(e) {\n          var t = new FileReader(),\n              r = u(t);\n          return t.readAsArrayBuffer(e), r;\n        }\n\n        function f(e) {\n          var t = new FileReader(),\n              r = u(t);\n          return t.readAsText(e), r;\n        }\n\n        function l(e) {\n          for (var t = new Uint8Array(e), r = new Array(t.length), n = 0; n < t.length; n++) r[n] = String.fromCharCode(t[n]);\n\n          return r.join(\"\");\n        }\n\n        function p(e) {\n          if (e.slice) return e.slice(0);\n          var t = new Uint8Array(e.byteLength);\n          return t.set(new Uint8Array(e)), t.buffer;\n        }\n\n        function h() {\n          return this.bodyUsed = !1, this._initBody = function (e) {\n            this._bodyInit = e, e ? \"string\" == typeof e ? this._bodyText = e : k.blob && Blob.prototype.isPrototypeOf(e) ? this._bodyBlob = e : k.formData && FormData.prototype.isPrototypeOf(e) ? this._bodyFormData = e : k.searchParams && URLSearchParams.prototype.isPrototypeOf(e) ? this._bodyText = e.toString() : k.arrayBuffer && k.blob && r(e) ? (this._bodyArrayBuffer = p(e.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer])) : k.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(e) || b(e)) ? this._bodyArrayBuffer = p(e) : this._bodyText = e = Object.prototype.toString.call(e) : this._bodyText = \"\", this.headers.get(\"content-type\") || (\"string\" == typeof e ? this.headers.set(\"content-type\", \"text/plain;charset=UTF-8\") : this._bodyBlob && this._bodyBlob.type ? this.headers.set(\"content-type\", this._bodyBlob.type) : k.searchParams && URLSearchParams.prototype.isPrototypeOf(e) && this.headers.set(\"content-type\", \"application/x-www-form-urlencoded;charset=UTF-8\"));\n          }, k.blob && (this.blob = function () {\n            var e = a(this);\n            if (e) return e;\n            if (this._bodyBlob) return Promise.resolve(this._bodyBlob);\n            if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer]));\n            if (this._bodyFormData) throw new Error(\"could not read FormData body as blob\");\n            return Promise.resolve(new Blob([this._bodyText]));\n          }, this.arrayBuffer = function () {\n            return this._bodyArrayBuffer ? a(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(c);\n          }), this.text = function () {\n            var e = a(this);\n            if (e) return e;\n            if (this._bodyBlob) return f(this._bodyBlob);\n            if (this._bodyArrayBuffer) return Promise.resolve(l(this._bodyArrayBuffer));\n            if (this._bodyFormData) throw new Error(\"could not read FormData body as text\");\n            return Promise.resolve(this._bodyText);\n          }, k.formData && (this.formData = function () {\n            return this.text().then(m);\n          }), this.json = function () {\n            return this.text().then(JSON.parse);\n          }, this;\n        }\n\n        function d(e) {\n          var t = e.toUpperCase();\n          return S.indexOf(t) > -1 ? t : e;\n        }\n\n        function g(e, t) {\n          t = t || {};\n          var r = t.body;\n\n          if (e instanceof g) {\n            if (e.bodyUsed) throw new TypeError(\"Already read\");\n            this.url = e.url, this.credentials = e.credentials, t.headers || (this.headers = new s(e.headers)), this.method = e.method, this.mode = e.mode, this.signal = e.signal, r || null == e._bodyInit || (r = e._bodyInit, e.bodyUsed = !0);\n          } else this.url = String(e);\n\n          if (this.credentials = t.credentials || this.credentials || \"same-origin\", !t.headers && this.headers || (this.headers = new s(t.headers)), this.method = d(t.method || this.method || \"GET\"), this.mode = t.mode || this.mode || null, this.signal = t.signal || this.signal, this.referrer = null, (\"GET\" === this.method || \"HEAD\" === this.method) && r) throw new TypeError(\"Body not allowed for GET or HEAD requests\");\n\n          this._initBody(r);\n        }\n\n        function m(e) {\n          var t = new FormData();\n          return e.trim().split(\"&\").forEach(function (e) {\n            if (e) {\n              var r = e.split(\"=\"),\n                  n = r.shift().replace(/\\+/g, \" \"),\n                  o = r.join(\"=\").replace(/\\+/g, \" \");\n              t.append(decodeURIComponent(n), decodeURIComponent(o));\n            }\n          }), t;\n        }\n\n        function y(e) {\n          var t = new s();\n          return e.replace(/\\r?\\n[\\t ]+/g, \" \").split(/\\r?\\n/).forEach(function (e) {\n            var r = e.split(\":\"),\n                n = r.shift().trim();\n\n            if (n) {\n              var o = r.join(\":\").trim();\n              t.append(n, o);\n            }\n          }), t;\n        }\n\n        function v(e, t) {\n          t || (t = {}), this.type = \"default\", this.status = void 0 === t.status ? 200 : t.status, this.ok = this.status >= 200 && this.status < 300, this.statusText = \"statusText\" in t ? t.statusText : \"OK\", this.headers = new s(t.headers), this.url = t.url || \"\", this._initBody(e);\n        }\n\n        function w(e, r) {\n          return new Promise(function (n, o) {\n            function i() {\n              a.abort();\n            }\n\n            var s = new g(e, r);\n            if (s.signal && s.signal.aborted) return o(new t.DOMException(\"Aborted\", \"AbortError\"));\n            var a = new XMLHttpRequest();\n            a.onload = function () {\n              var e = {\n                status: a.status,\n                statusText: a.statusText,\n                headers: y(a.getAllResponseHeaders() || \"\")\n              };\n              e.url = \"responseURL\" in a ? a.responseURL : e.headers.get(\"X-Request-URL\");\n              var t = \"response\" in a ? a.response : a.responseText;\n              n(new v(t, e));\n            }, a.onerror = function () {\n              o(new TypeError(\"Network request failed\"));\n            }, a.ontimeout = function () {\n              o(new TypeError(\"Network request failed\"));\n            }, a.onabort = function () {\n              o(new t.DOMException(\"Aborted\", \"AbortError\"));\n            }, a.open(s.method, s.url, !0), \"include\" === s.credentials ? a.withCredentials = !0 : \"omit\" === s.credentials && (a.withCredentials = !1), \"responseType\" in a && k.blob && (a.responseType = \"blob\"), s.headers.forEach(function (e, t) {\n              a.setRequestHeader(t, e);\n            }), s.signal && (s.signal.addEventListener(\"abort\", i), a.onreadystatechange = function () {\n              4 === a.readyState && s.signal.removeEventListener(\"abort\", i);\n            }), a.send(void 0 === s._bodyInit ? null : s._bodyInit);\n          });\n        }\n\n        var k = {\n          searchParams: \"URLSearchParams\" in e,\n          iterable: \"Symbol\" in e && \"iterator\" in Symbol,\n          blob: \"FileReader\" in e && \"Blob\" in e && function () {\n            try {\n              return new Blob(), !0;\n            } catch (e) {\n              return !1;\n            }\n          }(),\n          formData: \"FormData\" in e,\n          arrayBuffer: \"ArrayBuffer\" in e\n        };\n        if (k.arrayBuffer) var T = [\"[object Int8Array]\", \"[object Uint8Array]\", \"[object Uint8ClampedArray]\", \"[object Int16Array]\", \"[object Uint16Array]\", \"[object Int32Array]\", \"[object Uint32Array]\", \"[object Float32Array]\", \"[object Float64Array]\"],\n            b = ArrayBuffer.isView || function (e) {\n          return e && T.indexOf(Object.prototype.toString.call(e)) > -1;\n        };\n        s.prototype.append = function (e, t) {\n          e = n(e), t = o(t);\n          var r = this.map[e];\n          this.map[e] = r ? r + \", \" + t : t;\n        }, s.prototype.delete = function (e) {\n          delete this.map[n(e)];\n        }, s.prototype.get = function (e) {\n          return e = n(e), this.has(e) ? this.map[e] : null;\n        }, s.prototype.has = function (e) {\n          return this.map.hasOwnProperty(n(e));\n        }, s.prototype.set = function (e, t) {\n          this.map[n(e)] = o(t);\n        }, s.prototype.forEach = function (e, t) {\n          for (var r in this.map) this.map.hasOwnProperty(r) && e.call(t, this.map[r], r, this);\n        }, s.prototype.keys = function () {\n          var e = [];\n          return this.forEach(function (t, r) {\n            e.push(r);\n          }), i(e);\n        }, s.prototype.values = function () {\n          var e = [];\n          return this.forEach(function (t) {\n            e.push(t);\n          }), i(e);\n        }, s.prototype.entries = function () {\n          var e = [];\n          return this.forEach(function (t, r) {\n            e.push([r, t]);\n          }), i(e);\n        }, k.iterable && (s.prototype[Symbol.iterator] = s.prototype.entries);\n        var S = [\"DELETE\", \"GET\", \"HEAD\", \"OPTIONS\", \"POST\", \"PUT\"];\n        g.prototype.clone = function () {\n          return new g(this, {\n            body: this._bodyInit\n          });\n        }, h.call(g.prototype), h.call(v.prototype), v.prototype.clone = function () {\n          return new v(this._bodyInit, {\n            status: this.status,\n            statusText: this.statusText,\n            headers: new s(this.headers),\n            url: this.url\n          });\n        }, v.error = function () {\n          var e = new v(null, {\n            status: 0,\n            statusText: \"\"\n          });\n          return e.type = \"error\", e;\n        };\n        var A = [301, 302, 303, 307, 308];\n        v.redirect = function (e, t) {\n          if (-1 === A.indexOf(t)) throw new RangeError(\"Invalid status code\");\n          return new v(null, {\n            status: t,\n            headers: {\n              location: e\n            }\n          });\n        }, t.DOMException = e.DOMException;\n\n        try {\n          new t.DOMException();\n        } catch (e) {\n          t.DOMException = function (e, t) {\n            this.message = e, this.name = t;\n            var r = Error(e);\n            this.stack = r.stack;\n          }, t.DOMException.prototype = Object.create(Error.prototype), t.DOMException.prototype.constructor = t.DOMException;\n        }\n\n        w.polyfill = !0, e.fetch || (e.fetch = w, e.Headers = s, e.Request = g, e.Response = v), t.Headers = s, t.Request = g, t.Response = v, t.fetch = w;\n      }({});\n    }(r), delete r.fetch.polyfill, t = r.fetch, t.default = r.fetch, t.fetch = r.fetch, t.Headers = r.Headers, t.Request = r.Request, t.Response = r.Response, e.exports = t;\n  }, function (e, t, r) {\n    var n, o;\n    !function (i) {\n      var s = !1;\n\n      if (n = i, void 0 !== (o = \"function\" == typeof n ? n.call(t, r, t, e) : n) && (e.exports = o), s = !0, e.exports = i(), s = !0, !s) {\n        var a = window.Cookies,\n            u = window.Cookies = i();\n\n        u.noConflict = function () {\n          return window.Cookies = a, u;\n        };\n      }\n    }(function () {\n      function e() {\n        for (var e = 0, t = {}; e < arguments.length; e++) {\n          var r = arguments[e];\n\n          for (var n in r) t[n] = r[n];\n        }\n\n        return t;\n      }\n\n      function t(r) {\n        function n(t, o, i) {\n          var s;\n\n          if (\"undefined\" != typeof document) {\n            if (arguments.length > 1) {\n              if (i = e({\n                path: \"/\"\n              }, n.defaults, i), \"number\" == typeof i.expires) {\n                var a = new Date();\n                a.setMilliseconds(a.getMilliseconds() + 864e5 * i.expires), i.expires = a;\n              }\n\n              i.expires = i.expires ? i.expires.toUTCString() : \"\";\n\n              try {\n                s = JSON.stringify(o), /^[\\{\\[]/.test(s) && (o = s);\n              } catch (e) {}\n\n              o = r.write ? r.write(o, t) : encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), t = encodeURIComponent(String(t)), t = t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent), t = t.replace(/[\\(\\)]/g, escape);\n              var u = \"\";\n\n              for (var c in i) i[c] && (u += \"; \" + c, !0 !== i[c] && (u += \"=\" + i[c]));\n\n              return document.cookie = t + \"=\" + o + u;\n            }\n\n            t || (s = {});\n\n            for (var f = document.cookie ? document.cookie.split(\"; \") : [], l = /(%[0-9A-Z]{2})+/g, p = 0; p < f.length; p++) {\n              var h = f[p].split(\"=\"),\n                  d = h.slice(1).join(\"=\");\n              this.json || '\"' !== d.charAt(0) || (d = d.slice(1, -1));\n\n              try {\n                var g = h[0].replace(l, decodeURIComponent);\n                if (d = r.read ? r.read(d, g) : r(d, g) || d.replace(l, decodeURIComponent), this.json) try {\n                  d = JSON.parse(d);\n                } catch (e) {}\n\n                if (t === g) {\n                  s = d;\n                  break;\n                }\n\n                t || (s[g] = d);\n              } catch (e) {}\n            }\n\n            return s;\n          }\n        }\n\n        return n.set = n, n.get = function (e) {\n          return n.call(n, e);\n        }, n.getJSON = function () {\n          return n.apply({\n            json: !0\n          }, [].slice.call(arguments));\n        }, n.defaults = {}, n.remove = function (t, r) {\n          n(t, \"\", e(r, {\n            expires: -1\n          }));\n        }, n.withConverter = t, n;\n      }\n\n      return t(function () {});\n    });\n  }, function (e, t, r) {\n    function n(e) {\n      var t = this;\n      u.assertValidConfig(e);\n      var r = y.extend({\n        secure: !0\n      }, e.cookies);\n      if (t.features.isLocalhost() && !t.features.isHTTPS() && (r.secure = !1), void 0 === r.sameSite && (r.sameSite = r.secure ? \"none\" : \"lax\"), r.secure && !t.features.isHTTPS()) throw new a('The current page is not being served with the HTTPS protocol.\\nFor security reasons, we strongly recommend using HTTPS.\\nIf you cannot use HTTPS, set \"cookies.secure\" option to false.');\n\n      if (this.options = {\n        clientId: e.clientId,\n        issuer: y.removeTrailingSlash(e.issuer),\n        authorizeUrl: y.removeTrailingSlash(e.authorizeUrl),\n        userinfoUrl: y.removeTrailingSlash(e.userinfoUrl),\n        tokenUrl: y.removeTrailingSlash(e.tokenUrl),\n        revokeUrl: y.removeTrailingSlash(e.revokeUrl),\n        logoutUrl: y.removeTrailingSlash(e.logoutUrl),\n        pkce: !1 !== e.pkce,\n        redirectUri: e.redirectUri,\n        postLogoutRedirectUri: e.postLogoutRedirectUri,\n        responseMode: e.responseMode,\n        httpRequestClient: e.httpRequestClient,\n        storageUtil: e.storageUtil,\n        transformErrorXHR: e.transformErrorXHR,\n        headers: e.headers,\n        onSessionExpired: e.onSessionExpired,\n        cookies: r\n      }, this.options.pkce && !t.features.isPKCESupported()) {\n        var n = \"PKCE requires a modern browser with encryption support running in a secure context.\";\n        throw t.features.isHTTPS() || (n += \"\\nThe current page is not being served with HTTPS protocol. Try using HTTPS.\"), t.features.hasTextEncoder() || (n += '\\n\"TextEncoder\" is not defined. You may need a polyfill/shim for this browser.'), new a(n);\n      }\n\n      this.userAgent = u.getUserAgent(e, \"3.1.0\") || \"okta-auth-js-3.1.0\", e.maxClockSkew || 0 === e.maxClockSkew ? this.options.maxClockSkew = e.maxClockSkew : this.options.maxClockSkew = c.DEFAULT_MAX_CLOCK_SKEW, this.options.ignoreSignature = !!e.ignoreSignature, t.session = {\n        close: y.bind(h.closeSession, null, t),\n        exists: y.bind(h.sessionExists, null, t),\n        get: y.bind(h.getSession, null, t),\n        refresh: y.bind(h.refreshSession, null, t),\n        setCookieAndRedirect: y.bind(h.setCookieAndRedirect, null, t)\n      }, t.tx = {\n        status: y.bind(m.transactionStatus, null, t),\n        resume: y.bind(m.resumeTransaction, null, t),\n        exists: y.bind(m.transactionExists, null, t),\n        introspect: y.bind(m.introspect, null, t)\n      }, t.tx.exists._get = function (e) {\n        return f.get(e);\n      }, t.idToken = {\n        authorize: {\n          _getLocationHref: function () {\n            return window.location.href;\n          }\n        }\n      }, t.token = {\n        getWithoutPrompt: y.bind(d.getWithoutPrompt, null, t),\n        getWithPopup: y.bind(d.getWithPopup, null, t),\n        getWithRedirect: y.bind(d.getWithRedirect, null, t),\n        parseFromUrl: y.bind(d.parseFromUrl, null, t),\n        decode: d.decodeToken,\n        revoke: y.bind(d.revokeToken, null, t),\n        renew: y.bind(d.renewToken, null, t),\n        getUserInfo: y.bind(d.getUserInfo, null, t),\n        verify: y.bind(d.verifyToken, null, t)\n      }, t.token.getWithRedirect._setLocation = function (e) {\n        window.location = e;\n      }, t.token.parseFromUrl._getHistory = function () {\n        return window.history;\n      }, t.token.parseFromUrl._getLocation = function () {\n        return window.location;\n      }, t.token.parseFromUrl._getDocument = function () {\n        return window.document;\n      }, t.fingerprint._getUserAgent = function () {\n        return navigator.userAgent;\n      };\n      var o = /windows phone|iemobile|wpdesktop/i;\n      t.features.isFingerprintSupported = function () {\n        var e = t.fingerprint._getUserAgent();\n\n        return e && !o.test(e);\n      }, t.emitter = new s(), t.tokenManager = new g(t, e.tokenManager), t.tokenManager.on(\"error\", this._onTokenManagerError, this);\n    }\n\n    var o = r(7),\n        i = r(8),\n        s = r(17),\n        a = r(1),\n        u = r(18),\n        c = r(2),\n        f = r(4).storage,\n        l = r(3),\n        p = r(10),\n        h = r(21),\n        d = r(22),\n        g = r(26),\n        m = r(9),\n        y = r(0),\n        v = n.prototype;\n    v._onTokenManagerError = function (e) {\n      \"login_required\" === e.errorCode && e.accessToken && (this.options.onSessionExpired ? this.options.onSessionExpired() : console.error(\"Session has expired or was closed outside the application.\"));\n    }, v.features = {}, v.features.isPopupPostMessageSupported = function () {\n      var e = document.documentMode && document.documentMode < 10;\n      return !(!window.postMessage || e);\n    }, v.features.isTokenVerifySupported = function () {\n      return \"undefined\" != typeof crypto && crypto.subtle && \"undefined\" != typeof Uint8Array;\n    }, v.features.hasTextEncoder = function () {\n      return \"undefined\" != typeof TextEncoder;\n    }, v.features.isPKCESupported = function () {\n      return v.features.isTokenVerifySupported() && v.features.hasTextEncoder();\n    }, v.features.isHTTPS = function () {\n      return \"https:\" === window.location.protocol;\n    }, v.features.isLocalhost = function () {\n      return \"localhost\" === window.location.hostname;\n    }, v.signIn = function (e) {\n      function t(t) {\n        return delete e.sendFingerprint, m.postToTransaction(r, \"/api/v1/authn\", e, t);\n      }\n\n      var r = this;\n      return e = y.clone(e || {}), e.sendFingerprint ? r.fingerprint().then(function (e) {\n        return t({\n          headers: {\n            \"X-Device-Fingerprint\": e\n          }\n        });\n      }) : t();\n    }, v.closeSession = function () {\n      var e = this;\n      return e.tokenManager.clear(), e.session.close().catch(function (e) {\n        if (\"AuthApiError\" !== e.name || \"E0000007\" !== e.errorCode) throw e;\n      });\n    }, v.revokeAccessToken = function () {\n      function e(e) {\n        return t.apply(this, arguments);\n      }\n\n      var t = i(o.mark(function e(t) {\n        var r;\n        return o.wrap(function (e) {\n          for (;;) switch (e.prev = e.next) {\n            case 0:\n              if (r = this, t) {\n                e.next = 5;\n                break;\n              }\n\n              return e.next = 4, r.tokenManager.get(\"accessToken\");\n\n            case 4:\n              t = e.sent;\n\n            case 5:\n              if (t) {\n                e.next = 7;\n                break;\n              }\n\n              return e.abrupt(\"return\", Promise.resolve());\n\n            case 7:\n              return e.abrupt(\"return\", r.token.revoke(t));\n\n            case 8:\n            case \"end\":\n              return e.stop();\n          }\n        }, e, this);\n      }));\n      return e;\n    }(), v.signOut = function () {\n      var e = i(o.mark(function e(t) {\n        var r, n, i, s, a, u, c, f, l, h;\n        return o.wrap(function (e) {\n          for (;;) switch (e.prev = e.next) {\n            case 0:\n              if (t = y.extend({}, t), r = window.location.origin, n = t.postLogoutRedirectUri || this.options.postLogoutRedirectUri || r, i = t.accessToken, s = !1 !== t.revokeAccessToken, a = t.idToken, u = this, c = p.getOAuthUrls(u).logoutUrl, void 0 !== a) {\n                e.next = 12;\n                break;\n              }\n\n              return e.next = 11, u.tokenManager.get(\"idToken\");\n\n            case 11:\n              a = e.sent;\n\n            case 12:\n              if (!s || void 0 !== i) {\n                e.next = 16;\n                break;\n              }\n\n              return e.next = 15, u.tokenManager.get(\"token\");\n\n            case 15:\n              i = e.sent;\n\n            case 16:\n              if (u.tokenManager.clear(), !s || !i) {\n                e.next = 20;\n                break;\n              }\n\n              return e.next = 20, u.revokeAccessToken(i);\n\n            case 20:\n              if (a) {\n                e.next = 22;\n                break;\n              }\n\n              return e.abrupt(\"return\", u.closeSession().then(function () {\n                n === r ? window.location.reload() : window.location.assign(n);\n              }));\n\n            case 22:\n              f = t.state, l = a.idToken, h = c + \"?id_token_hint=\" + encodeURIComponent(l) + \"&post_logout_redirect_uri=\" + encodeURIComponent(n), f && (h += \"&state=\" + encodeURIComponent(f)), window.location.assign(h);\n\n            case 27:\n            case \"end\":\n              return e.stop();\n          }\n        }, e, this);\n      }));\n      return function (t) {\n        return e.apply(this, arguments);\n      };\n    }(), u.addSharedPrototypes(v), v.webfinger = function (e) {\n      var t = \"/.well-known/webfinger\" + y.toQueryParams(e),\n          r = {\n        headers: {\n          Accept: \"application/jrd+json\"\n        }\n      };\n      return l.get(this, t, r);\n    }, v.fingerprint = function (e) {\n      e = e || {};\n      var t = this;\n      if (!t.features.isFingerprintSupported()) return Promise.reject(new a(\"Fingerprinting is not supported on this device\"));\n      var r, n, o;\n      return new Promise(function (i, s) {\n        n = document.createElement(\"iframe\"), n.style.display = \"none\", o = function (e) {\n          if (e && e.data && e.origin === t.getIssuerOrigin()) {\n            try {\n              var r = JSON.parse(e.data);\n            } catch (e) {\n              return s(new a(\"Unable to parse iframe response\"));\n            }\n\n            if (r) return \"FingerprintAvailable\" === r.type ? i(r.fingerprint) : void (\"FingerprintServiceReady\" === r.type && e.source.postMessage(JSON.stringify({\n              type: \"GetFingerprint\"\n            }), e.origin));\n          }\n        }, p.addListener(window, \"message\", o), n.src = t.getIssuerOrigin() + \"/auth/services/devicefingerprint\", document.body.appendChild(n), r = setTimeout(function () {\n          s(new a(\"Fingerprinting timed out\"));\n        }, e.timeout || 15e3);\n      }).finally(function () {\n        clearTimeout(r), p.removeListener(window, \"message\", o), document.body.contains(n) && n.parentElement.removeChild(n);\n      });\n    }, e.exports = u.buildOktaAuth(n);\n  }, function (e, t, r) {\n    var n = function (e) {\n      \"use strict\";\n\n      function t(e, t, r, o) {\n        var i = t && t.prototype instanceof n ? t : n,\n            s = Object.create(i.prototype),\n            a = new p(o || []);\n        return s._invoke = u(e, r, a), s;\n      }\n\n      function r(e, t, r) {\n        try {\n          return {\n            type: \"normal\",\n            arg: e.call(t, r)\n          };\n        } catch (e) {\n          return {\n            type: \"throw\",\n            arg: e\n          };\n        }\n      }\n\n      function n() {}\n\n      function o() {}\n\n      function i() {}\n\n      function s(e) {\n        [\"next\", \"throw\", \"return\"].forEach(function (t) {\n          e[t] = function (e) {\n            return this._invoke(t, e);\n          };\n        });\n      }\n\n      function a(e) {\n        function t(n, o, i, s) {\n          var a = r(e[n], e, o);\n\n          if (\"throw\" !== a.type) {\n            var u = a.arg,\n                c = u.value;\n            return c && \"object\" == typeof c && y.call(c, \"__await\") ? Promise.resolve(c.__await).then(function (e) {\n              t(\"next\", e, i, s);\n            }, function (e) {\n              t(\"throw\", e, i, s);\n            }) : Promise.resolve(c).then(function (e) {\n              u.value = e, i(u);\n            }, function (e) {\n              return t(\"throw\", e, i, s);\n            });\n          }\n\n          s(a.arg);\n        }\n\n        function n(e, r) {\n          function n() {\n            return new Promise(function (n, o) {\n              t(e, r, n, o);\n            });\n          }\n\n          return o = o ? o.then(n, n) : n();\n        }\n\n        var o;\n        this._invoke = n;\n      }\n\n      function u(e, t, n) {\n        var o = b;\n        return function (i, s) {\n          if (o === A) throw new Error(\"Generator is already running\");\n\n          if (o === E) {\n            if (\"throw\" === i) throw s;\n            return d();\n          }\n\n          for (n.method = i, n.arg = s;;) {\n            var a = n.delegate;\n\n            if (a) {\n              var u = c(a, n);\n\n              if (u) {\n                if (u === x) continue;\n                return u;\n              }\n            }\n\n            if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n              if (o === b) throw o = E, n.arg;\n              n.dispatchException(n.arg);\n            } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n            o = A;\n            var f = r(e, t, n);\n\n            if (\"normal\" === f.type) {\n              if (o = n.done ? E : S, f.arg === x) continue;\n              return {\n                value: f.arg,\n                done: n.done\n              };\n            }\n\n            \"throw\" === f.type && (o = E, n.method = \"throw\", n.arg = f.arg);\n          }\n        };\n      }\n\n      function c(e, t) {\n        var n = e.iterator[t.method];\n\n        if (n === g) {\n          if (t.delegate = null, \"throw\" === t.method) {\n            if (e.iterator.return && (t.method = \"return\", t.arg = g, c(e, t), \"throw\" === t.method)) return x;\n            t.method = \"throw\", t.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n          }\n\n          return x;\n        }\n\n        var o = r(n, e.iterator, t.arg);\n        if (\"throw\" === o.type) return t.method = \"throw\", t.arg = o.arg, t.delegate = null, x;\n        var i = o.arg;\n        return i ? i.done ? (t[e.resultName] = i.value, t.next = e.nextLoc, \"return\" !== t.method && (t.method = \"next\", t.arg = g), t.delegate = null, x) : i : (t.method = \"throw\", t.arg = new TypeError(\"iterator result is not an object\"), t.delegate = null, x);\n      }\n\n      function f(e) {\n        var t = {\n          tryLoc: e[0]\n        };\n        1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t);\n      }\n\n      function l(e) {\n        var t = e.completion || {};\n        t.type = \"normal\", delete t.arg, e.completion = t;\n      }\n\n      function p(e) {\n        this.tryEntries = [{\n          tryLoc: \"root\"\n        }], e.forEach(f, this), this.reset(!0);\n      }\n\n      function h(e) {\n        if (e) {\n          var t = e[w];\n          if (t) return t.call(e);\n          if (\"function\" == typeof e.next) return e;\n\n          if (!isNaN(e.length)) {\n            var r = -1,\n                n = function t() {\n              for (; ++r < e.length;) if (y.call(e, r)) return t.value = e[r], t.done = !1, t;\n\n              return t.value = g, t.done = !0, t;\n            };\n\n            return n.next = n;\n          }\n        }\n\n        return {\n          next: d\n        };\n      }\n\n      function d() {\n        return {\n          value: g,\n          done: !0\n        };\n      }\n\n      var g,\n          m = Object.prototype,\n          y = m.hasOwnProperty,\n          v = \"function\" == typeof Symbol ? Symbol : {},\n          w = v.iterator || \"@@iterator\",\n          k = v.asyncIterator || \"@@asyncIterator\",\n          T = v.toStringTag || \"@@toStringTag\";\n      e.wrap = t;\n      var b = \"suspendedStart\",\n          S = \"suspendedYield\",\n          A = \"executing\",\n          E = \"completed\",\n          x = {},\n          _ = {};\n\n      _[w] = function () {\n        return this;\n      };\n\n      var O = Object.getPrototypeOf,\n          U = O && O(O(h([])));\n      U && U !== m && y.call(U, w) && (_ = U);\n      var P = i.prototype = n.prototype = Object.create(_);\n      return o.prototype = P.constructor = i, i.constructor = o, i[T] = o.displayName = \"GeneratorFunction\", e.isGeneratorFunction = function (e) {\n        var t = \"function\" == typeof e && e.constructor;\n        return !!t && (t === o || \"GeneratorFunction\" === (t.displayName || t.name));\n      }, e.mark = function (e) {\n        return Object.setPrototypeOf ? Object.setPrototypeOf(e, i) : (e.__proto__ = i, T in e || (e[T] = \"GeneratorFunction\")), e.prototype = Object.create(P), e;\n      }, e.awrap = function (e) {\n        return {\n          __await: e\n        };\n      }, s(a.prototype), a.prototype[k] = function () {\n        return this;\n      }, e.AsyncIterator = a, e.async = function (r, n, o, i) {\n        var s = new a(t(r, n, o, i));\n        return e.isGeneratorFunction(n) ? s : s.next().then(function (e) {\n          return e.done ? e.value : s.next();\n        });\n      }, s(P), P[T] = \"Generator\", P[w] = function () {\n        return this;\n      }, P.toString = function () {\n        return \"[object Generator]\";\n      }, e.keys = function (e) {\n        var t = [];\n\n        for (var r in e) t.push(r);\n\n        return t.reverse(), function r() {\n          for (; t.length;) {\n            var n = t.pop();\n            if (n in e) return r.value = n, r.done = !1, r;\n          }\n\n          return r.done = !0, r;\n        };\n      }, e.values = h, p.prototype = {\n        constructor: p,\n        reset: function (e) {\n          if (this.prev = 0, this.next = 0, this.sent = this._sent = g, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = g, this.tryEntries.forEach(l), !e) for (var t in this) \"t\" === t.charAt(0) && y.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = g);\n        },\n        stop: function () {\n          this.done = !0;\n          var e = this.tryEntries[0],\n              t = e.completion;\n          if (\"throw\" === t.type) throw t.arg;\n          return this.rval;\n        },\n        dispatchException: function (e) {\n          function t(t, n) {\n            return i.type = \"throw\", i.arg = e, r.next = t, n && (r.method = \"next\", r.arg = g), !!n;\n          }\n\n          if (this.done) throw e;\n\n          for (var r = this, n = this.tryEntries.length - 1; n >= 0; --n) {\n            var o = this.tryEntries[n],\n                i = o.completion;\n            if (\"root\" === o.tryLoc) return t(\"end\");\n\n            if (o.tryLoc <= this.prev) {\n              var s = y.call(o, \"catchLoc\"),\n                  a = y.call(o, \"finallyLoc\");\n\n              if (s && a) {\n                if (this.prev < o.catchLoc) return t(o.catchLoc, !0);\n                if (this.prev < o.finallyLoc) return t(o.finallyLoc);\n              } else if (s) {\n                if (this.prev < o.catchLoc) return t(o.catchLoc, !0);\n              } else {\n                if (!a) throw new Error(\"try statement without catch or finally\");\n                if (this.prev < o.finallyLoc) return t(o.finallyLoc);\n              }\n            }\n          }\n        },\n        abrupt: function (e, t) {\n          for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n            var n = this.tryEntries[r];\n\n            if (n.tryLoc <= this.prev && y.call(n, \"finallyLoc\") && this.prev < n.finallyLoc) {\n              var o = n;\n              break;\n            }\n          }\n\n          o && (\"break\" === e || \"continue\" === e) && o.tryLoc <= t && t <= o.finallyLoc && (o = null);\n          var i = o ? o.completion : {};\n          return i.type = e, i.arg = t, o ? (this.method = \"next\", this.next = o.finallyLoc, x) : this.complete(i);\n        },\n        complete: function (e, t) {\n          if (\"throw\" === e.type) throw e.arg;\n          return \"break\" === e.type || \"continue\" === e.type ? this.next = e.arg : \"return\" === e.type ? (this.rval = this.arg = e.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === e.type && t && (this.next = t), x;\n        },\n        finish: function (e) {\n          for (var t = this.tryEntries.length - 1; t >= 0; --t) {\n            var r = this.tryEntries[t];\n            if (r.finallyLoc === e) return this.complete(r.completion, r.afterLoc), l(r), x;\n          }\n        },\n        catch: function (e) {\n          for (var t = this.tryEntries.length - 1; t >= 0; --t) {\n            var r = this.tryEntries[t];\n\n            if (r.tryLoc === e) {\n              var n = r.completion;\n\n              if (\"throw\" === n.type) {\n                var o = n.arg;\n                l(r);\n              }\n\n              return o;\n            }\n          }\n\n          throw new Error(\"illegal catch attempt\");\n        },\n        delegateYield: function (e, t, r) {\n          return this.delegate = {\n            iterator: h(e),\n            resultName: t,\n            nextLoc: r\n          }, \"next\" === this.method && (this.arg = g), x;\n        }\n      }, e;\n    }(e.exports);\n\n    try {\n      regeneratorRuntime = n;\n    } catch (e) {\n      Function(\"r\", \"regeneratorRuntime = r\")(n);\n    }\n  }, function (e, t) {\n    function r() {}\n\n    r.prototype = {\n      on: function (e, t, r) {\n        var n = this.e || (this.e = {});\n        return (n[e] || (n[e] = [])).push({\n          fn: t,\n          ctx: r\n        }), this;\n      },\n      once: function (e, t, r) {\n        function n() {\n          o.off(e, n), t.apply(r, arguments);\n        }\n\n        var o = this;\n        return n._ = t, this.on(e, n, r);\n      },\n      emit: function (e) {\n        var t = [].slice.call(arguments, 1),\n            r = ((this.e || (this.e = {}))[e] || []).slice(),\n            n = 0,\n            o = r.length;\n\n        for (n; n < o; n++) r[n].fn.apply(r[n].ctx, t);\n\n        return this;\n      },\n      off: function (e, t) {\n        var r = this.e || (this.e = {}),\n            n = r[e],\n            o = [];\n        if (n && t) for (var i = 0, s = n.length; i < s; i++) n[i].fn !== t && n[i].fn._ !== t && o.push(n[i]);\n        return o.length ? r[e] = o : delete r[e], this;\n      }\n    }, e.exports = r;\n  }, function (e, t, r) {\n    function n(e) {\n      if (!e) throw new a(\"No arguments passed to constructor. Required usage: new OktaAuth(args)\");\n      var t = e.issuer;\n      if (!t) throw new a('No issuer passed to constructor. Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n      if (!new RegExp(\"^http?s?://.+\").test(e.issuer)) throw new a('Issuer must be a valid URL. Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n      if (-1 !== t.indexOf(\"-admin.\")) throw new a('Issuer URL passed to constructor contains \"-admin\" in subdomain. Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com})');\n      var r = e.userAgent;\n      if (r && r.template && -1 === r.template.indexOf(\"$OKTA_AUTH_JS\")) throw new a('UserAgentTemplate must include \"$OKTA_AUTH_JS\" placeholder. Required usage: new OktaAuth({userAgentTemplate: \"xxx $OKTA_AUTH_JS xxx\"})');\n    }\n\n    function o(e) {\n      e.getIssuerOrigin = function () {\n        return this.options.issuer.split(\"/oauth2/\")[0];\n      }, e.forgotPassword = function (e) {\n        return u.postToTransaction(this, \"/api/v1/authn/recovery/password\", e);\n      }, e.unlockAccount = function (e) {\n        return u.postToTransaction(this, \"/api/v1/authn/recovery/unlock\", e);\n      }, e.verifyRecoveryToken = function (e) {\n        return u.postToTransaction(this, \"/api/v1/authn/recovery/token\", e);\n      };\n    }\n\n    function i(e) {\n      return function (t, r) {\n        function n(o) {\n          if (!(this instanceof n)) return new n(o);\n          o && (o.storageUtil = t, o.ajaxRequest ? (c.deprecate(\"ajaxRequest is being deprecated, use httpRequestClient attribute instead.\"), o.httpRequestClient = o.ajaxRequest) : o.httpRequestClient || (o.httpRequestClient = r)), c.bind(e, this)(o);\n        }\n\n        return n.prototype = e.prototype, n.prototype.constructor = n, n.features = e.prototype.features, n;\n      };\n    }\n\n    function s(e, t) {\n      var r = e.userAgent;\n      return r ? r.value ? r.value : r.template ? r.template.replace(\"$OKTA_AUTH_JS\", \"okta-auth-js/\".concat(t)) : \"\" : \"\";\n    }\n\n    var a = r(1),\n        u = r(9),\n        c = r(0);\n    e.exports = {\n      addSharedPrototypes: o,\n      buildOktaAuth: i,\n      assertValidConfig: n,\n      getUserAgent: s\n    };\n  }, function (e, t) {\n    function r(e, t) {\n      this.name = \"AuthApiError\", this.message = e.errorSummary, this.errorSummary = e.errorSummary, this.errorCode = e.errorCode, this.errorLink = e.errorLink, this.errorId = e.errorId, this.errorCauses = e.errorCauses, t && (this.xhr = t);\n    }\n\n    r.prototype = new Error(), e.exports = r;\n  }, function (e, t) {\n    function r() {\n      this.name = \"AuthPollStopError\", this.message = \"The poll was stopped by the sdk\";\n    }\n\n    r.prototype = new Error(), e.exports = r;\n  }, function (e, t, r) {\n    function n(e) {\n      return e.session.get().then(function (e) {\n        return \"ACTIVE\" === e.status;\n      }).catch(function () {\n        return !1;\n      });\n    }\n\n    function o(e) {\n      return c.get(e, \"/api/v1/sessions/me\").then(function (t) {\n        var r = u.omit(t, \"_links\");\n        return r.refresh = function () {\n          return c.post(e, u.getLink(t, \"refresh\").href);\n        }, r.user = function () {\n          return c.get(e, u.getLink(t, \"user\").href);\n        }, r;\n      }).catch(function () {\n        return {\n          status: \"INACTIVE\"\n        };\n      });\n    }\n\n    function i(e) {\n      return c.httpRequest(e, {\n        url: e.getIssuerOrigin() + \"/api/v1/sessions/me\",\n        method: \"DELETE\"\n      });\n    }\n\n    function s(e) {\n      return c.post(e, \"/api/v1/sessions/me/lifecycle/refresh\");\n    }\n\n    function a(e, t, r) {\n      r = r || window.location.href, window.location = e.getIssuerOrigin() + \"/login/sessionCookieRedirect\" + u.toQueryParams({\n        checkAccountSetupComplete: !0,\n        token: t,\n        redirectUrl: r\n      });\n    }\n\n    var u = r(0),\n        c = r(3);\n    e.exports = {\n      sessionExists: n,\n      getSession: o,\n      closeSession: i,\n      refreshSession: s,\n      setCookieAndRedirect: a\n    };\n  }, function (e, t, r) {\n    function n(e, t) {\n      return Promise.resolve().then(function () {\n        if (!t || !t.accessToken) throw new C(\"A valid access token object is required\");\n        var r = e.options.clientId;\n        if (!r) throw new C(\"A clientId must be specified in the OktaAuth constructor to revoke a token\");\n        var n = U.getOAuthUrls(e).revokeUrl,\n            o = t.accessToken,\n            i = O.toQueryParams({\n          token_type_hint: \"access_token\",\n          token: o\n        }).slice(1),\n            s = btoa(r);\n        return _.post(e, n, i, {\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\n            Authorization: \"Basic \" + s\n          }\n        });\n      });\n    }\n\n    function o(e) {\n      var t,\n          r = e.split(\".\");\n\n      try {\n        t = {\n          header: JSON.parse(O.base64UrlToString(r[0])),\n          payload: JSON.parse(O.base64UrlToString(r[1])),\n          signature: r[2]\n        };\n      } catch (e) {\n        throw new C(\"Malformed token\");\n      }\n\n      return t;\n    }\n\n    function i(e, t, r) {\n      return Promise.resolve().then(function () {\n        if (!t || !t.idToken) throw new C(\"Only idTokens may be verified\");\n        var n = o(t.idToken),\n            i = {\n          clientId: e.options.clientId,\n          issuer: e.options.issuer,\n          ignoreSignature: e.options.ignoreSignature\n        };\n        return O.extend(i, r), U.validateClaims(e, n.payload, i), 1 != i.ignoreSignature && e.features.isTokenVerifySupported() ? U.getKey(e, t.issuer, n.header.kid).then(function (e) {\n          return P.verifyToken(t.idToken, e);\n        }).then(function (e) {\n          if (!e) throw new C(\"The token signature is not valid\");\n          if (r.accessToken && t.claims.at_hash) return P.getOidcHash(r.accessToken).then(function (e) {\n            if (e !== t.claims.at_hash) throw new C(\"Token hash verification failed\");\n          });\n        }).then(function () {\n          return t;\n        }) : t;\n      });\n    }\n\n    function s(e, t, r) {\n      var n, o;\n      return new Promise(function (i, s) {\n        n = function (t) {\n          if (t.data && t.data.state === r) return t.origin !== e.getIssuerOrigin() ? s(new C(\"The request does not match client configuration\")) : void i(t.data);\n        }, U.addListener(window, \"message\", n), o = setTimeout(function () {\n          s(new C(\"OAuth flow timed out\"));\n        }, t || 12e4);\n      }).finally(function () {\n        clearTimeout(o), U.removeListener(window, \"message\", n);\n      });\n    }\n\n    function a(e, t, r) {\n      var n;\n      return new Promise(function (e, o) {\n        function i() {\n          try {\n            t && t.location && t.location.hash ? e(U.hashToObject(t.location.hash)) : t && !t.closed && setTimeout(i, 500);\n          } catch (e) {\n            setTimeout(i, 500);\n          }\n        }\n\n        i(), n = setTimeout(function () {\n          o(new C(\"OAuth flow timed out\"));\n        }, r || 12e4);\n      }).finally(function () {\n        clearTimeout(n);\n      });\n    }\n\n    function u(e, t, r, n) {\n      var o = M.loadMeta(e),\n          i = {\n        clientId: t.clientId,\n        authorizationCode: r,\n        codeVerifier: o.codeVerifier,\n        redirectUri: o.redirectUri\n      };\n      return M.getToken(e, i, n).then(function (e) {\n        return c(e, i), e;\n      }).finally(function () {\n        M.clearMeta(e);\n      });\n    }\n\n    function c(e, t) {\n      if (e.error || e.error_description) throw new R(e.error, e.error_description);\n      if (e.state !== t.state) throw new C(\"OAuth flow response state doesn't match request state\");\n    }\n\n    function f(e, t, r, n) {\n      n = n || {};\n      var o = t.responseType;\n      Array.isArray(o) || (o = [o]);\n      var s = O.clone(t.scopes),\n          a = t.clientId || e.options.clientId,\n          f = !1 !== e.options.pkce;\n      return Promise.resolve().then(function () {\n        return c(r, t), r.code && f ? (o = [\"token\", \"id_token\"], u(e, t, r.code, n)) : r;\n      }).then(function (r) {\n        var o = {},\n            u = r.expires_in,\n            c = r.token_type,\n            f = r.access_token,\n            l = r.id_token;\n\n        if (f && (o.accessToken = {\n          value: f,\n          accessToken: f,\n          expiresAt: Number(u) + Math.floor(Date.now() / 1e3),\n          tokenType: c,\n          scopes: s,\n          authorizeUrl: n.authorizeUrl,\n          userinfoUrl: n.userinfoUrl\n        }), l) {\n          var p = e.token.decode(l),\n              h = {\n            value: l,\n            idToken: l,\n            claims: p.payload,\n            expiresAt: p.payload.exp,\n            scopes: s,\n            authorizeUrl: n.authorizeUrl,\n            issuer: n.issuer,\n            clientId: a\n          },\n              d = {\n            clientId: a,\n            issuer: n.issuer,\n            nonce: t.nonce,\n            accessToken: f\n          };\n          return void 0 !== t.ignoreSignature && (d.ignoreSignature = t.ignoreSignature), i(e, h, d).then(function () {\n            return o.idToken = h, o;\n          });\n        }\n\n        return o;\n      }).then(function (e) {\n        if (-1 !== o.indexOf(\"token\") && !e.accessToken) throw new C('Unable to parse OAuth flow response: response type \"token\" was requested but \"access_token\" was not returned.');\n        if (-1 !== o.indexOf(\"id_token\") && !e.idToken) throw new C('Unable to parse OAuth flow response: response type \"id_token\" was requested but \"id_token\" was not returned.');\n        return {\n          tokens: e,\n          state: r.state,\n          code: r.code\n        };\n      });\n    }\n\n    function l(e) {\n      return {\n        pkce: e.options.pkce,\n        clientId: e.options.clientId,\n        redirectUri: e.options.redirectUri || window.location.href,\n        responseType: [\"token\", \"id_token\"],\n        responseMode: e.options.responseMode,\n        state: U.generateState(),\n        nonce: U.generateNonce(),\n        scopes: [\"openid\", \"email\"],\n        ignoreSignature: e.options.ignoreSignature\n      };\n    }\n\n    function p(e) {\n      if (!e.clientId) throw new C(\"A clientId must be specified in the OktaAuth constructor to get a token\");\n      if (O.isString(e.responseType) && -1 !== e.responseType.indexOf(\" \")) throw new C(\"Multiple OAuth responseTypes must be defined as an array\");\n      var t = O.removeNils({\n        client_id: e.clientId,\n        code_challenge: e.codeChallenge,\n        code_challenge_method: e.codeChallengeMethod,\n        display: e.display,\n        idp: e.idp,\n        idp_scope: e.idpScope,\n        login_hint: e.loginHint,\n        max_age: e.maxAge,\n        nonce: e.nonce,\n        prompt: e.prompt,\n        redirect_uri: e.redirectUri,\n        response_mode: e.responseMode,\n        response_type: e.responseType,\n        sessionToken: e.sessionToken,\n        state: e.state\n      });\n      if ([\"idp_scope\", \"response_type\"].forEach(function (e) {\n        Array.isArray(t[e]) && (t[e] = t[e].join(\" \"));\n      }), -1 !== e.responseType.indexOf(\"id_token\") && -1 === e.scopes.indexOf(\"openid\")) throw new C(\"openid scope must be specified in the scopes argument when requesting an id_token\");\n      return t.scope = e.scopes.join(\" \"), t;\n    }\n\n    function h(e) {\n      var t = p(e);\n      return O.toQueryParams(t);\n    }\n\n    function d(e, t) {\n      return arguments.length > 2 ? Promise.reject(new C('As of version 3.0, \"getToken\" takes only a single set of options')) : (t = t || {}, y(e, t).then(function (r) {\n        function n(e) {\n          return /^(https?\\:\\/\\/)?([^:\\/?#]*(?:\\:[0-9]+)?)/.exec(e)[0];\n        }\n\n        var o = {\n          prompt: \"none\",\n          responseMode: \"okta_post_message\",\n          display: null\n        },\n            i = {\n          display: \"popup\"\n        };\n        t.sessionToken ? O.extend(r, o) : t.idp && O.extend(r, i);\n        var u, c, l;\n        l = U.getOAuthUrls(e, r), c = t.codeVerifier ? l.tokenUrl : l.authorizeUrl, u = c + h(r);\n\n        switch (r.sessionToken || null === r.display ? \"IFRAME\" : \"popup\" === r.display ? \"POPUP\" : \"IMPLICIT\") {\n          case \"IFRAME\":\n            var p = s(e, t.timeout, r.state),\n                d = U.loadFrame(u);\n            return p.then(function (t) {\n              return f(e, r, t, l);\n            }).finally(function () {\n              document.body.contains(d) && d.parentElement.removeChild(d);\n            });\n\n          case \"POPUP\":\n            var g;\n\n            if (\"okta_post_message\" === r.responseMode) {\n              if (!e.features.isPopupPostMessageSupported()) throw new C(\"This browser doesn't have full postMessage support\");\n              g = s(e, t.timeout, r.state);\n            }\n\n            var m = {\n              popupTitle: t.popupTitle\n            },\n                y = U.loadPopup(u, m);\n\n            if (\"fragment\" === r.responseMode) {\n              var v = n(e.idToken.authorize._getLocationHref()),\n                  w = n(r.redirectUri);\n              if (v !== w) throw new C(\"Using fragment, the redirectUri origin (\" + w + \") must match the origin of this page (\" + v + \")\");\n              g = a(e, y, t.timeout);\n            }\n\n            return new Promise(function (e, t) {\n              var r = setInterval(function () {\n                y && !y.closed || (clearInterval(r), t(new C(\"Unable to parse OAuth flow response\")));\n              }, 100);\n              g.then(function (t) {\n                clearInterval(r), e(t);\n              }).catch(function (e) {\n                clearInterval(r), t(e);\n              });\n            }).then(function (t) {\n              return f(e, r, t, l);\n            }).finally(function () {\n              y && !y.closed && y.close();\n            });\n\n          default:\n            throw new C(\"The full page redirect flow is not supported\");\n        }\n      }));\n    }\n\n    function g(e, t) {\n      return arguments.length > 2 ? Promise.reject(new C('As of version 3.0, \"getWithoutPrompt\" takes only a single set of options')) : (t = O.clone(t) || {}, O.extend(t, {\n        prompt: \"none\",\n        responseMode: \"okta_post_message\",\n        display: null\n      }), d(e, t));\n    }\n\n    function m(e, t) {\n      return arguments.length > 2 ? Promise.reject(new C('As of version 3.0, \"getWithPopup\" takes only a single set of options')) : (t = O.clone(t) || {}, O.extend(t, {\n        display: \"popup\",\n        responseMode: \"okta_post_message\"\n      }), d(e, t));\n    }\n\n    function y(e, t) {\n      t = O.clone(t) || {};\n      var r = l(e);\n      return O.extend(r, t), !1 === r.pkce ? Promise.resolve(r) : e.features.isPKCESupported() ? (r.codeChallengeMethod || (r.codeChallengeMethod = M.DEFAULT_CODE_CHALLENGE_METHOD), r.responseType = \"code\", U.getWellKnown(e, null).then(function (e) {\n        if (-1 === (e.code_challenge_methods_supported || []).indexOf(r.codeChallengeMethod)) throw new C(\"Invalid code_challenge_method\");\n      }).then(function () {\n        var t = M.generateVerifier(r.codeVerifier),\n            n = {\n          codeVerifier: t,\n          redirectUri: r.redirectUri\n        };\n        return M.saveMeta(e, n), M.computeChallenge(t);\n      }).then(function (e) {\n        var t = O.clone(r) || {};\n        return O.extend(t, r, {\n          codeChallenge: e\n        }), t;\n      })) : Promise.reject(new C(\"This browser doesn't support PKCE\"));\n    }\n\n    function v(e, t) {\n      return arguments.length > 2 ? Promise.reject(new C('As of version 3.0, \"getWithRedirect\" takes only a single set of options')) : (t = O.clone(t) || {}, y(e, t).then(function (r) {\n        var n = U.getOAuthUrls(e, t),\n            o = n.authorizeUrl + h(r);\n        L.set(I.REDIRECT_OAUTH_PARAMS_COOKIE_NAME, JSON.stringify({\n          responseType: r.responseType,\n          state: r.state,\n          nonce: r.nonce,\n          scopes: r.scopes,\n          clientId: r.clientId,\n          urls: n,\n          ignoreSignature: r.ignoreSignature\n        }), null, e.options.cookies), L.set(I.REDIRECT_NONCE_COOKIE_NAME, r.nonce, null, e.options.cookies), L.set(I.REDIRECT_STATE_COOKIE_NAME, r.state, null, e.options.cookies), e.token.getWithRedirect._setLocation(o);\n      }));\n    }\n\n    function w(e, t) {\n      if (!U.isToken(t)) return Promise.reject(new C(\"Renew must be passed a token with an array of scopes and an accessToken or idToken\"));\n      var r;\n      return r = e.options.pkce ? \"code\" : t.accessToken ? \"token\" : \"id_token\", e.token.getWithoutPrompt({\n        responseType: r,\n        scopes: t.scopes,\n        authorizeUrl: t.authorizeUrl,\n        userinfoUrl: t.userinfoUrl,\n        issuer: t.issuer\n      }).then(function (e) {\n        var r = e.tokens;\n        return t.idToken ? r.idToken : r.accessToken;\n      });\n    }\n\n    function k(e) {\n      var t = e.token.parseFromUrl._getHistory(),\n          r = e.token.parseFromUrl._getDocument(),\n          n = e.token.parseFromUrl._getLocation();\n\n      t && t.replaceState ? t.replaceState(null, r.title, n.pathname + n.search) : n.hash = \"\";\n    }\n\n    function T(e) {\n      var t = e.token.parseFromUrl._getHistory(),\n          r = e.token.parseFromUrl._getDocument(),\n          n = e.token.parseFromUrl._getLocation();\n\n      t && t.replaceState ? t.replaceState(null, r.title, n.pathname + n.hash) : n.search = \"\";\n    }\n\n    function b(e, t) {\n      t = t || {}, O.isString(t) && (t = {\n        url: t\n      });\n\n      var r,\n          n = e.options.pkce ? \"query\" : \"fragment\",\n          o = t.url,\n          i = t.responseMode || e.options.responseMode || n,\n          s = e.token.parseFromUrl._getLocation();\n\n      if (!(r = \"query\" === i ? o ? o.substring(o.indexOf(\"?\")) : s.search : o ? o.substring(o.indexOf(\"#\")) : s.hash)) return Promise.reject(new C(\"Unable to parse a token from the url\"));\n      var a = L.get(I.REDIRECT_OAUTH_PARAMS_COOKIE_NAME);\n      if (!a) return Promise.reject(new C(\"Unable to retrieve OAuth redirect params cookie\"));\n\n      try {\n        var u = JSON.parse(a),\n            c = u.urls;\n        delete u.urls, L.delete(I.REDIRECT_OAUTH_PARAMS_COOKIE_NAME);\n      } catch (e) {\n        return Promise.reject(new C(\"Unable to parse the \" + I.REDIRECT_OAUTH_PARAMS_COOKIE_NAME + \" cookie: \" + e.message));\n      }\n\n      return Promise.resolve(U.urlParamsToObject(r)).then(function (t) {\n        return o || (\"query\" === i ? T(e) : k(e)), f(e, u, t, c);\n      });\n    }\n\n    function S(e, t, r) {\n      return A.apply(this, arguments);\n    }\n\n    function A() {\n      return A = x(E.mark(function e(t, r, n) {\n        return E.wrap(function (e) {\n          for (;;) switch (e.prev = e.next) {\n            case 0:\n              if (r) {\n                e.next = 4;\n                break;\n              }\n\n              return e.next = 3, t.tokenManager.get(\"accessToken\");\n\n            case 3:\n              r = e.sent;\n\n            case 4:\n              if (n) {\n                e.next = 8;\n                break;\n              }\n\n              return e.next = 7, t.tokenManager.get(\"idToken\");\n\n            case 7:\n              n = e.sent;\n\n            case 8:\n              if (r && (U.isToken(r) || r.accessToken || r.userinfoUrl)) {\n                e.next = 10;\n                break;\n              }\n\n              return e.abrupt(\"return\", Promise.reject(new C(\"getUserInfo requires an access token object\")));\n\n            case 10:\n              if (n && (U.isToken(n) || n.idToken)) {\n                e.next = 12;\n                break;\n              }\n\n              return e.abrupt(\"return\", Promise.reject(new C(\"getUserInfo requires an ID token object\")));\n\n            case 12:\n              return e.abrupt(\"return\", _.httpRequest(t, {\n                url: r.userinfoUrl,\n                method: \"GET\",\n                accessToken: r.accessToken\n              }).then(function (e) {\n                return e.sub === n.claims.sub ? e : Promise.reject(new C(\"getUserInfo request was rejected due to token mismatch\"));\n              }).catch(function (e) {\n                if (e.xhr && (401 === e.xhr.status || 403 === e.xhr.status)) {\n                  var t;\n\n                  if (e.xhr.headers && O.isFunction(e.xhr.headers.get) && e.xhr.headers.get(\"WWW-Authenticate\") ? t = e.xhr.headers.get(\"WWW-Authenticate\") : O.isFunction(e.xhr.getResponseHeader) && (t = e.xhr.getResponseHeader(\"WWW-Authenticate\")), t) {\n                    var r = t.match(/error=\"(.*?)\"/) || [],\n                        n = t.match(/error_description=\"(.*?)\"/) || [],\n                        o = r[1],\n                        i = n[1];\n                    o && i && (e = new R(o, i));\n                  }\n                }\n\n                throw e;\n              }));\n\n            case 13:\n            case \"end\":\n              return e.stop();\n          }\n        }, e);\n      })), A.apply(this, arguments);\n    }\n\n    var E = r(7),\n        x = r(8),\n        _ = r(3),\n        O = r(0),\n        U = r(10),\n        P = r(23),\n        C = r(1),\n        R = r(24),\n        I = r(2),\n        L = r(4).storage,\n        M = r(25);\n\n    e.exports = {\n      revokeToken: n,\n      getToken: d,\n      getWithoutPrompt: g,\n      getWithPopup: m,\n      getWithRedirect: v,\n      parseFromUrl: b,\n      decodeToken: o,\n      renewToken: w,\n      getUserInfo: S,\n      verifyToken: i,\n      handleOAuthResponse: f,\n      prepareOauthParams: y\n    };\n  }, function (e, t, r) {\n    function n(e) {\n      var t = new TextEncoder().encode(e);\n      return crypto.subtle.digest(\"SHA-256\", t).then(function (e) {\n        var t = new Uint8Array(e),\n            r = t.slice(0, 16),\n            n = String.fromCharCode.apply(null, r);\n        return i.stringToBase64Url(n);\n      });\n    }\n\n    function o(e, t) {\n      t = i.clone(t);\n      var r = {\n        name: \"RSASSA-PKCS1-v1_5\",\n        hash: {\n          name: \"SHA-256\"\n        }\n      },\n          n = [\"verify\"];\n      return delete t.use, crypto.subtle.importKey(\"jwk\", t, r, !0, n).then(function (t) {\n        var n = e.split(\".\"),\n            o = i.stringToBuffer(n[0] + \".\" + n[1]),\n            s = i.base64UrlDecode(n[2]),\n            a = i.stringToBuffer(s);\n        return crypto.subtle.verify(r, t, a, o);\n      });\n    }\n\n    var i = r(0);\n    e.exports = {\n      getOidcHash: n,\n      verifyToken: o\n    };\n  }, function (e, t) {\n    function r(e, t) {\n      this.name = \"OAuthError\", this.message = t, this.errorCode = e, this.errorSummary = t;\n    }\n\n    r.prototype = new Error(), e.exports = r;\n  }, function (e, t, r) {\n    function n(e) {\n      return (\"0\" + e.toString(16)).substr(-2);\n    }\n\n    function o(e) {\n      var t = new Uint8Array(Math.ceil(e / 2));\n      return crypto.getRandomValues(t), Array.from(t, n).join(\"\").slice(0, e);\n    }\n\n    function i(e) {\n      var t = e || \"\";\n      return t.length < y && (t += o(y - t.length)), encodeURIComponent(t).slice(0, v);\n    }\n\n    function s(e) {\n      return e.options.storageUtil.getPKCEStorage(e.options.cookies);\n    }\n\n    function a(e, t) {\n      s(e).setStorage(t);\n    }\n\n    function u(e) {\n      return s(e).getStorage();\n    }\n\n    function c(e) {\n      s(e).clearStorage();\n    }\n\n    function f(e) {\n      var t = new TextEncoder().encode(e);\n      return crypto.subtle.digest(\"SHA-256\", t).then(function (e) {\n        var t = String.fromCharCode.apply(null, new Uint8Array(e));\n        return m.stringToBase64Url(t);\n      });\n    }\n\n    function l(e) {\n      if (!e.clientId) throw new d(\"A clientId must be specified in the OktaAuth constructor to get a token\");\n      if (!e.redirectUri) throw new d(\"The redirectUri passed to /authorize must also be passed to /token\");\n      if (!e.authorizationCode) throw new d(\"An authorization code (returned from /authorize) must be passed to /token\");\n      if (!e.codeVerifier) throw new d('The \"codeVerifier\" (generated and saved by your app) must be passed to /token');\n    }\n\n    function p(e) {\n      var t = m.removeNils({\n        client_id: e.clientId,\n        redirect_uri: e.redirectUri,\n        grant_type: \"authorization_code\",\n        code: e.authorizationCode,\n        code_verifier: e.codeVerifier\n      });\n      return m.toQueryParams(t).slice(1);\n    }\n\n    function h(e, t, r) {\n      l(t);\n      var n = p(t);\n      return g.httpRequest(e, {\n        url: r.tokenUrl,\n        method: \"POST\",\n        args: n,\n        withCredentials: !1,\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        }\n      });\n    }\n\n    var d = r(1),\n        g = r(3),\n        m = r(0),\n        y = 43,\n        v = 128;\n    e.exports = {\n      DEFAULT_CODE_CHALLENGE_METHOD: \"S256\",\n      generateVerifier: i,\n      clearMeta: c,\n      saveMeta: a,\n      loadMeta: u,\n      computeChallenge: f,\n      getToken: h\n    };\n  }, function (e, t, r) {\n    function n(e, t) {\n      return t.expiresAt - e.options.expireEarlySeconds;\n    }\n\n    function o(e, t) {\n      return n(e, t) <= e.clock.now();\n    }\n\n    function i(e, t, r) {\n      e.emitter.emit(\"expired\", t, r);\n    }\n\n    function s(e, t) {\n      e.emitter.emit(\"error\", t);\n    }\n\n    function a(e, t) {\n      clearTimeout(e.expireTimeouts[t]), delete e.expireTimeouts[t], delete e.renewPromise[t];\n    }\n\n    function u(e) {\n      var t = e.expireTimeouts;\n\n      for (var r in t) t.hasOwnProperty(r) && a(e, r);\n    }\n\n    function c(e, t, r, o) {\n      var s = n(t, o),\n          u = 1e3 * Math.max(s - t.clock.now(), 0);\n      a(t, r);\n      var c = setTimeout(function () {\n        i(t, r, o);\n      }, u);\n      t.expireTimeouts[r] = c;\n    }\n\n    function f(e, t, r) {\n      try {\n        var n = r.getStorage();\n      } catch (e) {\n        return void s(t, e);\n      }\n\n      for (var o in n) if (n.hasOwnProperty(o)) {\n        var i = n[o];\n        c(e, t, o, i);\n      }\n    }\n\n    function l(e, t, r, n, o) {\n      var i = r.getStorage();\n      if (!w.isObject(o) || !o.scopes || !o.expiresAt && 0 !== o.expiresAt || !o.idToken && !o.accessToken) throw new k(\"Token must be an Object with scopes, expiresAt, and an idToken or accessToken properties\");\n      i[n] = o, r.setStorage(i), c(e, t, n, o);\n    }\n\n    function p(e, t) {\n      return e.getStorage()[t];\n    }\n\n    function h(e, t, r, n) {\n      return new Promise(function (i) {\n        var s = p(r, n);\n        return i(s && o(t, s) ? t.options.autoRenew ? g(e, t, r, n) : d(t, r, n) : s);\n      });\n    }\n\n    function d(e, t, r) {\n      a(e, r);\n      var n = t.getStorage();\n      delete n[r], t.setStorage(n);\n    }\n\n    function g(e, t, r, n) {\n      var o = t.renewPromise[n];\n      if (o) return o;\n\n      try {\n        var i = p(r, n);\n        if (!i) throw new k(\"The tokenManager has no token for the key: \" + n);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n\n      return a(t, n), t.renewPromise[n] = e.token.renew(i).then(function (o) {\n        var i = p(r, n);\n        if (i) return l(e, t, r, n, o), t.emitter.emit(\"renewed\", n, o, i), o;\n      }).catch(function (e) {\n        throw \"OAuthError\" !== e.name && \"AuthSdkError\" !== e.name || (d(t, r, n), e.tokenKey = n, e.accessToken = !!i.accessToken, s(t, e)), e;\n      }).finally(function () {\n        delete t.renewPromise[n];\n      }), t.renewPromise[n];\n    }\n\n    function m(e, t) {\n      u(e), t.clearStorage();\n    }\n\n    function y(e, t) {\n      t = w.extend({}, E, w.removeNils(t)), \"localStorage\" !== t.storage || T.browserHasLocalStorage() || (w.warn(\"This browser doesn't support localStorage. Switching to sessionStorage.\"), t.storage = \"sessionStorage\"), \"sessionStorage\" !== t.storage || T.browserHasSessionStorage() || (w.warn(\"This browser doesn't support sessionStorage. Switching to cookie-based storage.\"), t.storage = \"cookie\");\n      var r;\n      if (\"object\" === v(t.storage)) r = t.storage;else switch (t.storage) {\n        case \"localStorage\":\n          r = localStorage;\n          break;\n\n        case \"sessionStorage\":\n          r = sessionStorage;\n          break;\n\n        case \"cookie\":\n          r = T.getCookieStorage(e.options.cookies);\n          break;\n\n        case \"memory\":\n          r = T.getInMemoryStorage();\n          break;\n\n        default:\n          throw new k(\"Unrecognized storage option\");\n      }\n      var n = t.storageKey || b.TOKEN_STORAGE_NAME,\n          o = S(r, n),\n          i = A.create(e, t),\n          s = {\n        clock: i,\n        options: t,\n        emitter: e.emitter,\n        expireTimeouts: {},\n        renewPromise: {}\n      };\n      this.add = w.bind(l, this, e, s, o), this.get = w.bind(h, this, e, s, o), this.remove = w.bind(d, this, s, o), this.clear = w.bind(m, this, s, o), this.renew = w.bind(g, this, e, s, o), this.on = w.bind(s.emitter.on, s.emitter), this.off = w.bind(s.emitter.off, s.emitter), f(e, s, o);\n    }\n\n    var v = r(5),\n        w = r(0),\n        k = r(1),\n        T = r(4),\n        b = r(2),\n        S = r(6),\n        A = r(27),\n        E = {\n      autoRenew: !0,\n      storage: \"localStorage\",\n      expireEarlySeconds: 30\n    };\n    e.exports = y;\n  }, function (e, t, r) {\n    function n(e) {\n      this.localOffset = parseInt(e || 0);\n    }\n\n    r(0).extend(n.prototype, {\n      now: function () {\n        return (Date.now() + this.localOffset) / 1e3;\n      }\n    }), n.create = function () {\n      return new n(0);\n    }, e.exports = n;\n  }]);\n});","map":{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:/webpack/bootstrap ce5fbd9ba49ba2b631a9","webpack:///okta-auth-js.min.js","webpack:///lib/util.js","webpack:///lib/errors/AuthSdkError.js","webpack:///lib/constants.js","webpack:///lib/http.js","webpack:///lib/browser/browserStorage.js","webpack:///root/okta/okta-auth-js/node_modules/@babel/runtime/helpers/typeof.js","webpack:///lib/storageBuilder.js","webpack:///root/okta/okta-auth-js/node_modules/@babel/runtime/regenerator/index.js","webpack:///root/okta/okta-auth-js/node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///lib/tx.js","webpack:///lib/oauthUtil.js","webpack:///lib/browser/browserIndex.js","webpack:///lib/fetch/fetchRequest.js","webpack:///root/okta/okta-auth-js/node_modules/cross-fetch/dist/browser-ponyfill.js","webpack:///root/okta/okta-auth-js/node_modules/js-cookie/src/js.cookie.js","webpack:///lib/browser/browser.js","webpack:///root/okta/okta-auth-js/node_modules/regenerator-runtime/runtime.js","webpack:///root/okta/okta-auth-js/node_modules/tiny-emitter/index.js","webpack:///lib/builderUtil.js","webpack:///lib/errors/AuthApiError.js","webpack:///lib/errors/AuthPollStopError.js","webpack:///lib/session.js","webpack:///lib/token.js","webpack:///lib/crypto.js","webpack:///lib/errors/OAuthError.js","webpack:///lib/pkce.js","webpack:///lib/TokenManager.js","webpack:///lib/clock.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_typeof","_regeneratorRuntime","_asyncToGenerator","_getUserInfo","apply","arguments","mark","util","stringToBase64Url","str","b64","btoa","base64ToBase64Url","replace","base64UrlToBase64","b64u","base64UrlToString","length","utf8","atob","decodeURIComponent","escape","e","stringToBuffer","buffer","Uint8Array","charCodeAt","base64UrlDecode","bind","fn","ctx","additionalArgs","Array","slice","args","concat","isAbsoluteUrl","url","test","isString","obj","toString","isObject","isNumber","isoToUTCString","parts","match","isoTime","Date","UTC","toUTCString","toQueryParams","key","undefined","push","encodeURIComponent","join","genRandomString","randomCharset","random","cl","Math","floor","extend","obj1","forEach","prop","removeNils","cleaned","value","clone","JSON","stringify","parse","omit","props","newobj","indexOf","find","collection","searchParams","item","found","getLink","linkName","altName","_links","link","getNativeConsole","window","console","getConsole","nativeConsole","log","warn","text","deprecate","deprecateWrap","removeTrailingSlash","path","trimmed","isIE11OrLess","document","documentMode","isFunction","delay","ms","Promise","resolve","setTimeout","AuthSdkError","msg","xhr","message","errorCode","errorSummary","errorLink","errorId","errorCauses","Error","require","AuthApiError","constants","httpRequest","sdk","options","method","saveAuthnState","accessToken","withCredentials","storageUtil","storage","httpCache","getHttpCache","cookies","cacheResponse","cacheContents","getStorage","cachedResponse","now","expiresAt","response","headers","userAgent","ajaxOptions","data","err","res","httpRequestClient","then","resp","responseText","stateToken","delete","STATE_TOKEN_KEY_NAME","set","updateStorage","DEFAULT_CACHE_DURATION","catch","serverErr","status","transformErrorXHR","getIssuerOrigin","getOptions","post","postOptions","Cookies","storageBuilder","browserHasLocalStorage","getLocalStorage","testStorage","browserHasSessionStorage","getSessionStorage","getPKCEStorage","PKCE_STORAGE_NAME","getCookieStorage","CACHE_STORAGE_NAME","localStorage","sessionStorage","secure","sameSite","getItem","setItem","getInMemoryStorage","store","removeItem","cookieOptions","expires","remove","Symbol","iterator","constructor","webstorage","storageName","storageString","setStorage","clearStorage","asyncGeneratorStep","gen","reject","_next","_throw","arg","info","error","done","http","AuthPollStopError","addStateToken","builtArgs","getStateToken","transactionStatus","resumeTransaction","tx","exists","_get","AuthTransaction","introspect","transactionStep","transactionExists","postToTransaction","getPollFn","ref","rememberDevice","autoPush","transactionCallBack","DEFAULT_POLLING_DELAY","pollLink","pollFn","opts","href","isPolling","retryCount","recursivePoll","pollRes","factorResult","delayLength","pow","link2fn","isArray","lk","hints","allow","factorType","provider","params","profile","updatePhone","links2fns","fns","type","poll","flattenEmbedded","objArr","ol","embedded","_embedded","cancel","generateState","generateNonce","isToken","idToken","scopes","addListener","eventTarget","addEventListener","attachEvent","removeListener","removeEventListener","detachEvent","loadFrame","src","iframe","createElement","style","display","body","appendChild","loadPopup","title","popupTitle","appearance","winEl","open","location","getWellKnown","issuer","authServerUri","getKey","kid","wellKnown","jwksUri","cachedKey","keys","validateClaims","claims","validationParams","aud","clientId","iss","nonce","iat","exp","maxClockSkew","getOAuthUrls","authorizeUrl","userinfoUrl","tokenUrl","logoutUrl","revokeUrl","baseUrl","urlParamsToObject","hashOrSearch","plus2space","paramSplit","fragment","charAt","substring","param","exec","fetchRequest","fetch","readData","toLowerCase","json","formatResult","result","responseType","responseJSON","credentials","ok","__self__","F","DOMException","support","iterable","blob","Blob","formData","arrayBuffer","isDataView","DataView","isPrototypeOf","viewClasses","isArrayBufferView","ArrayBuffer","isView","normalizeName","String","TypeError","normalizeValue","iteratorFor","items","next","shift","Headers","map","append","header","getOwnPropertyNames","oldValue","has","callback","thisArg","values","entries","consumed","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","FileReader","promise","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","chars","fromCharCode","bufferClone","byteLength","Body","_initBody","_bodyInit","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","rejected","decode","methods","normalizeMethod","upcased","toUpperCase","Request","input","mode","signal","referrer","form","trim","split","bytes","parseHeaders","rawHeaders","line","Response","bodyInit","statusText","redirectStatuses","redirect","RangeError","stack","create","init","request","aborted","XMLHttpRequest","abortXhr","abort","getAllResponseHeaders","responseURL","ontimeout","onabort","setRequestHeader","onreadystatechange","readyState","send","polyfill","default","registeredInModuleLoader","OldCookies","api","noConflict","attributes","converter","defaults","setMilliseconds","getMilliseconds","write","stringifiedAttributes","attributeName","cookie","rdecode","read","getJSON","withConverter","Emitter","builderUtil","oauthUtil","session","token","TokenManager","OktaAuthBuilder","assertValidConfig","cookieSettings","features","isLocalhost","isHTTPS","pkce","redirectUri","postLogoutRedirectUri","responseMode","onSessionExpired","isPKCESupported","errorMessage","hasTextEncoder","getUserAgent","SDK_VERSION","DEFAULT_MAX_CLOCK_SKEW","ignoreSignature","close","closeSession","sessionExists","getSession","refresh","refreshSession","setCookieAndRedirect","resume","authorize","_getLocationHref","getWithoutPrompt","getWithPopup","getWithRedirect","parseFromUrl","decodeToken","revoke","revokeToken","renew","renewToken","getUserInfo","verify","verifyToken","_setLocation","_getHistory","history","_getLocation","_getDocument","fingerprint","_getUserAgent","navigator","isWindowsPhone","isFingerprintSupported","agent","emitter","tokenManager","on","_onTokenManagerError","proto","isPopupPostMessageSupported","isIE8or9","postMessage","isTokenVerifySupported","crypto","subtle","TextEncoder","protocol","hostname","signIn","sendFingerprint","clear","revokeAccessToken","signOut","defaultUri","origin","reload","assign","state","idTokenHint","logoutUri","addSharedPrototypes","webfinger","timeout","listener","source","finally","clearTimeout","contains","parentElement","removeChild","buildOktaAuth","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","makeInvokeMethod","tryCatch","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","displayName","defineIteratorMethods","isGeneratorFunction","genFun","ctor","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","invoke","record","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","async","iter","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","reverse","pop","iteratorMethod","isNaN","skipTempReset","prev","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","E","once","off","_","emit","evtArr","len","evts","liveEvents","RegExp","template","forgotPassword","unlockAccount","verifyRecoveryToken","OktaAuth","ajaxRequest","sdkVersion","user","sessionToken","redirectUrl","checkAccountSetupComplete","sdkCrypto","OAuthError","PKCE","token_type_hint","creds","jwt","decodedToken","payload","signature","validationOptions","valid","at_hash","getOidcHash","hash","addPostMessageListener","responseHandler","timeoutId","addFragmentListener","windowEl","hashChangeHandler","hashToObject","closed","exchangeCodeForToken","oauthParams","authorizationCode","urls","meta","loadMeta","getTokenParams","codeVerifier","getToken","validateResponse","clearMeta","handleOAuthResponse","code","tokenDict","expiresIn","expires_in","tokenType","token_type","access_token","id_token","Number","idTokenObj","tokens","getDefaultOAuthParams","convertOAuthParamsToQueryParams","oauthQueryParams","codeChallenge","codeChallengeMethod","idp","idpScope","loginHint","maxAge","prompt","mayBeArray","scope","buildAuthorizeParams","prepareOauthParams","sessionTokenOverrides","idpOverrides","requestUrl","endpoint","getOrigin","iframePromise","iframeEl","oauthPromise","windowOptions","windowOrigin","redirectUriOrigin","closePoller","setInterval","clearInterval","DEFAULT_CODE_CHALLENGE_METHOD","generateVerifier","saveMeta","computeChallenge","clonedParams","REDIRECT_OAUTH_PARAMS_COOKIE_NAME","REDIRECT_NONCE_COOKIE_NAME","REDIRECT_STATE_COOKIE_NAME","removeHash","nativeHistory","nativeDoc","nativeLoc","replaceState","pathname","search","removeSearch","defaultResponseMode","paramStr","oauthParamsCookie","accessTokenObject","idTokenObject","userInfo","sub","authenticateHeader","getResponseHeader","errorMatches","errorDescriptionMatches","errorDescription","encode","digest","intBuffer","firstHalf","algo","usages","use","importKey","cryptoKey","b64Signature","summary","MIN_VERIFIER_LENGTH","MAX_VERIFIER_LENGTH","dec2hex","dec","substr","getRandomString","a","ceil","getRandomValues","from","prefix","verifier","validateOptions","oauthOptions","getPostData","SdkClock","DEFAULT_OPTIONS","autoRenew","expireEarlySeconds","getExpireTime","tokenMgmtRef","hasExpired","clock","emitExpired","emitError","clearExpireEventTimeout","expireTimeouts","renewPromise","clearExpireEventTimeoutAll","setExpireEventTimeout","expireTime","expireEventWait","max","expireEventTimeout","setExpireEventTimeoutAll","tokenStorage","add","getAsync","existingPromise","freshToken","oldToken","tokenKey","storageProvider","storageKey","TOKEN_STORAGE_NAME","localOffset","parseInt"],"mappings":";;;;;;;;;;;;CAAA,UAA2CA,CAA3C,EAAiDC,CAAjD,EAAiDA;AAC1B,cAAZC,OAAAA,OAAY,IAA8B,YAAXC,OAAAA,MAAnB,GACrBA,MAAAA,CAAOD,OAAPC,GAAiBF,CAAAA,EADI,GAEI,cAAXG,OAAAA,MAAW,IAAcA,MAAAA,CAAOC,GAArB,GACzBD,MAAAA,CAAAA,EAAAA,EAAWH,CAAXG,CADyB,GAEC,YAAZF,OAAAA,OAAY,GAC1BA,OAAAA,CAAkB,QAAlBA,GAAsBD,CAAAA,EADI,GAG1BD,CAAAA,CAAe,QAAfA,GAAmBC,CAAAA,EAPE;AAOFA,CARrB,CASmB,eAATK,OAAAA,IAAS,GAAcA,IAAd,GAAqBC,IATxC,EAS8C,YAAA;AAC9C,S;ACNE,aAASE,CAAT,CAA6BC,CAA7B,EAA6BA;AAG5B,UAAGF,CAAAA,CAAiBE,CAAjBF,CAAH,EACC,OAAOA,CAAAA,CAAiBE,CAAjBF,CAAAA,CAA2BN,OAAlC;AAGD,UAAIC,CAAAA,GAASK,CAAAA,CAAiBE,CAAjBF,CAAAA,GAAiBE;AAC7BC,QAAAA,CAAAA,EAAGD,CAD0BA;AAE7BE,QAAAA,CAAAA,EAAAA,CAAG,CAF0BF;AAG7BR,QAAAA,OAAAA,EAAAA;AAH6BQ,OAA9B;AAOAG,aAAAA,CAAAA,CAAQH,CAARG,CAAAA,CAAkBC,IAAlBD,CAAuBV,CAAAA,CAAOD,OAA9BW,EAAuCV,CAAvCU,EAA+CV,CAAAA,CAAOD,OAAtDW,EAA+DJ,CAA/DI,GAGAV,CAAAA,CAAOS,CAAPT,GAAOS,CAAI,CAHXC,EAMOV,CAAAA,CAAOD,OANdW;AAjBD;;AAAA,QAAIL,CAAAA,GAAAA,EAAJ;AA4BAC,WAAAA,CAAAA,CAAoBM,CAApBN,GAAwBI,CAAxBJ,EAGAA,CAAAA,CAAoBO,CAApBP,GAAwBD,CAHxBC,EAMAA,CAAAA,CAAoBQ,CAApBR,GAAwB,UAASP,CAAT,EAAkBgB,CAAlB,EAAwBC,CAAxB,EAAwBA;AAC3CV,MAAAA,CAAAA,CAAoBW,CAApBX,CAAsBP,CAAtBO,EAA+BS,CAA/BT,KACHY,MAAAA,CAAOC,cAAPD,CAAsBnB,CAAtBmB,EAA+BH,CAA/BG,EAA+BH;AAC9BK,QAAAA,YAAAA,EAAAA,CAAc,CADgBL;AAE9BM,QAAAA,UAAAA,EAAAA,CAAY,CAFkBN;AAG9BO,QAAAA,GAAAA,EAAKN;AAHyBD,OAA/BG,CADGZ;AAIGU,KAXRV,EAiBAA,CAAAA,CAAoBiB,CAApBjB,GAAwB,UAASN,CAAT,EAASA;AAChC,UAAIgB,CAAAA,GAAShB,CAAAA,IAAUA,CAAAA,CAAOwB,UAAjBxB,GACZ,YAAA;AAAwB,eAAOA,CAAAA,CAAgB,OAAvB;AAAuB,OADnCA,GAEZ,YAAA;AAA8B,eAAOA,CAAP;AAE/B,OAJA;AAGAM,aAAAA,CAAAA,CAAoBQ,CAApBR,CAAsBU,CAAtBV,EAA8B,GAA9BA,EAAmCU,CAAnCV,GACOU,CADPV;AACOU,KAtBRV,EA0BAA,CAAAA,CAAoBW,CAApBX,GAAwB,UAASmB,CAAT,EAAiBC,CAAjB,EAAiBA;AAAY,aAAOR,MAAAA,CAAOS,SAAPT,CAAiBU,cAAjBV,CAAgCP,IAAhCO,CAAqCO,CAArCP,EAA6CQ,CAA7CR,CAAP;AAAoDQ,KA1BzGpB,EA6BAA,CAAAA,CAAoBuB,CAApBvB,GAAwB,EA7BxBA,EAgCOA,CAAAA,CAAoBA,CAAAA,CAAoBwB,CAApBxB,GAAwB,EAA5CA,CAhCPA;AAgCmD,G,CAAA,CCgB/C,UAAUN,CAAV,EAAkBD,CAAlB,EAAkBA;AChExB,QAAIuC,CAAAA,GAAOtC,CAAAA,CAAOD,OAAlB;AAGAuC,IAAAA,CAAAA,CAAKC,iBAALD,GAAyB,UAASE,CAAT,EAASA;AAChC,UAAIC,CAAAA,GAAMC,IAAAA,CAAKF,CAALE,CAAV;AACA,aAAOJ,CAAAA,CAAKK,iBAALL,CAAuBG,CAAvBH,CAAP;AAA8BG,KAFhCH,EAMAA,CAAAA,CAAKK,iBAALL,GAAyB,UAASG,CAAT,EAASA;AAChC,aAAOA,CAAAA,CAAIG,OAAJH,CAAY,KAAZA,EAAmB,GAAnBA,EAAwBG,OAAxBH,CAAgC,KAAhCA,EAAuC,GAAvCA,EAA4CG,OAA5CH,CAAoD,KAApDA,EAA2D,EAA3DA,CAAP;AAAkE,KAPpEH,EAWAA,CAAAA,CAAKO,iBAALP,GAAyB,UAASQ,CAAT,EAASA;AAChC,aAAOA,CAAAA,CAAKF,OAALE,CAAa,IAAbA,EAAmB,GAAnBA,EAAwBF,OAAxBE,CAAgC,IAAhCA,EAAsC,GAAtCA,CAAP;AAA6C,KAZ/CR,EAeAA,CAAAA,CAAKS,iBAALT,GAAyB,UAASQ,CAAT,EAASA;AAChC,UAAIL,CAAAA,GAAMH,CAAAA,CAAKO,iBAALP,CAAuBQ,CAAvBR,CAAV;;AACA,cAAQG,CAAAA,CAAIO,MAAJP,GAAa,CAArB;AACE,aAAK,CAAL;AACE;;AACF,aAAK,CAAL;AACEA,UAAAA,CAAAA,IAAO,IAAPA;AACA;;AACF,aAAK,CAAL;AACEA,UAAAA,CAAAA,IAAO,GAAPA;AACA;;AACF;AACE,gBAAM,uBAAN;AAVJ;;AAYA,UAAIQ,CAAAA,GAAOC,IAAAA,CAAKT,CAALS,CAAX;;AACA,UAAA;AACE,eAAOC,kBAAAA,CAAmBC,MAAAA,CAAOH,CAAPG,CAAnBD,CAAP;AACA,OAFF,CAEE,OAAOE,CAAP,EAAOA;AACP,eAAOJ,CAAP;AAAOA;AAAAA,KAjCXX,EAqCAA,CAAAA,CAAKgB,cAALhB,GAAsB,UAASE,CAAT,EAASA;AAE7B,WADIe,IAAAA,CAAAA,GAAS,IAAIC,UAAJ,CAAehB,CAAAA,CAAIQ,MAAnB,CAATO,EACK/C,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIgC,CAAAA,CAAIQ,MAAxB,EAAgCxC,CAAAA,EAAhC,EACE+C,CAAAA,CAAO/C,CAAP+C,CAAAA,GAAYf,CAAAA,CAAIiB,UAAJjB,CAAehC,CAAfgC,CAAZe;;AAEF,aAAOA,CAAP;AAAOA,KA1CTjB,EA6CAA,CAAAA,CAAKoB,eAALpB,GAAuB,UAASE,CAAT,EAASA;AAC9B,aAAOU,IAAAA,CAAKZ,CAAAA,CAAKO,iBAALP,CAAuBE,CAAvBF,CAALY,CAAP;AAAmCV,KA9CrCF,EAiDAA,CAAAA,CAAKqB,IAALrB,GAAY,UAASsB,CAAT,EAAaC,CAAb,EAAaA;AACvB,UAAIC,CAAAA,GAAiBC,KAAAA,CAAMpC,SAANoC,CAAgBC,KAAhBD,CAAsBpD,IAAtBoD,CAA2B3B,SAA3B2B,EAAsC,CAAtCA,CAArB;AACA,aAAO,YAAA;AACL,YAAIE,CAAAA,GAAOF,KAAAA,CAAMpC,SAANoC,CAAgBC,KAAhBD,CAAsBpD,IAAtBoD,CAA2B3B,SAA3B2B,CAAX;AACAE,eAAAA,CAAAA,GAAOH,CAAAA,CAAeI,MAAfJ,CAAsBG,CAAtBH,CAAPG,EACOL,CAAAA,CAAGzB,KAAHyB,CAASC,CAATD,EAAcK,CAAdL,CADPK;AACqBA,OAHvB;AAGuBA,KAtDzB3B,EA0DAA,CAAAA,CAAK6B,aAAL7B,GAAqB,UAAS8B,CAAT,EAASA;AAC5B,aAAO,qBAAqBC,IAArB,CAA0BD,CAA1B,CAAP;AAAiCA,KA3DnC9B,EA8DAA,CAAAA,CAAKgC,QAALhC,GAAgB,UAASiC,CAAT,EAASA;AACvB,aAA+C,sBAAxCrD,MAAAA,CAAOS,SAAPT,CAAiBsD,QAAjBtD,CAA0BP,IAA1BO,CAA+BqD,CAA/BrD,CAAP;AAAsCqD,KA/DxCjC,EAkEAA,CAAAA,CAAKmC,QAALnC,GAAgB,UAASiC,CAAT,EAASA;AACvB,aAA+C,sBAAxCrD,MAAAA,CAAOS,SAAPT,CAAiBsD,QAAjBtD,CAA0BP,IAA1BO,CAA+BqD,CAA/BrD,CAAP;AAAsCqD,KAnExCjC,EAsEAA,CAAAA,CAAKoC,QAALpC,GAAgB,UAASiC,CAAT,EAASA;AACvB,aAA+C,sBAAxCrD,MAAAA,CAAOS,SAAPT,CAAiBsD,QAAjBtD,CAA0BP,IAA1BO,CAA+BqD,CAA/BrD,CAAP;AAAsCqD,KAvExCjC,EA0EAA,CAAAA,CAAKqC,cAALrC,GAAsB,UAASE,CAAT,EAASA;AAC7B,UAAIoC,CAAAA,GAAQpC,CAAAA,CAAIqC,KAAJrC,CAAU,MAAVA,CAAZ;AAAA,UACIsC,CAAAA,GAAUC,IAAAA,CAAKC,GAALD,CAASH,CAAAA,CAAM,CAANA,CAATG,EAAmBH,CAAAA,CAAM,CAANA,CAAAA,GAAW,CAA9BG,EAAiCH,CAAAA,CAAM,CAANA,CAAjCG,EAA2CH,CAAAA,CAAM,CAANA,CAA3CG,EAAqDH,CAAAA,CAAM,CAANA,CAArDG,EAA+DH,CAAAA,CAAM,CAANA,CAA/DG,CADd;AAEc,aAAA,IAAIA,IAAJ,CAASD,CAAT,EAECG,WAFD,EAAA;AAECA,KA/EjB3C,EAkFAA,CAAAA,CAAK4C,aAAL5C,GAAqB,UAASiC,CAAT,EAASA;AAC5B,UAAI/B,CAAAA,GAAAA,EAAJ;AACA,UAAY,SAAR+B,CAAJ,EACE,KAAK,IAAIY,CAAT,IAAgBZ,CAAhB,EACMA,CAAAA,CAAI3C,cAAJ2C,CAAmBY,CAAnBZ,KAAmBY,KACNC,CADMD,KACnBZ,CAAAA,CAAIY,CAAJZ,CADAA,IAEa,SAAbA,CAAAA,CAAIY,CAAJZ,CAFAA,IAGF/B,CAAAA,CAAI6C,IAAJ7C,CAAS2C,CAAAA,GAAM,GAANA,GAAYG,kBAAAA,CAAmBf,CAAAA,CAAIY,CAAJZ,CAAnBe,CAArB9C,CAHE+B;AAOR,aAAI/B,CAAAA,CAAIQ,MAAJR,GACK,MAAMA,CAAAA,CAAI+C,IAAJ/C,CAAS,GAATA,CADXA,GAGK,EAHT;AAGS,KAhGXF,EAoGAA,CAAAA,CAAKkD,eAALlD,GAAuB,UAASU,CAAT,EAASA;AAG9B,WAFIyC,IAAAA,CAAAA,GAAgB,+DAAhBA,EACAC,CAAAA,GAAS,EADTD,EAEK5E,CAAAA,GAAI,CAFT4E,EAEYE,CAAAA,GAAKF,CAAAA,CAAczC,MAAnC,EAA2CnC,CAAAA,GAAImC,CAA/C,EAA+CA,EAAUnC,CAAzD,EACE6E,CAAAA,IAAUD,CAAAA,CAAcG,IAAAA,CAAKC,KAALD,CAAWA,IAAAA,CAAKF,MAALE,KAAgBD,CAA3BC,CAAdH,CAAVC;;AAEF,aAAOA,CAAP;AAAOA,KA1GTpD,EA6GAA,CAAAA,CAAKwD,MAALxD,GAAc,YAAA;AAEZ,UAAIyD,CAAAA,GAAO3D,SAAAA,CAAU,CAAVA,CAAX;AAWA,aAAA,GATkB4B,KASlB,CATwBrD,IASxB,CAT6ByB,SAS7B,EATwC,CASxC,EARS4D,OAQT,CARiB,UAASzB,CAAT,EAASA;AACxB,aAAK,IAAI0B,CAAT,IAAiB1B,CAAjB,EAEMA,CAAAA,CAAI3C,cAAJ2C,CAAmB0B,CAAnB1B,KAAmB0B,KAAuBb,CAAvBa,KAAS1B,CAAAA,CAAI0B,CAAJ1B,CAA5BA,KACFwB,CAAAA,CAAKE,CAALF,CAAAA,GAAaxB,CAAAA,CAAI0B,CAAJ1B,CADXA;AACe0B,OAIvB,GAAOF,CAAP;AAAOA,KA1HTzD,EA6HAA,CAAAA,CAAK4D,UAAL5D,GAAkB,UAASiC,CAAT,EAASA;AACzB,UAAI4B,CAAAA,GAAAA,EAAJ;;AACA,WAAK,IAAIF,CAAT,IAAiB1B,CAAjB,EACE,IAAIA,CAAAA,CAAI3C,cAAJ2C,CAAmB0B,CAAnB1B,CAAJ,EAA8B;AAC5B,YAAI6B,CAAAA,GAAQ7B,CAAAA,CAAI0B,CAAJ1B,CAAZ;AACc,iBAAV6B,CAAU,IAAVA,KAA4BhB,CAA5BgB,KAAkBA,CAAR,KACZD,CAAAA,CAAQF,CAARE,CAAAA,GAAgBC,CADJ;AAKlB;;AAAA,aAAOD,CAAP;AAAOA,KAvIT7D,EA0IAA,CAAAA,CAAK+D,KAAL/D,GAAa,UAASiC,CAAT,EAASA;AACpB,UAAIA,CAAJ,EAAS;AACP,YAAI/B,CAAAA,GAAM8D,IAAAA,CAAKC,SAALD,CAAe/B,CAAf+B,CAAV;AACA,YAAI9D,CAAJ,EACE,OAAO8D,IAAAA,CAAKE,KAALF,CAAW9D,CAAX8D,CAAP;AAGJ;;AAAA,aAAO/B,CAAP;AAAOA,KAjJTjC,EAqJAA,CAAAA,CAAKmE,IAALnE,GAAY,UAASiC,CAAT,EAASA;AACnB,UAAImC,CAAAA,GAAQ3C,KAAAA,CAAMpC,SAANoC,CAAgBC,KAAhBD,CAAsBpD,IAAtBoD,CAA2B3B,SAA3B2B,EAAsC,CAAtCA,CAAZ;AAAA,UACI4C,CAAAA,GAAAA,EADJ;;AAEA,WAAK,IAAI9E,CAAT,IAAc0C,CAAd,EACMA,CAAAA,CAAI3C,cAAJ2C,CAAmB1C,CAAnB0C,KAAmB1C,CAA2B,CAA3BA,IAAM6E,CAAAA,CAAME,OAANF,CAAc7E,CAAd6E,CAAzBnC,KACFoC,CAAAA,CAAO9E,CAAP8E,CAAAA,GAAYpC,CAAAA,CAAI1C,CAAJ0C,CADVA;;AAIN,aAAOjC,CAAAA,CAAK+D,KAAL/D,CAAWqE,CAAXrE,CAAP;AAAkBqE,KA7JpBrE,EAgKAA,CAAAA,CAAKuE,IAALvE,GAAY,UAASwE,CAAT,EAAqBC,CAArB,EAAqBA;AAE/B,WADA,IAAIlG,CAAAA,GAAIiG,CAAAA,CAAW9D,MACnB,EAAOnC,CAAAA,EAAP,GAAY;AACV,YAAImG,CAAAA,GAAOF,CAAAA,CAAWjG,CAAXiG,CAAX;AAAA,YACIG,CAAAA,GAAAA,CAAQ,CADZ;;AAEA,aAAK,IAAIhB,CAAT,IAAiBc,CAAjB,EACE,IAAKA,CAAAA,CAAanF,cAAbmF,CAA4Bd,CAA5Bc,KAGDC,CAAAA,CAAKf,CAALe,CAAAA,KAAeD,CAAAA,CAAad,CAAbc,CAHnB,EAGuC;AACrCE,UAAAA,CAAAA,GAAAA,CAAQ,CAARA;AACA;AAGJ;;AAAA,YAAIA,CAAJ,EACE,OAAOD,CAAP;AAAOA;AAAAA,KA/Kb1E,EAoLAA,CAAAA,CAAK4E,OAAL5E,GAAe,UAASiC,CAAT,EAAc4C,CAAd,EAAwBC,CAAxB,EAAwBA;AACrC,UAAK7C,CAAAA,IAAQA,CAAAA,CAAI8C,MAAjB,EAAA;AAIA,YAAIC,CAAAA,GAAOhF,CAAAA,CAAK+D,KAAL/D,CAAWiC,CAAAA,CAAI8C,MAAJ9C,CAAW4C,CAAX5C,CAAXjC,CAAX;AAGA,eAAIgF,CAAAA,IAAQA,CAAAA,CAAKvG,IAAbuG,IAAqBF,CAArBE,GACEA,CAAAA,CAAKvG,IAALuG,KAAcF,CAAdE,GACKA,CADLA,GAAJ,KAAA,CADEA,GAKKA,CALT;AAKSA;AAAAA,KAjMXhF,EAqMAA,CAAAA,CAAKiF,gBAALjF,GAAwB,YAAA;AACtB,aAAsB,eAAXkF,OAAAA,MAAW,GACbA,MAAAA,CAAOC,OADM,GAEQ,eAAZA,OAAAA,OAAY,GACrBA,OADqB,GACrBA,KAEP,CALF;AAKE,KA3MJnF,EA+MAA,CAAAA,CAAKoF,UAALpF,GAAkB,YAAA;AAChB,UAAIqF,CAAAA,GAAgBrF,CAAAA,CAAKiF,gBAALjF,EAApB;AACA,aAAIqF,CAAAA,IAAiBA,CAAAA,CAAcC,GAA/BD,GACKA,CADLA,GACKA;AAGPC,QAAAA,GAAAA,EAAK,YAAA,CAAA;AAHED,OADT;AAIO,KArNTrF,EAyNAA,CAAAA,CAAKuF,IAALvF,GAAY,UAASwF,CAAT,EAASA;AAEnBxF,MAAAA,CAAAA,CAAKoF,UAALpF,GAAkBsF,GAAlBtF,CAAsB,2BAA2BwF,CAAjDxF;AAAiDwF,KA3NnDxF,EA+NAA,CAAAA,CAAKyF,SAALzF,GAAiB,UAASwF,CAAT,EAASA;AAExBxF,MAAAA,CAAAA,CAAKoF,UAALpF,GAAkBsF,GAAlBtF,CAAsB,kCAAkCwF,CAAxDxF;AAAwDwF,KAjO1DxF,EAqOAA,CAAAA,CAAK0F,aAAL1F,GAAqB,UAASwF,CAAT,EAAelE,CAAf,EAAeA;AAClC,aAAO,YAAA;AACLtB,eAAAA,CAAAA,CAAKyF,SAALzF,CAAewF,CAAfxF,GACOsB,CAAAA,CAAGzB,KAAHyB,CAAS,IAATA,EAAexB,SAAfwB,CADPtB;AACsBF,OAFxB;AAEwBA,KAxO1BE,EA4OAA,CAAAA,CAAK2F,mBAAL3F,GAA2B,UAAS4F,CAAT,EAASA;AAClC,UAAKA,CAAL,EAAA;AAIA,YAAIC,CAAAA,GAAUD,CAAAA,CAAKtF,OAALsF,CAAa,aAAbA,EAA2B,EAA3BA,CAAd;AAEAC,eAAAA,CAAAA,GAAUA,CAAAA,CAAQvF,OAARuF,CAAgB,MAAhBA,EAAwB,EAAxBA,CAAVA;AAAkC;AAAA,KAnPpC7F,EAwPAA,CAAAA,CAAK8F,YAAL9F,GAAoB,YAAA;AAClB,aAAA,CAAA,CAAS+F,QAAAA,CAASC,YAAlB,IAAkCD,QAAAA,CAASC,YAATD,IAAyB,EAA3D;AAA2D,KAzP7D/F,EA4PAA,CAAAA,CAAKiG,UAALjG,GAAkB,UAASsB,CAAT,EAASA;AACzB,aAAA,CAAA,CAASA,CAAT,IAAwC,wBAAA,GAAtBY,QAAsB,CAAb7D,IAAa,CAARiD,CAAQ,CAAxC;AAAgCA,KA7PlCtB,EAgQAA,CAAAA,CAAKkG,KAALlG,GAAa,UAASmG,CAAT,EAASA;AACpB,aAAO,IAAIC,OAAJ,CAAY,UAASC,CAAT,EAASA;AAC1BC,QAAAA,UAAAA,CAAWD,CAAXC,EAAoBH,CAApBG,CAAAA;AAAoBH,OADf,CAAP;AACsBA,KAlQxBnG;AAkQwBmG,GFrN6B,EC8T/C,UAAUzI,CAAV,EAAkBD,CAAlB,EAAkBA;AE/WxB,aAAS8I,CAAT,CAAsBC,CAAtB,EAA2BC,CAA3B,EAA2BA;AACzB3I,WAAKW,IAALX,GAAY,cAAZA,EACAA,KAAK4I,OAAL5I,GAAe0I,CADf1I,EAGAA,KAAK6I,SAAL7I,GAAiB,UAHjBA,EAIAA,KAAK8I,YAAL9I,GAAoB0I,CAJpB1I,EAKAA,KAAK+I,SAAL/I,GAAiB,UALjBA,EAMAA,KAAKgJ,OAALhJ,GAAe,UANfA,EAOAA,KAAKiJ,WAALjJ,GAAKiJ,EAPLjJ,EAQI2I,CAAAA,KACF3I,KAAK2I,GAAL3I,GAAW2I,CADTA,CARJ3I;AAYFyI;;AAAAA,IAAAA,CAAAA,CAAalH,SAAbkH,GAAyB,IAAIS,KAAJ,EAAzBT,EAEA7I,CAAAA,CAAOD,OAAPC,GAAiB6I,CAFjBA;AAEiBA,GHkCoC,EC8V/C,UAAU7I,CAAV,EAAkBD,CAAlB,EAAkBA;AG3ZxBC,IAAAA,CAAAA,CAAOD,OAAPC,GAAOD;AACL,MAAA,oBAAA,EAAwB,gBADnBA;AAEL,MAAA,qBAAA,EAAyB,GAFpBA;AAGL,MAAA,sBAAA,EAA0B,GAHrBA;AAIL,MAAA,sBAAA,EAA0B,KAJrBA;AAKL,MAAA,iCAAA,EAAqC,4BALhCA;AAML,MAAA,0BAAA,EAA8B,kBANzBA;AAOL,MAAA,0BAAA,EAA8B,kBAPzBA;AAQL,MAAA,kBAAA,EAAsB,oBARjBA;AASL,MAAA,kBAAA,EAAsB,oBATjBA;AAUL,MAAA,iBAAA,EAAqB;AAVhBA,KAAPC;AAUuB,GJmD8B,EC+W/C,UAAUA,CAAV,EAAkBD,CAAlB,EAA2BO,CAA3B,EAA2BA;AI1ZjC,aAASoJ,CAAT,CAAqBC,CAArB,EAA0BC,CAA1B,EAA0BA;AACxBA,MAAAA,CAAAA,GAAUA,CAAAA,IAAAA,EAAVA;AACA,UAAIxF,CAAAA,GAAMwF,CAAAA,CAAQxF,GAAlB;AAAA,UACIyF,CAAAA,GAASD,CAAAA,CAAQC,MADrB;AAAA,UAEI5F,CAAAA,GAAO2F,CAAAA,CAAQ3F,IAFnB;AAAA,UAGI6F,CAAAA,GAAiBF,CAAAA,CAAQE,cAH7B;AAAA,UAIIC,CAAAA,GAAcH,CAAAA,CAAQG,WAJ1B;AAAA,UAKIC,CAAAA,GAAAA,CAA8C,CAA9CA,KAAkBJ,CAAAA,CAAQI,eAL9B;AAAA,UAMIC,CAAAA,GAAcN,CAAAA,CAAIC,OAAJD,CAAYM,WAN9B;AAAA,UAOIC,CAAAA,GAAUD,CAAAA,CAAYC,OAP1B;AAAA,UAQIC,CAAAA,GAAYF,CAAAA,CAAYG,YAAZH,CAAyBN,CAAAA,CAAIC,OAAJD,CAAYU,OAArCJ,CARhB;;AAUA,UAAIL,CAAAA,CAAQU,aAAZ,EAA2B;AACzB,YAAIC,CAAAA,GAAgBJ,CAAAA,CAAUK,UAAVL,EAApB;AAAA,YACIM,CAAAA,GAAiBF,CAAAA,CAAcnG,CAAdmG,CADrB;AAEA,YAAIE,CAAAA,IAAkB1F,IAAAA,CAAK2F,GAAL3F,KAAW,GAAXA,GAAkB0F,CAAAA,CAAeE,SAAvD,EACE,OAAOjC,OAAAA,CAAQC,OAARD,CAAgB+B,CAAAA,CAAeG,QAA/BlC,CAAP;AAIJ;;AAAA,UAAImC,CAAAA,GAAAA;AACF,QAAA,MAAA,EAAU,kBADRA;AAEF,wBAAgB,kBAFdA;AAGF,sCAA8BlB,CAAAA,CAAImB;AAHhCD,OAAJ;AAKAvI,MAAAA,CAAAA,CAAKwD,MAALxD,CAAYuI,CAAZvI,EAAqBqH,CAAAA,CAAIC,OAAJD,CAAYkB,OAAjCvI,EAA0CsH,CAAAA,CAAQiB,OAAlDvI,GAEIyH,CAAAA,IAAezH,CAAAA,CAAKgC,QAALhC,CAAcyH,CAAdzH,CAAfyH,KACFc,CAAAA,CAAO,aAAPA,GAA2B,YAAYd,CADrCA,CAFJzH;AAMA,UAMI2I,CANJ;AAAA,UAMSC,CANT;AAAA,UAAIH,CAAAA,GAAAA;AACFF,QAAAA,OAAAA,EAASA,CADPE;AAEFC,QAAAA,IAAAA,EAAM/G,CAAAA,IAAAA,KAAQmB,CAFZ2F;AAGFf,QAAAA,eAAAA,EAAiBA;AAHfe,OAAJ;AAOA,aAAOpB,CAAAA,CAAIC,OAAJD,CAAYwB,iBAAZxB,CAA8BE,CAA9BF,EAAsCvF,CAAtCuF,EAA2CoB,CAA3CpB,EACJyB,IADIzB,CACC,UAAS0B,CAAT,EAASA;AACbH,eAAAA,CAAAA,GAAMG,CAAAA,CAAKC,YAAXJ,EACIA,CAAAA,IAAO5I,CAAAA,CAAKgC,QAALhC,CAAc4I,CAAd5I,CAAP4I,KACFA,CAAAA,GAAM5E,IAAAA,CAAKE,KAALF,CAAW4E,CAAX5E,CADJ4E,CADJA,EAKIpB,CAAAA,KACGoB,CAAAA,CAAIK,UAAJL,IACHhB,CAAAA,CAAQsB,MAARtB,CAAeT,CAAAA,CAAUgC,oBAAzBvB,CAFAJ,CALJoB,EAWIA,CAAAA,IAAOA,CAAAA,CAAIK,UAAXL,IAAyBA,CAAAA,CAAIP,SAA7BO,IACFhB,CAAAA,CAAQwB,GAARxB,CAAYT,CAAAA,CAAUgC,oBAAtBvB,EAA4CgB,CAAAA,CAAIK,UAAhDrB,EAA4DgB,CAAAA,CAAIP,SAAhET,EAA2EP,CAAAA,CAAIC,OAAJD,CAAYU,OAAvFH,CAZFgB,EAeIA,CAAAA,IAAOtB,CAAAA,CAAQU,aAAfY,IACFf,CAAAA,CAAUwB,aAAVxB,CAAwB/F,CAAxB+F,EAAwB/F;AACtBuG,UAAAA,SAAAA,EAAW/E,IAAAA,CAAKC,KAALD,CAAWb,IAAAA,CAAK2F,GAAL3F,KAAW,GAAtBa,IAA8B6D,CAAAA,CAAUmC,sBAD7BxH;AAEtBwG,UAAAA,QAAAA,EAAUM;AAFY9G,SAAxB+F,CAhBFe,EAsBOA,CAtBPA;AAsBOA,OAxBJvB,EA0BJkC,KA1BIlC,CA0BE,UAAS0B,CAAT,EAASA;AACd,YAAIS,CAAAA,GAAYT,CAAAA,CAAKC,YAALD,IAAKC,EAArB;AACA,YAAIhJ,CAAAA,CAAKgC,QAALhC,CAAcwJ,CAAdxJ,CAAJ,EACE,IAAA;AACEwJ,UAAAA,CAAAA,GAAYxF,IAAAA,CAAKE,KAALF,CAAWwF,CAAXxF,CAAZwF;AACA,SAFF,CAEE,OAAOzI,CAAP,EAAOA;AACPyI,UAAAA,CAAAA,GAAAA;AACE5C,YAAAA,YAAAA,EAAc;AADhB4C,WAAAA;AAMAT;AAAAA,cAAAA,CAAAA,CAAKU,MAALV,IAAe,GAAfA,KACFS,CAAAA,CAAU5C,YAAV4C,GAAyB,eADvBT,GAIA1B,CAAAA,CAAIC,OAAJD,CAAYqC,iBAAZrC,KACF0B,CAAAA,GAAO1B,CAAAA,CAAIC,OAAJD,CAAYqC,iBAAZrC,CAA8BrH,CAAAA,CAAK+D,KAAL/D,CAAW+I,CAAX/I,CAA9BqH,CADLA,CAJA0B,EAQJJ,CAAAA,GAAM,IAAIzB,CAAJ,CAAiBsC,CAAjB,EAA4BT,CAA5B,CARFA,EAUkB,eAAlBJ,CAAAA,CAAIhC,SAAc,IACpBiB,CAAAA,CAAQsB,MAARtB,CAAeT,CAAAA,CAAUgC,oBAAzBvB,CAXEmB,EAcEJ,CAdFI;AAcEJ,OApDHtB,CAAP;AAwDF;;AAAA,aAASrI,CAAT,CAAaqI,CAAb,EAAkBvF,CAAlB,EAAuBwF,CAAvB,EAAuBA;AACrBxF,MAAAA,CAAAA,GAAM9B,CAAAA,CAAK6B,aAAL7B,CAAmB8B,CAAnB9B,IAA0B8B,CAA1B9B,GAAgCqH,CAAAA,CAAIsC,eAAJtC,KAAwBvF,CAA9DA;AACA,UAAI8H,CAAAA,GAAAA;AACF9H,QAAAA,GAAAA,EAAKA,CADH8H;AAEFrC,QAAAA,MAAAA,EAAQ;AAFNqC,OAAJ;AAIA5J,aAAAA,CAAAA,CAAKwD,MAALxD,CAAY4J,CAAZ5J,EAAwBsH,CAAxBtH,GACOoH,CAAAA,CAAYC,CAAZD,EAAiBwC,CAAjBxC,CADPpH;AAIF;;AAAA,aAAS6J,CAAT,CAAcxC,CAAd,EAAmBvF,CAAnB,EAAwBH,CAAxB,EAA8B2F,CAA9B,EAA8BA;AAC5BxF,MAAAA,CAAAA,GAAM9B,CAAAA,CAAK6B,aAAL7B,CAAmB8B,CAAnB9B,IAA0B8B,CAA1B9B,GAAgCqH,CAAAA,CAAIsC,eAAJtC,KAAwBvF,CAA9DA;AACA,UAAIgI,CAAAA,GAAAA;AACFhI,QAAAA,GAAAA,EAAKA,CADHgI;AAEFvC,QAAAA,MAAAA,EAAQ,MAFNuC;AAGFnI,QAAAA,IAAAA,EAAMA,CAHJmI;AAIFtC,QAAAA,cAAAA,EAAAA,CAAgB;AAJdsC,OAAJ;AAMA9J,aAAAA,CAAAA,CAAKwD,MAALxD,CAAY8J,CAAZ9J,EAAyBsH,CAAzBtH,GACOoH,CAAAA,CAAYC,CAAZD,EAAiB0C,CAAjB1C,CADPpH;AApHF;;AAAA,QAAIA,CAAAA,GAAOiH,CAAAA,CAAQ,CAARA,CAAX;AAAA,QACIC,CAAAA,GAAeD,CAAAA,CAAQ,EAARA,CADnB;AAAA,QAEIE,CAAAA,GAAYF,CAAAA,CAAQ,CAARA,CAFhB;AAwHAvJ,IAAAA,CAAAA,CAAOD,OAAPC,GAAOD;AACLuB,MAAAA,GAAAA,EAAKA,CADAvB;AAELoM,MAAAA,IAAAA,EAAMA,CAFDpM;AAGL2J,MAAAA,WAAAA,EAAaA;AAHR3J,KAAPC;AAGe0J,GL5EsC,ECkgB/C,UAAU1J,CAAV,EAAkBD,CAAlB,EAA2BO,CAA3B,EAA2BA;AKljBjC,QAAI+L,CAAAA,GAAU9C,CAAAA,CAAQ,EAARA,CAAd;AAAA,QACI+C,CAAAA,GAAiB/C,CAAAA,CAAQ,CAARA,CADrB;AAAA,QAEIE,CAAAA,GAAYF,CAAAA,CAAQ,CAARA,CAFhB;AAAA,QAGIV,CAAAA,GAAeU,CAAAA,CAAQ,CAARA,CAHnB;AAAA,QAMIU,CAAAA,GAAAA,EANJ;AAUAA,IAAAA,CAAAA,CAAYsC,sBAAZtC,GAAqC,YAAA;AACnC,UAAA;AACE,YAAIC,CAAAA,GAAUD,CAAAA,CAAYuC,eAAZvC,EAAd;AACA,eAAOA,CAAAA,CAAYwC,WAAZxC,CAAwBC,CAAxBD,CAAP;AACA,OAHF,CAGE,OAAO5G,CAAP,EAAOA;AACP,eAAA,CAAO,CAAP;AAAO;AAAA,KALX4G,EASAA,CAAAA,CAAYyC,wBAAZzC,GAAuC,YAAA;AACrC,UAAA;AACE,YAAIC,CAAAA,GAAUD,CAAAA,CAAY0C,iBAAZ1C,EAAd;AACA,eAAOA,CAAAA,CAAYwC,WAAZxC,CAAwBC,CAAxBD,CAAP;AACA,OAHF,CAGE,OAAO5G,CAAP,EAAOA;AACP,eAAA,CAAO,CAAP;AAAO;AAAA,KAdX4G,EAkBAA,CAAAA,CAAY2C,cAAZ3C,GAA6B,UAASL,CAAT,EAASA;AACpC,aAAIK,CAAAA,CAAYsC,sBAAZtC,KACKqC,CAAAA,CAAerC,CAAAA,CAAYuC,eAAZvC,EAAfqC,EAA8C7C,CAAAA,CAAUoD,iBAAxDP,CADLrC,GAEOA,CAAAA,CAAYyC,wBAAZzC,KACFqC,CAAAA,CAAerC,CAAAA,CAAY0C,iBAAZ1C,EAAfqC,EAAgD7C,CAAAA,CAAUoD,iBAA1DP,CADErC,GAGFqC,CAAAA,CAAerC,CAAAA,CAAY6C,gBAAZ7C,CAA6BL,CAA7BK,CAAfqC,EAAsD7C,CAAAA,CAAUoD,iBAAhEP,CALT;AAKyEO,KAxB3E5C,EA4BAA,CAAAA,CAAYG,YAAZH,GAA2B,UAASL,CAAT,EAASA;AAClC,aAAIK,CAAAA,CAAYsC,sBAAZtC,KACKqC,CAAAA,CAAerC,CAAAA,CAAYuC,eAAZvC,EAAfqC,EAA8C7C,CAAAA,CAAUsD,kBAAxDT,CADLrC,GAEOA,CAAAA,CAAYyC,wBAAZzC,KACFqC,CAAAA,CAAerC,CAAAA,CAAY0C,iBAAZ1C,EAAfqC,EAAgD7C,CAAAA,CAAUsD,kBAA1DT,CADErC,GAGFqC,CAAAA,CAAerC,CAAAA,CAAY6C,gBAAZ7C,CAA6BL,CAA7BK,CAAfqC,EAAsD7C,CAAAA,CAAUsD,kBAAhET,CALT;AAKyES,KAlC3E9C,EAsCAA,CAAAA,CAAYuC,eAAZvC,GAA8B,YAAA;AAC5B,aAAO+C,YAAP;AAAOA,KAvCT/C,EA0CAA,CAAAA,CAAY0C,iBAAZ1C,GAAgC,YAAA;AAC9B,aAAOgD,cAAP;AAAOA,KA3CThD,EA+CAA,CAAAA,CAAY6C,gBAAZ7C,GAA+B,UAASL,CAAT,EAASA;AACtC,UAAMsD,CAAAA,GAAStD,CAAAA,CAAQsD,MAAvB;AAAA,UACMC,CAAAA,GAAWvD,CAAAA,CAAQuD,QADzB;AAEA,UAAA,KAAsB,CAAtB,KAAWD,CAAX,IAAWA,KAA8C,CAA9CA,KAAiCC,CAA5C,EACE,MAAM,IAAItE,CAAJ,CAAiB,oEAAjB,CAAN;AAEF,aAAA;AACEuE,QAAAA,OAAAA,EAASnD,CAAAA,CAAYC,OAAZD,CAAoB3I,GAD/B;AAEE+L,QAAAA,OAAAA,EAAS,UAASlI,CAAT,EAAciB,CAAd,EAAcA;AAErB6D,UAAAA,CAAAA,CAAYC,OAAZD,CAAoByB,GAApBzB,CAAwB9E,CAAxB8E,EAA6B7D,CAA7B6D,EAAoC,0BAApCA,EAAoC;AAClCiD,YAAAA,MAAAA,EAAQA,CAD0B;AAElCC,YAAAA,QAAAA,EAAUA;AAFwB,WAApClD;AAEYkD;AANhB,OAAA;AAMgBA,KA3DlBlD,EAkEAA,CAAAA,CAAYqD,kBAAZrD,GAAiC,YAAA;AAC/B,UAAIsD,CAAAA,GAAAA,EAAJ;AACA,aAAA;AACEH,QAAAA,OAAAA,EAAS,UAASjI,CAAT,EAASA;AAChB,iBAAOoI,CAAAA,CAAMpI,CAANoI,CAAP;AAAapI,SAFjB;AAIEkI,QAAAA,OAAAA,EAAS,UAASlI,CAAT,EAAciB,CAAd,EAAcA;AACrBmH,UAAAA,CAAAA,CAAMpI,CAANoI,CAAAA,GAAanH,CAAbmH;AAAanH;AALjB,OAAA;AAKiBA,KAzEnB6D,EA8EAA,CAAAA,CAAYwC,WAAZxC,GAA0B,UAASC,CAAT,EAASA;AACjC,UAAI/E,CAAAA,GAAM,mBAAV;;AACA,UAAA;AACE+E,eAAAA,CAAAA,CAAQmD,OAARnD,CAAgB/E,CAAhB+E,EAAqB/E,CAArB+E,GACAA,CAAAA,CAAQsD,UAARtD,CAAmB/E,CAAnB+E,CADAA,EACmB/E,CACZ,CAFP+E;AAGA,OAJF,CAIE,OAAO7G,CAAP,EAAOA;AACP,eAAA,CAAO,CAAP;AAAO;AAAA,KArFX4G,EAyFAA,CAAAA,CAAYC,OAAZD,GAAYC;AACVwB,MAAAA,GAAAA,EAAK,UAAS3K,CAAT,EAAeqF,CAAf,EAAsBuE,CAAtB,EAAiCf,CAAjC,EAAiCA;AACpC,YAAMsD,CAAAA,GAAStD,CAAAA,CAAQsD,MAAvB;AAAA,YACMC,CAAAA,GAAWvD,CAAAA,CAAQuD,QADzB;AAEA,YAAA,KAAsB,CAAtB,KAAWD,CAAX,IAAWA,KAA8C,CAA9CA,KAAiCC,CAA5C,EACE,MAAM,IAAItE,CAAJ,CAAiB,+DAAjB,CAAN;AAEF,YAAI4E,CAAAA,GAAAA;AACFvF,UAAAA,IAAAA,EAAM0B,CAAAA,CAAQ1B,IAAR0B,IAAgB,GADpB6D;AAEFP,UAAAA,MAAAA,EAAAA,CAFEO;AAGFN,UAAAA,QAAAA,EAAAA;AAHEM,SAAJ;AAOO1I,eAAAA,IAAAA,CAAKyB,KAALzB,CAAW4F,CAAX5F,MAKL0I,CAAAA,CAAcC,OAAdD,GAAwB,IAAI1I,IAAJ,CAAS4F,CAAT,CALnB5F,GAQPsH,CAAAA,CAAQX,GAARW,CAAYtL,CAAZsL,EAAkBjG,CAAlBiG,EAAyBoB,CAAzBpB,CAROtH,EASAkF,CAAAA,CAAYC,OAAZD,CAAoB3I,GAApB2I,CAAwBlJ,CAAxBkJ,CATAlF;AASwBhE,OAvBvBmJ;AA0BV5I,MAAAA,GAAAA,EAAK,UAASP,CAAT,EAASA;AACZ,eAAOsL,CAAAA,CAAQ/K,GAAR+K,CAAYtL,CAAZsL,CAAP;AAAmBtL,OA3BXmJ;AA8BVsB,MAAAA,MAAAA,EAAQ,UAASzK,CAAT,EAASA;AACf,eAAOsL,CAAAA,CAAQsB,MAARtB,CAAetL,CAAfsL,EAAetL;AAAQmH,UAAAA,IAAAA,EAAM;AAAdnH,SAAfsL,CAAP;AAAoC;AA/B5BnC,KAzFZD,EA4HAjK,CAAAA,CAAOD,OAAPC,GAAiBiK,CA5HjBA;AA4HiBA,GNtFoC,ECiqB/C,UAAUjK,CAAV,EAAkBD,CAAlB,EAAkBA;AM9tBxB,aAASgC,CAAT,CAAiBwC,CAAjB,EAAiBA;AAWf,aAVsB,cAAXqJ,OAAAA,MAAW,IAAyC,YAApBA,OAAAA,MAAAA,CAAOC,QAA5B,GACpB7N,CAAAA,CAAOD,OAAPC,GAAiB+B,CAAAA,GAAU,UAAiBwC,CAAjB,EAAiBA;AAC1C,eAAA,OAAcA,CAAd;AAAcA,OAFI,GAKpBvE,CAAAA,CAAOD,OAAPC,GAAiB+B,CAAAA,GAAU,UAAiBwC,CAAjB,EAAiBA;AAC1C,eAAOA,CAAAA,IAAyB,cAAXqJ,OAAAA,MAAdrJ,IAAuCA,CAAAA,CAAIuJ,WAAJvJ,KAAoBqJ,MAA3DrJ,IAAqEA,CAAAA,KAAQqJ,MAAAA,CAAOjM,SAApF4C,GAAgG,QAAhGA,GAAgG,OAAkBA,CAAzH;AAAyHA,OANvG,EAUfxC,CAAAA,CAAQwC,CAARxC,CAAP;AAGF/B;;AAAAA,IAAAA,CAAAA,CAAOD,OAAPC,GAAiB+B,CAAjB/B;AAAiB+B,GP+CoC,ECqrB/C,UAAU/B,CAAV,EAAkBD,CAAlB,EAA2BO,CAA3B,EAA2BA;AOluBjC,aAASgM,CAAT,CAAwByB,CAAxB,EAAoCC,CAApC,EAAoCA;AAKlC,eAASxD,CAAT,GAASA;AACP,YAAIyD,CAAAA,GAAgBF,CAAAA,CAAWX,OAAXW,CAAmBC,CAAnBD,CAApB;AACAE,QAAAA,CAAAA,GAAgBA,CAAAA,IAAiB,IAAjCA;;AACA,YAAA;AACE,iBAAO3H,IAAAA,CAAKE,KAALF,CAAW2H,CAAX3H,CAAP;AACA,SAFF,CAEE,OAAMjD,CAAN,EAAMA;AACN,gBAAM,IAAIwF,CAAJ,CAAiB,qCAAqCmF,CAAtD,CAAN;AAA4DA;AAIhE;;AAAA,eAASE,CAAT,CAAoBhE,CAApB,EAAoBA;AAClB,YAAA;AACE,cAAI+D,CAAAA,GAAgB3H,IAAAA,CAAKC,SAALD,CAAe4D,CAAf5D,CAApB;AACAyH,UAAAA,CAAAA,CAAWV,OAAXU,CAAmBC,CAAnBD,EAAgCE,CAAhCF;AACA,SAHF,CAGE,OAAM1K,CAAN,EAAMA;AACN,gBAAM,IAAIwF,CAAJ,CAAiB,4BAA4BmF,CAA7C,CAAN;AAAmDA;AAIvD;;AAAA,eAASG,CAAT,CAAsBhJ,CAAtB,EAAsBA;AACpB,YAAA,CAAKA,CAAL,EACE,OAAO+I,CAAAA,CAAAA,EAAAA,CAAP;AAEF,YAAIhE,CAAAA,GAAUM,CAAAA,EAAd;AAAcA,eACPN,CAAAA,CAAQ/E,CAAR+E,CADOM,EAEd0D,CAAAA,CAAWhE,CAAXgE,CAFc1D;AAKhB;;AAAA,eAASmB,CAAT,CAAuBxG,CAAvB,EAA4BiB,CAA5B,EAA4BA;AAC1B,YAAI8D,CAAAA,GAAUM,CAAAA,EAAd;AACAN,QAAAA,CAAAA,CAAQ/E,CAAR+E,CAAAA,GAAe9D,CAAf8D,EACAgE,CAAAA,CAAWhE,CAAXgE,CADAhE;AAlCF;;AAAA,UAA2B,YAAhB8D,OAAAA,CAAgB,IAAhBA,CAA6BA,CAAAA,CAAYhL,MAApD,EACE,MAAM,IAAI6F,CAAJ,CAAiB,2BAAjB,CAAN;AAqCF,aAAA;AACE2B,QAAAA,UAAAA,EAAYA,CADd;AAEE0D,QAAAA,UAAAA,EAAYA,CAFd;AAGEC,QAAAA,YAAAA,EAAcA,CAHhB;AAIExC,QAAAA,aAAAA,EAAeA;AAJjB,OAAA;AA1CF;;AAAA,QAAI9C,CAAAA,GAAeU,CAAAA,CAAQ,CAARA,CAAnB;AAkDAvJ,IAAAA,CAAAA,CAAOD,OAAPC,GAAiBsM,CAAjBtM;AAAiBsM,GRFoC,EC2vB/C,UAAUtM,CAAV,EAAkBD,CAAlB,EAA2BO,CAA3B,EAA2BA;AQxzBjCN,IAAAA,CAAAA,CAAOD,OAAPC,GAAiB,CAAA,CAAQ,EAAR,CAAjBA;AAAyB,GT6D4B,ECkwB/C,UAAUA,CAAV,EAAkBD,CAAlB,EAAkBA;AS/zBxB,aAASqO,CAAT,CAA4BC,CAA5B,EAAiC1F,CAAjC,EAA0C2F,CAA1C,EAAkDC,CAAlD,EAAyDC,CAAzD,EAAiErJ,CAAjE,EAAsEsJ,CAAtE,EAAsEA;AACpE,UAAA;AACE,YAAIC,CAAAA,GAAOL,CAAAA,CAAIlJ,CAAJkJ,CAAAA,CAASI,CAATJ,CAAX;AAAA,YACIjI,CAAAA,GAAQsI,CAAAA,CAAKtI,KADjB;AAEA,OAHF,CAGE,OAAOuI,CAAP,EAAOA;AAEP,eADAL,KAAAA,CAAAA,CAAOK,CAAPL,CACA;AAGEI;;AAAAA,MAAAA,CAAAA,CAAKE,IAALF,GACF/F,CAAAA,CAAQvC,CAARuC,CADE+F,GAGFhG,OAAAA,CAAQC,OAARD,CAAgBtC,CAAhBsC,EAAuB0C,IAAvB1C,CAA4B6F,CAA5B7F,EAAmC8F,CAAnC9F,CAHEgG;AAON;;AAAA,aAASzM,CAAT,CAA2B2B,CAA3B,EAA2BA;AACzB,aAAO,YAAA;AACL,YAAIzD,CAAAA,GAAOC,IAAX;AAAA,YACI6D,CAAAA,GAAO7B,SADX;AAEA,eAAO,IAAIsG,OAAJ,CAAY,UAAUC,CAAV,EAAmB2F,CAAnB,EAAmBA;AAGpC,mBAASC,CAAT,CAAenI,CAAf,EAAeA;AACbgI,YAAAA,CAAAA,CAAmBC,CAAnBD,EAAwBzF,CAAxByF,EAAiCE,CAAjCF,EAAyCG,CAAzCH,EAAgDI,CAAhDJ,EAAwD,MAAxDA,EAAgEhI,CAAhEgI,CAAAA;AAGF;;AAAA,mBAASI,CAAT,CAAgBvD,CAAhB,EAAgBA;AACdmD,YAAAA,CAAAA,CAAmBC,CAAnBD,EAAwBzF,CAAxByF,EAAiCE,CAAjCF,EAAyCG,CAAzCH,EAAgDI,CAAhDJ,EAAwD,OAAxDA,EAAiEnD,CAAjEmD,CAAAA;AAPF;;AAAA,cAAIC,CAAAA,GAAMzK,CAAAA,CAAGzB,KAAHyB,CAASzD,CAATyD,EAAeK,CAAfL,CAAV;AAUA2K,UAAAA,CAAAA,CAAAA,KAAMnJ,CAANmJ,CAAAA;AAAMnJ,SAXD,CAAP;AAWQA,OAdV;AAmBFpF;;AAAAA,IAAAA,CAAAA,CAAOD,OAAPC,GAAiBiC,CAAjBjC;AAAiBiC,GVyBoC,EC4yB/C,UAAUjC,CAAV,EAAkBD,CAAlB,EAA2BO,CAA3B,EAA2BA;AUr1BjC,aAASyO,CAAT,CAAuB7D,CAAvB,EAA4BtB,CAA5B,EAA4BA;AAC1B,UAAIoF,CAAAA,GAAAA,EAAJ;AACA1M,aAAAA,CAAAA,CAAKwD,MAALxD,CAAY0M,CAAZ1M,EAAuBsH,CAAvBtH,GAAuBsH,CAGlBoF,CAAAA,CAAUzD,UAHQ3B,IAGMsB,CAAAA,CAAIK,UAHV3B,KAIrBoF,CAAAA,CAAUzD,UAAVyD,GAAuB9D,CAAAA,CAAIK,UAJN3B,CAAvBtH,EAOO0M,CAPP1M;AAUF;;AAAA,aAAS2M,CAAT,CAAuB/D,CAAvB,EAAuBA;AACrB,aAAO6D,CAAAA,CAAc7D,CAAd6D,CAAP;AAGF;;AAAA,aAASG,CAAT,CAA2BvF,CAA3B,EAAgC1F,CAAhC,EAAgCA;AAC9BA,aAAAA,CAAAA,GAAO8K,CAAAA,CAAcpF,CAAdoF,EAAmB9K,CAAnB8K,CAAP9K,EACO4K,CAAAA,CAAK1C,IAAL0C,CAAUlF,CAAVkF,EAAelF,CAAAA,CAAIsC,eAAJtC,KAAwB,eAAvCkF,EAAwD5K,CAAxD4K,CADP5K;AAIF;;AAAA,aAASkL,CAAT,CAA2BxF,CAA3B,EAAgC1F,CAAhC,EAAgCA;AAC9B,UAAA,CAAKA,CAAL,IAAKA,CAASA,CAAAA,CAAKsH,UAAnB,EAA+B;AAC7B,YAAIA,CAAAA,GAAa5B,CAAAA,CAAIyF,EAAJzF,CAAO0F,MAAP1F,CAAc2F,IAAd3F,CAAmBF,CAAAA,CAAUgC,oBAA7B9B,CAAjB;;AACA,YAAA,CAAI4B,CAAJ,EAKE,OAAO7C,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIG,CAAJ,CAJtB5E,0BAIsB,CAAfyE,CAAP;AAJAzE,QAAAA,CAAAA,GAAAA;AACEsH,UAAAA,UAAAA,EAAYA;AADdtH,SAAAA;AAOJ;;AAAA,aAAO0F,CAAAA,CAAIyF,EAAJzF,CAAOoC,MAAPpC,CAAc1F,CAAd0F,EACJyB,IADIzB,CACC,UAASuB,CAAT,EAASA;AACb,eAAO,IAAIqE,CAAJ,CAAoB5F,CAApB,EAAyBuB,CAAzB,CAAP;AAAgCA,OAF7BvB,CAAP;AAMF;;AAAA,aAAS6F,CAAT,CAAqB7F,CAArB,EAA0B1F,CAA1B,EAA0BA;AACxB,UAAA,CAAKA,CAAL,IAAKA,CAASA,CAAAA,CAAKsH,UAAnB,EAA+B;AAC7B,YAAIA,CAAAA,GAAa5B,CAAAA,CAAIyF,EAAJzF,CAAO0F,MAAP1F,CAAc2F,IAAd3F,CAAmBF,CAAAA,CAAUgC,oBAA7B9B,CAAjB;;AACA,YAAA,CAAI4B,CAAJ,EAKE,OAAO7C,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIG,CAAJ,CAJtB5E,4BAIsB,CAAfyE,CAAP;AAJAzE,QAAAA,CAAAA,GAAAA;AACEsH,UAAAA,UAAAA,EAAYA;AADdtH,SAAAA;AAOJ;;AAAA,aAAOwL,CAAAA,CAAgB9F,CAAhB8F,EAAqBxL,CAArBwL,CAAAA,CACJrE,IADIqE,CACC,UAAUvE,CAAV,EAAUA;AACd,eAAO,IAAIqE,CAAJ,CAAoB5F,CAApB,EAAyBuB,CAAzB,CAAP;AAAgCA,OAF7BuE,CAAP;AAMF;;AAAA,aAASA,CAAT,CAAyB9F,CAAzB,EAA8B1F,CAA9B,EAA8BA;AAC5BA,aAAAA,CAAAA,GAAO8K,CAAAA,CAAcpF,CAAdoF,EAAmB9K,CAAnB8K,CAAP9K,EAEO4K,CAAAA,CAAK1C,IAAL0C,CAAUlF,CAAVkF,EAAelF,CAAAA,CAAIsC,eAAJtC,KAAwB,0BAAvCkF,EAAmE5K,CAAnE4K,CAFP5K;AAKF;;AAAA,aAASyL,CAAT,CAA2B/F,CAA3B,EAA2BA;AAEzB,aAAA,CAAA,CAASA,CAAAA,CAAIyF,EAAJzF,CAAO0F,MAAP1F,CAAc2F,IAAd3F,CAAmBF,CAAAA,CAAUgC,oBAA7B9B,CAAT;AAGF;;AAAA,aAASgG,CAAT,CAA2BhG,CAA3B,EAAgCvF,CAAhC,EAAqCH,CAArC,EAA2C2F,CAA3C,EAA2CA;AACzC,aAAOiF,CAAAA,CAAK1C,IAAL0C,CAAUlF,CAAVkF,EAAezK,CAAfyK,EAAoB5K,CAApB4K,EAA0BjF,CAA1BiF,EACJzD,IADIyD,CACC,UAAS3D,CAAT,EAASA;AACb,eAAO,IAAIqE,CAAJ,CAAoB5F,CAApB,EAAyBuB,CAAzB,CAAP;AAAgCA,OAF7B2D,CAAP;AAMF;;AAAA,aAASe,CAAT,CAAmBjG,CAAnB,EAAwBuB,CAAxB,EAA6B2E,CAA7B,EAA6BA;AAC3B,aAAO,UAAUjG,CAAV,EAAUA;AAqBf,iBAASuG,CAAT,GAASA;AACP,cAAIC,CAAAA,GAAAA,EAAJ;AACA,cAAwB,cAAbL,OAAAA,CAAX,EACE,IAAA;AACEK,YAAAA,CAAAA,CAAKL,QAALK,GAAKL,CAAAA,CAAaA,CAAAA,EAAlBK;AAEF,WAHA,CAGA,OAAO/M,CAAP,EAAOA;AACL,mBAAOqF,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIG,CAAJ,CAAiB,gCAAjB,CAAfH,CAAP;AAAuC,WAL3C,MAK2C,KAGrBtD,CAHqB,KAGlC2K,CAHkC,IAGK,SAAbA,CAHQ,KAIzCK,CAAAA,CAAKL,QAALK,GAAKL,CAAAA,CAAaA,CAJuB;AAM3C,cAA8B,cAAnBD,OAAAA,CAAX,EACE,IAAA;AACEM,YAAAA,CAAAA,CAAKN,cAALM,GAAKN,CAAAA,CAAmBA,CAAAA,EAAxBM;AAEF,WAHA,CAGA,OAAO/M,CAAP,EAAOA;AACL,mBAAOqF,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIG,CAAJ,CAAiB,sCAAjB,CAAfH,CAAP;AAAuC,WAL3C,MAK2C,KAGftD,CAHe,KAGlC0K,CAHkC,IAGiB,SAAnBA,CAHE,KAIzCM,CAAAA,CAAKN,cAALM,GAAKN,CAAAA,CAAmBA,CAJiB;AAO3C,cAAIO,CAAAA,GAAOH,CAAAA,CAASG,IAATH,GAAgB5N,CAAAA,CAAK4C,aAAL5C,CAAmB8N,CAAnB9N,CAA3B;AACA,iBAAOuM,CAAAA,CAAK1C,IAAL0C,CAAUlF,CAAVkF,EAAewB,CAAfxB,EAAqBI,CAAAA,CAAc/D,CAAd+D,CAArBJ,EAAmC3D;AACxCpB,YAAAA,cAAAA,EAAAA,CAAgB;AADwBoB,WAAnC2D,CAAP;AA9CF;;AAAA,YAAIrG,CAAJ,EACIsH,CADJ,EAEIC,CAFJ,EAGIC,CAHJ;AAKI1N,QAAAA,CAAAA,CAAKoC,QAALpC,CAAcsH,CAAdtH,IACFkG,CAAAA,GAAQoB,CADNtH,GAEOA,CAAAA,CAAKmC,QAALnC,CAAcsH,CAAdtH,MACTkG,CAAAA,GAAQoB,CAAAA,CAAQpB,KAAhBA,EACAsH,CAAAA,GAAiBlG,CAAAA,CAAQkG,cADzBtH,EAEAuH,CAAAA,GAAWnG,CAAAA,CAAQmG,QAFnBvH,EAGAwH,CAAAA,GAAsBpG,CAAAA,CAAQoG,mBAJrB1N,CAFPA,EASCkG,CAAAA,IAAmB,MAAVA,CAATA,KACHA,CAAAA,GAAQiB,CAAAA,CAAUwG,qBADfzH,CATDlG;AAcJ,YAAI4N,CAAAA,GAAW5N,CAAAA,CAAK4E,OAAL5E,CAAa4I,CAAb5I,EAAkB,MAAlBA,EAA0B,MAA1BA,CAAf;AAgCAuN,QAAAA,CAAAA,CAAIS,SAAJT,GAAIS,CAAY,CAAhBT;AAEA,YAAIU,CAAAA,GAAa,CAAjB;AACoB,eAAhBC,SAAAA,CAAAA,GAAAA;AAEF,iBAAKX,CAAAA,CAAIS,SAAJT,GAGEM,CAAAA,GACJ/E,IADI+E,CACC,UAAUM,CAAV,EAAUA;AAKd,gBAHAF,CAAAA,GAAa,CAAbA,EAGIE,CAAAA,CAAQC,YAARD,IAAiD,cAAzBA,CAAAA,CAAQC,YAApC,EAAgE;AAG9D,kBAAA,CAAKb,CAAAA,CAAIS,SAAT,EACE,MAAM,IAAIxB,CAAJ,EAAN;AAQF,qBALmC,cAAxBkB,OAAAA,CAAwB,IACjCA,CAAAA,CAAoBS,CAApBT,CADiC,EAK5B1N,CAAAA,CAAKkG,KAALlG,CAAWkG,CAAXlG,EAAkB8I,IAAlB9I,CAAuBkO,CAAvBlO,CAAP;AAKAuN;;AAAAA,mBAAAA,CAAAA,CAAIS,SAAJT,GAAIS,CAAY,CAAhBT,EACO,IAAIN,CAAJ,CAAoB5F,CAApB,EAAyB8G,CAAzB,CADPZ;AACgCY,WAxB/BN,EA2BJtE,KA3BIsE,CA2BE,UAASlF,CAAT,EAASA;AAEd,gBAAIA,CAAAA,CAAIlC,GAAJkC,KACoB,MAAnBA,CAAAA,CAAIlC,GAAJkC,CAAQc,MAAW,IAAwB,QAAnBd,CAAAA,CAAIlC,GAAJkC,CAAQc,MADjCd,KAEAsF,CAAAA,IAAc,CAFlB,EAEqB;AACnB,kBAAII,CAAAA,GAAwC,MAA1B/K,IAAAA,CAAKgL,GAALhL,CAAS,CAATA,EAAY2K,CAAZ3K,CAAlB;AACA2K,qBAAAA,CAAAA,IACOjO,CAAAA,CAAKkG,KAALlG,CAAWqO,CAAXrO,EACJ8I,IADI9I,CACCkO,CADDlO,CADPiO;AAIF;;AAAA,kBAAMtF,CAAN;AAAMA,WArCHkF,CAHFN,GACInH,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIoG,CAAJ,EAAfpG,CADT;AAC4BoG,SAH1B0B,GA8CD3E,KA9CC2E,CA8CK,UAASvF,CAAT,EAASA;AACd4E,gBAAAA,CAAAA,CAAIS,SAAJT,GAAIS,CAAY,CAAhBT,EACM5E,CADN4E;AACM5E,SAhDNuF,CAAgB;AAgDVvF,OAvGZ;AA4GF;;AAAA,aAAS4F,CAAT,CAAiBlH,CAAjB,EAAsBuB,CAAtB,EAA2B3G,CAA3B,EAAgC+C,CAAhC,EAAsCuI,CAAtC,EAAsCA;AACpC,UAAI9L,KAAAA,CAAM+M,OAAN/M,CAAcuD,CAAdvD,CAAJ,EACE,OAAO,UAAShD,CAAT,EAAeqP,CAAf,EAAeA;AACpB,YAAA,CAAKrP,CAAL,EACE,MAAM,IAAI8H,CAAJ,CAAiB,0BAAjB,CAAN;AAGF,YAAIkI,CAAAA,GAAKzO,CAAAA,CAAKuE,IAALvE,CAAUgF,CAAVhF,EAAUgF;AAAOvG,UAAAA,IAAAA,EAAMA;AAAbuG,SAAVhF,CAAT;AACA,YAAA,CAAKyO,CAAL,EACE,MAAM,IAAIlI,CAAJ,CAAiB,6BAAjB,CAAN;AAGF,eAAOgI,CAAAA,CAAQlH,CAARkH,EAAa3F,CAAb2F,EAAkBtM,CAAlBsM,EAAuBE,CAAvBF,EAA2BhB,CAA3BgB,CAAAA,CAAgCT,CAAhCS,CAAP;AAGG,OAbL;;AAaK,UAAIvJ,CAAAA,CAAK0J,KAAL1J,IACPA,CAAAA,CAAK0J,KAAL1J,CAAW2J,KADJ3J,IAEqB,MAA5BA,CAAAA,CAAK0J,KAAL1J,CAAW2J,KAAX3J,CAAiBtE,MAFd,EAE4B;AAEjC,gBADasE,CAAAA,CAAK0J,KAAL1J,CAAW2J,KAAX3J,CAAiB,CAAjBA,CACb;AAEE,eAAK,KAAL;AACE,mBAAO,YAAA;AACL,qBAAOuH,CAAAA,CAAKvN,GAALuN,CAASlF,CAATkF,EAAcvH,CAAAA,CAAK+I,IAAnBxB,CAAP;AAGJ,aAJE;;AAIF,eAAK,MAAL;AACE,mBAAO,UAASuB,CAAT,EAASA;AACVP,cAAAA,CAAAA,IAAOA,CAAAA,CAAIS,SAAXT,KACFA,CAAAA,CAAIS,SAAJT,GAAIS,CAAY,CADdT;AAIJ,kBAAI7E,CAAAA,GAAO+D,CAAAA,CAAc7D,CAAd6D,EAAmBqB,CAAnBrB,CAAX;AAEmB,+BAAf7D,CAAAA,CAAIa,MAAW,IAA+B,oBAAfb,CAAAA,CAAIa,MAApB,IAEjBzJ,CAAAA,CAAKwD,MAALxD,CAAY0I,CAAZ1I,EAAY0I;AACVkG,gBAAAA,UAAAA,EAAY3M,CAAAA,CAAI2M,UADNlG;AAEVmG,gBAAAA,QAAAA,EAAU5M,CAAAA,CAAI4M;AAFJnG,eAAZ1I,CAFiB;AAQnB,kBAAI8O,CAAAA,GAAAA,EAAJ;AAAA,kBACIrB,CAAAA,GAAW/E,CAAAA,CAAK+E,QADpB;;AAEA,kBAAA,KAAiB3K,CAAjB,KAAI2K,CAAJ,EAA4B;AAC1B,oBAAwB,cAAbA,OAAAA,CAAX,EACE,IAAA;AACEqB,kBAAAA,CAAAA,CAAOrB,QAAPqB,GAAOrB,CAAAA,CAAaA,CAAAA,EAApBqB;AAEF,iBAHA,CAGA,OAAO/N,CAAP,EAAOA;AACL,yBAAOqF,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIG,CAAJ,CAAiB,gCAAjB,CAAfH,CAAP;AAAuC,iBAL3C,MAQsB,SAAbqH,CAAa,KACpBqB,CAAAA,CAAOrB,QAAPqB,GAAOrB,CAAAA,CAAaA,CADA;AAGtB/E,gBAAAA,CAAAA,GAAO1I,CAAAA,CAAKmE,IAALnE,CAAU0I,CAAV1I,EAAgB,UAAhBA,CAAP0I;AAGF;;AAAA,kBAAI8E,CAAAA,GAAiB9E,CAAAA,CAAK8E,cAA1B;;AACA,kBAAA,KAAuB1K,CAAvB,KAAI0K,CAAJ,EAAkC;AAChC,oBAA8B,cAAnBA,OAAAA,CAAX,EACE,IAAA;AACEsB,kBAAAA,CAAAA,CAAOtB,cAAPsB,GAAOtB,CAAAA,CAAmBA,CAAAA,EAA1BsB;AAEF,iBAHA,CAGA,OAAO/N,CAAP,EAAOA;AACL,yBAAOqF,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIG,CAAJ,CAAiB,sCAAjB,CAAfH,CAAP;AAAuC,iBAL3C,MAQ4B,SAAnBoH,CAAmB,KAC1BsB,CAAAA,CAAOtB,cAAPsB,GAAOtB,CAAAA,CAAmBA,CADA;AAG5B9E,gBAAAA,CAAAA,GAAO1I,CAAAA,CAAKmE,IAALnE,CAAU0I,CAAV1I,EAAgB,gBAAhBA,CAAP0I;AAAuB,eAZzB,MAcWA,CAAAA,CAAKqG,OAALrG,IAAKqG,KACuBjM,CADvBiM,KACNrG,CAAAA,CAAKqG,OAALrG,CAAasG,WADZtG,KAELA,CAAAA,CAAKqG,OAALrG,CAAasG,WAAbtG,KACFoG,CAAAA,CAAOE,WAAPF,GAAOE,CAAc,CADnBtG,GAGJA,CAAAA,CAAKqG,OAALrG,GAAe1I,CAAAA,CAAKmE,IAALnE,CAAU0I,CAAAA,CAAKqG,OAAf/O,EAAwB,aAAxBA,CALN0I;;AAOX,kBAAIqF,CAAAA,GAAO/I,CAAAA,CAAK+I,IAAL/I,GAAYhF,CAAAA,CAAK4C,aAAL5C,CAAmB8O,CAAnB9O,CAAvB;AACA,qBAAOqN,CAAAA,CAAkBhG,CAAlBgG,EAAuBU,CAAvBV,EAA6B3E,CAA7B2E,CAAP;AAAoC3E,aAvDtC;AARJ;AA+D0CA;AAM9C;;AAAA,aAASuG,CAAT,CAAmB5H,CAAnB,EAAwBuB,CAAxB,EAA6B3G,CAA7B,EAAkCsL,CAAlC,EAAkCA;AAChC,UAAI2B,CAAAA,GAAAA,EAAJ;;AACA,WAAK,IAAIrK,CAAT,IAAqB5C,CAAAA,CAAI8C,MAAzB,EACE,IAAK9C,CAAAA,CAAI8C,MAAJ9C,CAAW3C,cAAX2C,CAA0B4C,CAA1B5C,CAAL,EAAA;AAIA,YAAI+C,CAAAA,GAAO/C,CAAAA,CAAI8C,MAAJ9C,CAAW4C,CAAX5C,CAAX;AAMA,YAJiB,WAAb4C,CAAa,KACfA,CAAAA,GAAWG,CAAAA,CAAKvG,IADD,GAIbuG,CAAAA,CAAKmK,IAAT,EACED,CAAAA,CAAIrK,CAAJqK,CAAAA,GAAgBlK,CAAhBkK,CADF,KAKA,QAAQrK,CAAR;AAGE,eAAK,MAAL;AACEqK,YAAAA,CAAAA,CAAIE,IAAJF,GAAW5B,CAAAA,CAAUjG,CAAViG,EAAe1E,CAAf0E,EAAoBC,CAApBD,CAAX4B;AACA;;AAEF;AACE,gBAAI5N,CAAAA,GAAKiN,CAAAA,CAAQlH,CAARkH,EAAa3F,CAAb2F,EAAkBtM,CAAlBsM,EAAuBvJ,CAAvBuJ,EAA6BhB,CAA7BgB,CAAT;AACIjN,YAAAA,CAAAA,KACF4N,CAAAA,CAAIrK,CAAJqK,CAAAA,GAAgB5N,CADdA,CAAAA;AATR;AAcF;;AAAA,aAAO4N,CAAP;AAGF;;AAAA,aAASG,CAAT,CAAyBhI,CAAzB,EAA8BuB,CAA9B,EAAmC3G,CAAnC,EAAwCsL,CAAxC,EAAwCA;AAItC,UAHAtL,CAAAA,GAAMA,CAAAA,IAAO2G,CAAb3G,EACAA,CAAAA,GAAMjC,CAAAA,CAAK+D,KAAL/D,CAAWiC,CAAXjC,CADNiC,EAGIR,KAAAA,CAAM+M,OAAN/M,CAAcQ,CAAdR,CAAJ,EAAwB;AAEtB,aADI6N,IAAAA,CAAAA,GAAAA,EAAAA,EACK3Q,CAAAA,GAAI,CADT2Q,EACYC,CAAAA,GAAKtN,CAAAA,CAAIvB,MAAzB,EAAiC/B,CAAAA,GAAI4Q,CAArC,EAAyC5Q,CAAAA,EAAzC,EACE2Q,CAAAA,CAAOvM,IAAPuM,CAAYD,CAAAA,CAAgBhI,CAAhBgI,EAAqBzG,CAArByG,EAA0BpN,CAAAA,CAAItD,CAAJsD,CAA1BoN,EAAkC9B,CAAlC8B,CAAZC;;AAEF,eAAOA,CAAP;AAGF;;AAAA,UAAIE,CAAAA,GAAWvN,CAAAA,CAAIwN,SAAJxN,IAAIwN,EAAnB;;AAEA,WAAK,IAAI5M,CAAT,IAAgB2M,CAAhB,EACOA,CAAAA,CAASlQ,cAATkQ,CAAwB3M,CAAxB2M,MAKDxP,CAAAA,CAAKmC,QAALnC,CAAcwP,CAAAA,CAAS3M,CAAT2M,CAAdxP,KAAgCyB,KAAAA,CAAM+M,OAAN/M,CAAc+N,CAAAA,CAAS3M,CAAT2M,CAAd/N,CAL/B+N,MAMHA,CAAAA,CAAS3M,CAAT2M,CAAAA,GAAgBH,CAAAA,CAAgBhI,CAAhBgI,EAAqBzG,CAArByG,EAA0BG,CAAAA,CAAS3M,CAAT2M,CAA1BH,EAAyC9B,CAAzC8B,CANbG;;AAWP,UAAIN,CAAAA,GAAMD,CAAAA,CAAU5H,CAAV4H,EAAerG,CAAfqG,EAAoBhN,CAApBgN,EAAyB1B,CAAzB0B,CAAV;AACAjP,aAAAA,CAAAA,CAAKwD,MAALxD,CAAYwP,CAAZxP,EAAsBkP,CAAtBlP,GAEAiC,CAAAA,GAAMjC,CAAAA,CAAKmE,IAALnE,CAAUiC,CAAVjC,EAAe,WAAfA,EAA4B,QAA5BA,CAFNA,EAGAA,CAAAA,CAAKwD,MAALxD,CAAYiC,CAAZjC,EAAiBwP,CAAjBxP,CAHAA,EAIOiC,CAJPjC;AAOF;;AAAA,aAASiN,CAAT,CAAyB5F,CAAzB,EAA8BuB,CAA9B,EAA8BA;AACxBA,MAAAA,CAAAA,KACF9K,KAAK4K,IAAL5K,GAAY8K,CAAZ9K,EACAkC,CAAAA,CAAKwD,MAALxD,CAAYlC,IAAZkC,EAAkBqP,CAAAA,CAAgBhI,CAAhBgI,EAAqBzG,CAArByG,EAA0BzG,CAA1ByG,EAA0BzG,EAA1ByG,CAAlBrP,CADAlC,EAC4C8K,OACrC9K,KAAKmL,UAFZnL,EAQmB,yBAAf8K,CAAAA,CAAIa,MAAW,IAAyBb,CAAAA,CAAI7D,MAA7B,KACjBjH,KAAK4R,MAAL5R,GAAc,YAAA;AACZ,eAAOsI,OAAAA,CAAQC,OAARD,CAAgB,IAAI6G,CAAJ,CAAoB5F,CAApB,CAAhBjB,CAAP;AAA2CiB,OAF5B,CATjBuB,CAAAA;AA1VN;;AAAA,QAAI2D,CAAAA,GAAoBtF,CAAAA,CAAQ,CAARA,CAAxB;AAAA,QACIjH,CAAAA,GAAoBiH,CAAAA,CAAQ,CAARA,CADxB;AAAA,QAEIV,CAAAA,GAAoBU,CAAAA,CAAQ,CAARA,CAFxB;AAAA,QAGIuF,CAAAA,GAAoBvF,CAAAA,CAAQ,EAARA,CAHxB;AAAA,QAIIE,CAAAA,GAAoBF,CAAAA,CAAQ,CAARA,CAJxB;AA2WAvJ,IAAAA,CAAAA,CAAOD,OAAPC,GAAOD;AACLmP,MAAAA,iBAAAA,EAAmBA,CADdnP;AAELoP,MAAAA,iBAAAA,EAAmBA,CAFdpP;AAGL2P,MAAAA,iBAAAA,EAAmBA,CAHd3P;AAIL4P,MAAAA,iBAAAA,EAAmBA,CAJd5P;AAKLyP,MAAAA,UAAAA,EAAYA;AALPzP,KAAPC;AAKcwP,GXjUuC,ECkrC/C,UAAUxP,CAAV,EAAkBD,CAAlB,EAA2BO,CAA3B,EAA2BA;AW5tCjC,aAAS2R,CAAT,GAASA;AACP,aAAO3P,CAAAA,CAAKkD,eAALlD,CAAqB,EAArBA,CAAP;AAGF;;AAAA,aAAS4P,CAAT,GAASA;AACP,aAAO5P,CAAAA,CAAKkD,eAALlD,CAAqB,EAArBA,CAAP;AAGF;;AAAA,aAAS6P,CAAT,CAAiB5N,CAAjB,EAAiBA;AACf,aAAA,EAAA,CAAIA,CAAJ,IAAIA,CACCA,CAAAA,CAAIwF,WADLxF,IACKwF,CAAexF,CAAAA,CAAI6N,OAD5B,IAC4BA,CACxBrO,KAAAA,CAAM+M,OAAN/M,CAAcQ,CAAAA,CAAI8N,MAAlBtO,CAFJ,CAAA;AAQF;;AAAA,aAASuO,CAAT,CAAqBC,CAArB,EAAkCxR,CAAlC,EAAwC6C,CAAxC,EAAwCA;AAClC2O,MAAAA,CAAAA,CAAYC,gBAAZD,GACFA,CAAAA,CAAYC,gBAAZD,CAA6BxR,CAA7BwR,EAAmC3O,CAAnC2O,CADEA,GAGFA,CAAAA,CAAYE,WAAZF,CAAwB,OAAOxR,CAA/BwR,EAAqC3O,CAArC2O,CAHEA;AAON;;AAAA,aAASG,CAAT,CAAwBH,CAAxB,EAAqCxR,CAArC,EAA2C6C,CAA3C,EAA2CA;AACrC2O,MAAAA,CAAAA,CAAYI,mBAAZJ,GACFA,CAAAA,CAAYI,mBAAZJ,CAAgCxR,CAAhCwR,EAAsC3O,CAAtC2O,CADEA,GAGFA,CAAAA,CAAYK,WAAZL,CAAwB,OAAOxR,CAA/BwR,EAAqC3O,CAArC2O,CAHEA;AAON;;AAAA,aAASM,CAAT,CAAmBC,CAAnB,EAAmBA;AACjB,UAAIC,CAAAA,GAAS1K,QAAAA,CAAS2K,aAAT3K,CAAuB,QAAvBA,CAAb;AACA0K,aAAAA,CAAAA,CAAOE,KAAPF,CAAaG,OAAbH,GAAuB,MAAvBA,EACAA,CAAAA,CAAOD,GAAPC,GAAaD,CADbC,EAGO1K,QAAAA,CAAS8K,IAAT9K,CAAc+K,WAAd/K,CAA0B0K,CAA1B1K,CAHP0K;AAMF;;AAAA,aAASM,CAAT,CAAmBP,CAAnB,EAAwBlJ,CAAxB,EAAwBA;AACtB,UAAI0J,CAAAA,GAAQ1J,CAAAA,CAAQ2J,UAAR3J,IAAsB,gDAAlC;AAAA,UACI4J,CAAAA,GAAa,qFADjB;;AAIA,UAAIlR,CAAAA,CAAK8F,YAAL9F,EAAJ,EAAyB;AAIvB,YAAImR,CAAAA,GAAQjM,MAAAA,CAAOkM,IAAPlM,CAAY,GAAZA,EAAiB8L,CAAjB9L,EAAwBgM,CAAxBhM,CAAZ;AACAiM,eAAAA,CAAAA,CAAME,QAANF,CAAepD,IAAfoD,GAAsBX,CAAtBW,EACOA,CADPA;AAGA;;AAAA,aAAOjM,MAAAA,CAAOkM,IAAPlM,CAAYsL,CAAZtL,EAAiB8L,CAAjB9L,EAAwBgM,CAAxBhM,CAAP;AAIJ;;AAAA,aAASoM,CAAT,CAAsBjK,CAAtB,EAA2BkK,CAA3B,EAA2BA;AACzB,UAAIC,CAAAA,GAAiBD,CAAAA,IAAUlK,CAAAA,CAAIC,OAAJD,CAAYkK,MAA3C;AACA,aAAOhF,CAAAA,CAAKvN,GAALuN,CAASlF,CAATkF,EAAciF,CAAAA,GAAgB,mCAA9BjF,EAA8B;AACnCvE,QAAAA,aAAAA,EAAAA,CAAe;AADoB,OAA9BuE,CAAP;AAKF;;AAAA,aAASkF,CAAT,CAAgBpK,CAAhB,EAAqBkK,CAArB,EAA6BG,CAA7B,EAA6BA;AAC3B,UAAI7J,CAAAA,GAAYF,CAAAA,CAAYG,YAAZH,CAAyBN,CAAAA,CAAIC,OAAJD,CAAYU,OAArCJ,CAAhB;AAEA,aAAO2J,CAAAA,CAAajK,CAAbiK,EAAkBC,CAAlBD,CAAAA,CACNxI,IADMwI,CACD,UAASK,CAAT,EAASA;AACb,YAAIC,CAAAA,GAAUD,CAAAA,CAAS,QAAvB;AAAA,YAGI1J,CAAAA,GAAgBJ,CAAAA,CAAUK,UAAVL,EAHpB;AAAA,YAIIM,CAAAA,GAAiBF,CAAAA,CAAc2J,CAAd3J,CAJrB;;AAKA,YAAIE,CAAAA,IAAkB1F,IAAAA,CAAK2F,GAAL3F,KAAW,GAAXA,GAAkB0F,CAAAA,CAAeE,SAAvD,EAAkE;AAChE,cAAIwJ,CAAAA,GAAY7R,CAAAA,CAAKuE,IAALvE,CAAUmI,CAAAA,CAAeG,QAAfH,CAAwB2J,IAAlC9R,EAAkC8R;AAChDJ,YAAAA,GAAAA,EAAKA;AAD2CI,WAAlC9R,CAAhB;AAIA,cAAI6R,CAAJ,EACE,OAAOA,CAAP;AAKJhK;;AAAAA,eAAAA,CAAAA,CAAUgE,YAAVhE,CAAuB+J,CAAvB/J,GAGO0E,CAAAA,CAAKvN,GAALuN,CAASlF,CAATkF,EAAcqF,CAAdrF,EAAcqF;AACnB5J,UAAAA,aAAAA,EAAAA,CAAe;AADI4J,SAAdrF,EAGNzD,IAHMyD,CAGD,UAAS3D,CAAT,EAASA;AACb,cAAI/F,CAAAA,GAAM7C,CAAAA,CAAKuE,IAALvE,CAAU4I,CAAAA,CAAIkJ,IAAd9R,EAAc8R;AACtBJ,YAAAA,GAAAA,EAAKA;AADiBI,WAAd9R,CAAV;AAIA,cAAI6C,CAAJ,EACE,OAAOA,CAAP;AAGF,gBAAM,IAAI0D,CAAJ,CAAiB,iBAAiBmL,CAAjB,GAAuB,sCAAxC,CAAN;AAA8C,SAZzCnF,CAHP1E;AAegD,OAjC3CyJ,CAAP;AAsCF;;AAAA,aAASS,CAAT,CAAwB1K,CAAxB,EAA6B2K,CAA7B,EAAqCC,CAArC,EAAqCA;AACnC,UAAIC,CAAAA,GAAMD,CAAAA,CAAiBE,QAA3B;AAAA,UACIC,CAAAA,GAAMH,CAAAA,CAAiBV,MAD3B;AAAA,UAEIc,CAAAA,GAAQJ,CAAAA,CAAiBI,KAF7B;AAIA,UAAA,CAAKL,CAAL,IAAKA,CAAWI,CAAhB,IAAgBA,CAAQF,CAAxB,EACE,MAAM,IAAI3L,CAAJ,CAAiB,kDAAjB,CAAN;AAGF,UAAI8L,CAAAA,IAASL,CAAAA,CAAOK,KAAPL,KAAiBK,CAA9B,EACE,MAAM,IAAI9L,CAAJ,CAAiB,uDAAjB,CAAN;AAGF,UAAI6B,CAAAA,GAAM9E,IAAAA,CAAKC,KAALD,CAAWb,IAAAA,CAAK2F,GAAL3F,KAAW,GAAtBa,CAAV;AAEA,UAAI0O,CAAAA,CAAOI,GAAPJ,KAAeI,CAAnB,EACE,MAAM,IAAI7L,CAAJ,CAAiB,iBAAiByL,CAAAA,CAAOI,GAAxB,GAA8B,oBAA9B,GACAA,CADA,GACM,GADvB,CAAN;AAIF,UAAIJ,CAAAA,CAAOE,GAAPF,KAAeE,CAAnB,EACE,MAAM,IAAI3L,CAAJ,CAAiB,mBAAmByL,CAAAA,CAAOE,GAA1B,GAAgC,oBAAhC,GACAA,CADA,GACM,GADvB,CAAN;AAIF,UAAIF,CAAAA,CAAOM,GAAPN,GAAaA,CAAAA,CAAOO,GAAxB,EACE,MAAM,IAAIhM,CAAJ,CAAiB,sCAAjB,CAAN;AAGF,UAAK6B,CAAAA,GAAMf,CAAAA,CAAIC,OAAJD,CAAYmL,YAAlBpK,GAAkC4J,CAAAA,CAAOO,GAA9C,EACE,MAAM,IAAIhM,CAAJ,CAAiB,wCAAjB,CAAN;AAGF,UAAIyL,CAAAA,CAAOM,GAAPN,GAAc5J,CAAAA,GAAMf,CAAAA,CAAIC,OAAJD,CAAYmL,YAApC,EACE,MAAM,IAAIjM,CAAJ,CAAiB,kCAAjB,CAAN;AAIJ;;AAAA,aAASkM,CAAT,CAAsBpL,CAAtB,EAA2BC,CAA3B,EAA2BA;AACzB,UAAIxH,SAAAA,CAAUY,MAAVZ,GAAmB,CAAvB,EACE,MAAM,IAAIyG,CAAJ,CAAiB,sEAAjB,CAAN;AAEFe,MAAAA,CAAAA,GAAUA,CAAAA,IAAAA,EAAVA;AAGA,UAAIoL,CAAAA,GAAe1S,CAAAA,CAAK2F,mBAAL3F,CAAyBsH,CAAAA,CAAQoL,YAAjC1S,KAAkDqH,CAAAA,CAAIC,OAAJD,CAAYqL,YAAjF;AAAA,UACInB,CAAAA,GAASvR,CAAAA,CAAK2F,mBAAL3F,CAAyBsH,CAAAA,CAAQiK,MAAjCvR,KAA4CqH,CAAAA,CAAIC,OAAJD,CAAYkK,MADrE;AAAA,UAEIoB,CAAAA,GAAc3S,CAAAA,CAAK2F,mBAAL3F,CAAyBsH,CAAAA,CAAQqL,WAAjC3S,KAAiDqH,CAAAA,CAAIC,OAAJD,CAAYsL,WAF/E;AAAA,UAGIC,CAAAA,GAAW5S,CAAAA,CAAK2F,mBAAL3F,CAAyBsH,CAAAA,CAAQsL,QAAjC5S,KAA8CqH,CAAAA,CAAIC,OAAJD,CAAYuL,QAHzE;AAAA,UAIIC,CAAAA,GAAY7S,CAAAA,CAAK2F,mBAAL3F,CAAyBsH,CAAAA,CAAQuL,SAAjC7S,KAA+CqH,CAAAA,CAAIC,OAAJD,CAAYwL,SAJ3E;AAAA,UAKIC,CAAAA,GAAY9S,CAAAA,CAAK2F,mBAAL3F,CAAyBsH,CAAAA,CAAQwL,SAAjC9S,KAA+CqH,CAAAA,CAAIC,OAAJD,CAAYyL,SAL3E;AAAA,UAOIC,CAAAA,GAAUxB,CAAAA,CAAOjN,OAAPiN,CAAe,SAAfA,IAA4B,CAA5BA,GAAgCA,CAAhCA,GAAyCA,CAAAA,GAAS,SAPhE;AASAmB,aAAAA,CAAAA,GAAeA,CAAAA,IAAgBK,CAAAA,GAAU,eAAzCL,EACAC,CAAAA,GAAcA,CAAAA,IAAeI,CAAAA,GAAU,cADvCL,EAEAE,CAAAA,GAAWA,CAAAA,IAAYG,CAAAA,GAAU,WAFjCL,EAGAI,CAAAA,GAAYA,CAAAA,IAAaC,CAAAA,GAAU,YAHnCL,EAIAG,CAAAA,GAAYA,CAAAA,IAAaE,CAAAA,GAAU,YAJnCL,EAImC;AAGjCnB,QAAAA,MAAAA,EAAQA,CAHyB;AAIjCmB,QAAAA,YAAAA,EAAcA,CAJmB;AAKjCC,QAAAA,WAAAA,EAAaA,CALoB;AAMjCC,QAAAA,QAAAA,EAAUA,CANuB;AAOjCE,QAAAA,SAAAA,EAAWA,CAPsB;AAQjCD,QAAAA,SAAAA,EAAWA;AARsB,OAJnCH;AAgBF;;AAAA,aAASM,CAAT,CAA2BC,CAA3B,EAA2BA;AAEzB,UAAIC,CAAAA,GAAa,KAAjB;AAAA,UACIC,CAAAA,GAAa,oBADjB;AAAA,UAEIC,CAAAA,GAAWH,CAFf;AAK2B,cAAvBG,CAAAA,CAASC,MAATD,CAAgB,CAAhBA,CAAuB,IAA8B,QAAvBA,CAAAA,CAASC,MAATD,CAAgB,CAAhBA,CAAP,KACzBA,CAAAA,GAAWA,CAAAA,CAASE,SAATF,CAAmB,CAAnBA,CADc,GAKA,QAAvBA,CAAAA,CAASC,MAATD,CAAgB,CAAhBA,CAAuB,IAA8B,QAAvBA,CAAAA,CAASC,MAATD,CAAgB,CAAhBA,CAAP,KACzBA,CAAAA,GAAWA,CAAAA,CAASE,SAATF,CAAmB,CAAnBA,CADc,CALA;;AAc3B,WAJA,IAGIG,CAHJ,EAAItR,CAAAA,GAAAA,EAIJ,IAAa;AAEX,YAAA,EADAsR,CAAAA,GAAQJ,CAAAA,CAAWK,IAAXL,CAAgBC,CAAhBD,CACR,CAAA,EAAc;AAEd,YAAItQ,CAAAA,GAAM0Q,CAAAA,CAAM,CAANA,CAAV;AAAA,YACIzP,CAAAA,GAAQyP,CAAAA,CAAM,CAANA,CADZ;AAKEtR,QAAAA,CAAAA,CAAIY,CAAJZ,CAAAA,GADU,eAARY,CAAQ,IAAsB,mBAARA,CAAd,IAAgD,WAARA,CAAxC,GACCiB,CADD,GAGCjD,kBAAAA,CAAmBiD,CAAAA,CAAMxD,OAANwD,CAAcoP,CAAdpP,EAA0B,GAA1BA,CAAnBjD,CAFXoB;AAKJ;;AAAA,aAAOA,CAAP;AAxNF;;AAAA,QAAIsK,CAAAA,GAAOtF,CAAAA,CAAQ,CAARA,CAAX;AAAA,QACIjH,CAAAA,GAAOiH,CAAAA,CAAQ,CAARA,CADX;AAAA,QAEIU,CAAAA,GAAcV,CAAAA,CAAQ,CAARA,CAFlB;AAAA,QAGIV,CAAAA,GAAeU,CAAAA,CAAQ,CAARA,CAHnB;AA2NAvJ,IAAAA,CAAAA,CAAOD,OAAPC,GAAOD;AACLkS,MAAAA,aAAAA,EAAeA,CADVlS;AAELmS,MAAAA,aAAAA,EAAeA,CAFVnS;AAGL6T,MAAAA,YAAAA,EAAcA,CAHT7T;AAILgU,MAAAA,MAAAA,EAAQA,CAJHhU;AAKLsU,MAAAA,cAAAA,EAAgBA,CALXtU;AAMLgV,MAAAA,YAAAA,EAAcA,CANThV;AAOL8S,MAAAA,SAAAA,EAAWA,CAPN9S;AAQLsT,MAAAA,SAAAA,EAAWA,CARNtT;AASLuV,MAAAA,iBAAAA,EAAmBA,CATdvV;AAULoS,MAAAA,OAAAA,EAASA,CAVJpS;AAWLuS,MAAAA,WAAAA,EAAaA,CAXRvS;AAYL2S,MAAAA,cAAAA,EAAgBA;AAZX3S,KAAPC;AAYkB0S,GZxLmC,ECy6C/C,UAAU1S,CAAV,EAAkBD,CAAlB,EAA2BO,CAA3B,EAA2BA;AYz9CjC,QAAIyV,CAAAA,GAAexM,CAAAA,CAAQ,EAARA,CAAnB;AAAA,QACIU,CAAAA,GAAcV,CAAAA,CAAQ,CAARA,CADlB;AAGAvJ,IAAAA,CAAAA,CAAOD,OAAPC,GAAiBuJ,CAAAA,CAAQ,EAARA,CAAAA,CAAqBU,CAArBV,EAAkCwM,CAAlCxM,CAAjBvJ;AAAmD+V,Gb6CE,EC+7C/C,UAAU/V,CAAV,EAAkBD,CAAlB,EAA2BO,CAA3B,EAA2BA;Aa7+CjC,aAAS2V,CAAT,CAAkBrL,CAAlB,EAAkBA;AAChB,aAAIA,CAAAA,CAASC,OAATD,CAAiBtJ,GAAjBsJ,CAAqB,cAArBA,KACFA,CAAAA,CAASC,OAATD,CAAiBtJ,GAAjBsJ,CAAqB,cAArBA,EAAqCsL,WAArCtL,GAAmDhE,OAAnDgE,CAA2D,kBAA3DA,KAAkF,CADhFA,GAEGA,CAAAA,CAASuL,IAATvL,GAEJiB,KAFIjB,CAEE,UAAA,CAAA,EAAA;AACL,eAAA;AACE+D,UAAAA,KAAAA,EAAOtL,CADT;AAEE6F,UAAAA,YAAAA,EAAc;AAFhB,SAAA;AAEgB,OALb0B,CAFHA,GAWKA,CAAAA,CAAS9C,IAAT8C,EAXT;AAeF;;AAAA,aAASwL,CAAT,CAAsBrK,CAAtB,EAA8Bf,CAA9B,EAA8BA;AAC5B,UAAMvG,CAAAA,GAA2B,aAAhB,CAAA,CAAOuG,CAAP,CAAjB;AAAA,UACMqL,CAAAA,GAAAA;AACJ/K,QAAAA,YAAAA,EAAc7G,CAAAA,GAAW6B,IAAAA,CAAKC,SAALD,CAAe0E,CAAf1E,CAAX7B,GAAkCuG,CAD5CqL;AAEJtK,QAAAA,MAAAA,EAAQA;AAFJsK,OADN;AAKI5R,aAAAA,CAAAA,KACF4R,CAAAA,CAAOC,YAAPD,GAAsB,MAAtBA,EACAA,CAAAA,CAAOE,YAAPF,GAAsBrL,CAFpBvG,CAAAA,EAIG4R,CAJH5R;AAQN;;AAAA,aAASsR,CAAT,CAAsBlM,CAAtB,EAA8BzF,CAA9B,EAAmCH,CAAnC,EAAmCA;AACjC,UAAIkP,CAAAA,GAAOlP,CAAAA,CAAK+G,IAAhB;AAAA,UACIH,CAAAA,GAAU5G,CAAAA,CAAK4G,OAAL5G,IAAK4G,EADnB;AA8BA,aAzBoB,wBAHDA,CAAAA,CAAQ,cAARA,CAAAA,IAA2BA,CAAAA,CAAQ,cAARA,CAA3BA,IAAsD,EAGrD,KAAsBsI,CAAtB,IAA8C,YAATA,OAAAA,CAArC,KAClBA,CAAAA,GAAO7M,IAAAA,CAAKC,SAALD,CAAe6M,CAAf7M,CADW,GAID0P,CAAAA,CAAM5R,CAAN4R,EAAM5R;AACvByF,QAAAA,MAAAA,EAAQA,CADezF;AAEvByG,QAAAA,OAAAA,EAAS5G,CAAAA,CAAK4G,OAFSzG;AAGvB+O,QAAAA,IAAAA,EAAMA,CAHiB/O;AAIvBoS,QAAAA,WAAAA,EAAavS,CAAAA,CAAK+F,eAAL/F,GAAuB,SAAvBA,GAAmC;AAJzBG,OAAN4R,CAAAA,CAMlB5K,IANkB4K,CAMb,UAASpL,CAAT,EAASA;AACb,YAAI+D,CAAAA,GAAAA,CAAS/D,CAAAA,CAAS6L,EAAtB;AAAA,YACI1K,CAAAA,GAASnB,CAAAA,CAASmB,MADtB;AAEA,eAAOkK,CAAAA,CAASrL,CAATqL,CAAAA,CACJ7K,IADI6K,CACC,UAAA,CAAA,EAAA;AACJ,iBAAOG,CAAAA,CAAarK,CAAbqK,EAAqBpL,CAArBoL,CAAP;AAA4BpL,SAFzBiL,EAIJ7K,IAJI6K,CAIC,UAAA,CAAA,EAAA;AACJ,cAAItH,CAAJ,EAEE,MAAM0H,CAAN;AAEF,iBAAOA,CAAP;AAAOA,SATJJ,CAAP;AASWI,OAlBML,CAqBnB;Abk7CF;;AAAA,QAAIjU,CAAAA,GAAUzB,CAAAA,CAAoB,CAApBA,CAAd;AAAA,Qal/CI0V,CAAAA,GAAQzM,CAAAA,CAAQ,EAARA,Cbk/CZ;Aa/6CAvJ,IAAAA,CAAAA,CAAOD,OAAPC,GAAiB+V,CAAjB/V;AAAiB+V,GdlBoC,ECkhD/C,UAAU/V,CAAV,EAAkBD,CAAlB,EAAkBA;Ac/kDxB,QAAI2W,CAAAA,GAAW,UAAW7W,CAAX,EAAWA;AAC1B,eAAS8W,CAAT,GAASA;AACTvW,aAAK4V,KAAL5V,GAAK4V,CAAQ,CAAb5V,EACAA,KAAKwW,YAALxW,GAAoBP,CAAAA,CAAK+W,YADzBxW;AAGAuW;;AAAAA,aAAAA,CAAAA,CAAEhV,SAAFgV,GAAc9W,CAAd8W,EACO,IAAIA,CAAJ,EADPA;AACWA,KANI,CAOI,eAATxW,OAAAA,IAAS,GAAcA,IAAd,GAAqBC,IAPzB,CAAf;;AAOwCA,KACxC,UAAUD,CAAV,EAAUA;AAAAA,OAEQ,UAAUJ,CAAV,EAAUA;AAmB1B,iBAASoX,CAAT,CAAoB5S,CAApB,EAAoBA;AAClB,iBAAOA,CAAAA,IAAO6S,QAAAA,CAASzV,SAATyV,CAAmBC,aAAnBD,CAAiC7S,CAAjC6S,CAAd;AAuBF;;AAAA,iBAASM,CAAT,CAAuB3W,CAAvB,EAAuBA;AAIrB,cAHoB,YAATA,OAAAA,CAAS,KAClBA,CAAAA,GAAO4W,MAAAA,CAAO5W,CAAP4W,CADW,GAGhB,4BAA4BtT,IAA5B,CAAiCtD,CAAjC,CAAJ,EACE,MAAM,IAAI6W,SAAJ,CAAc,wCAAd,CAAN;AAEF,iBAAO7W,CAAAA,CAAKmV,WAALnV,EAAP;AAGF;;AAAA,iBAAS8W,CAAT,CAAwBzR,CAAxB,EAAwBA;AAItB,iBAHqB,YAAVA,OAAAA,CAAU,KACnBA,CAAAA,GAAQuR,MAAAA,CAAOvR,CAAPuR,CADW,GAGdvR,CAAP;AAIF;;AAAA,iBAAS0R,CAAT,CAAqBC,CAArB,EAAqBA;AACnB,cAAIlK,CAAAA,GAAAA;AACFmK,YAAAA,IAAAA,EAAM,YAAA;AACJ,kBAAI5R,CAAAA,GAAQ2R,CAAAA,CAAME,KAANF,EAAZ;AACA,qBAAA;AAAQnJ,gBAAAA,IAAAA,EAAAA,KAAgBxJ,CAAhBwJ,KAAMxI,CAAd;AAAmCA,gBAAAA,KAAAA,EAAOA;AAA1C,eAAA;AAA0CA;AAH1CyH,WAAJ;AAOIgJ,iBAAAA,CAAAA,CAAQC,QAARD,KACFhJ,CAAAA,CAASD,MAAAA,CAAOC,QAAhBA,CAAAA,GAA4B,YAAA;AAC1B,mBAAOA,CAAP;AAAOA,WAFPgJ,GAMGhJ,CANHgJ;AASN;;AAAA,iBAASqB,CAAT,CAAiBrN,CAAjB,EAAiBA;AACfzK,eAAK+X,GAAL/X,GAAK+X,EAAL/X,EAEIyK,CAAAA,YAAmBqN,CAAnBrN,GACFA,CAAAA,CAAQ7E,OAAR6E,CAAgB,UAASzE,CAAT,EAAgBrF,CAAhB,EAAgBA;AAC9BX,iBAAKgY,MAALhY,CAAYW,CAAZX,EAAkBgG,CAAlBhG;AAAkBgG,WADpByE,EAEGzK,IAFHyK,CADEA,GAIO9G,KAAAA,CAAM+M,OAAN/M,CAAc8G,CAAd9G,IACT8G,CAAAA,CAAQ7E,OAAR6E,CAAgB,UAASwN,CAAT,EAASA;AACvBjY,iBAAKgY,MAALhY,CAAYiY,CAAAA,CAAO,CAAPA,CAAZjY,EAAuBiY,CAAAA,CAAO,CAAPA,CAAvBjY;AAA8B,WADhCyK,EAEGzK,IAFHyK,CADS9G,GAIA8G,CAAAA,IACT3J,MAAAA,CAAOoX,mBAAPpX,CAA2B2J,CAA3B3J,EAAoC8E,OAApC9E,CAA4C,UAASH,CAAT,EAASA;AACnDX,iBAAKgY,MAALhY,CAAYW,CAAZX,EAAkByK,CAAAA,CAAQ9J,CAAR8J,CAAlBzK;AAA0BW,WAD5BG,EAEGd,IAFHc,CAXFd;AA6EF;;AAAA,iBAASyY,CAAT,CAAkB1F,CAAlB,EAAkBA;AAChB,cAAIA,CAAAA,CAAK2F,QAAT,EACE,OAAOpQ,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIkP,SAAJ,CAAc,cAAd,CAAflP,CAAP;AAEFyK,UAAAA,CAAAA,CAAK2F,QAAL3F,GAAK2F,CAAW,CAAhB3F;AAGF;;AAAA,iBAAS4F,CAAT,CAAyBC,CAAzB,EAAyBA;AACvB,iBAAO,IAAItQ,OAAJ,CAAY,UAASC,CAAT,EAAkB2F,CAAlB,EAAkBA;AACnC0K,YAAAA,CAAAA,CAAOC,MAAPD,GAAgB,YAAA;AACdrQ,cAAAA,CAAAA,CAAQqQ,CAAAA,CAAO3C,MAAf1N,CAAAA;AAAe0N,aADjB2C,EAGAA,CAAAA,CAAOE,OAAPF,GAAiB,YAAA;AACf1K,cAAAA,CAAAA,CAAO0K,CAAAA,CAAOrK,KAAdL,CAAAA;AAAcK,aAJhBqK;AAIgBrK,WALX,CAAP;AAUF;;AAAA,iBAASwK,CAAT,CAA+BpC,CAA/B,EAA+BA;AAC7B,cAAIiC,CAAAA,GAAS,IAAII,UAAJ,EAAb;AAAA,cACIC,CAAAA,GAAUN,CAAAA,CAAgBC,CAAhBD,CADd;AAEAC,iBAAAA,CAAAA,CAAOM,iBAAPN,CAAyBjC,CAAzBiC,GACOK,CADPL;AAIF;;AAAA,iBAASO,CAAT,CAAwBxC,CAAxB,EAAwBA;AACtB,cAAIiC,CAAAA,GAAS,IAAII,UAAJ,EAAb;AAAA,cACIC,CAAAA,GAAUN,CAAAA,CAAgBC,CAAhBD,CADd;AAEAC,iBAAAA,CAAAA,CAAOQ,UAAPR,CAAkBjC,CAAlBiC,GACOK,CADPL;AAIF;;AAAA,iBAASS,CAAT,CAA+BC,CAA/B,EAA+BA;AAI7B,eAHIC,IAAAA,CAAAA,GAAO,IAAInW,UAAJ,CAAekW,CAAf,CAAPC,EACAC,CAAAA,GAAQ,IAAI7V,KAAJ,CAAU4V,CAAAA,CAAK3W,MAAf,CADR2W,EAGKnZ,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAImZ,CAAAA,CAAK3W,MAAzB,EAAiCxC,CAAAA,EAAjC,EACEoZ,CAAAA,CAAMpZ,CAANoZ,CAAAA,GAAWjC,MAAAA,CAAOkC,YAAPlC,CAAoBgC,CAAAA,CAAKnZ,CAALmZ,CAApBhC,CAAXiC;;AAEF,iBAAOA,CAAAA,CAAMrU,IAANqU,CAAW,EAAXA,CAAP;AAGF;;AAAA,iBAASE,CAAT,CAAqBJ,CAArB,EAAqBA;AACnB,cAAIA,CAAAA,CAAI1V,KAAR,EACE,OAAO0V,CAAAA,CAAI1V,KAAJ0V,CAAU,CAAVA,CAAP;AAEA,cAAIC,CAAAA,GAAO,IAAInW,UAAJ,CAAekW,CAAAA,CAAIK,UAAnB,CAAX;AACAJ,iBAAAA,CAAAA,CAAKjO,GAALiO,CAAS,IAAInW,UAAJ,CAAekW,CAAf,CAATC,GACOA,CAAAA,CAAKpW,MADZoW;AAKJ;;AAAA,iBAASK,CAAT,GAASA;AACP5Z,iBAAAA,KAAK0Y,QAAL1Y,GAAK0Y,CAAW,CAAhB1Y,EAEAA,KAAK6Z,SAAL7Z,GAAiB,UAAS+S,CAAT,EAASA;AACxB/S,iBAAK8Z,SAAL9Z,GAAiB+S,CAAjB/S,EACK+S,CAAAA,GAEsB,YAATA,OAAAA,CAAS,GACzB/S,KAAK+Z,SAAL/Z,GAAiB+S,CADQ,GAEhB0D,CAAAA,CAAQE,IAARF,IAAgBG,IAAAA,CAAKrV,SAALqV,CAAeK,aAAfL,CAA6B7D,CAA7B6D,CAAhBH,GACTzW,KAAKga,SAALha,GAAiB+S,CADR0D,GAEAA,CAAAA,CAAQI,QAARJ,IAAoBwD,QAAAA,CAAS1Y,SAAT0Y,CAAmBhD,aAAnBgD,CAAiClH,CAAjCkH,CAApBxD,GACTzW,KAAKka,aAALla,GAAqB+S,CADZ0D,GAEAA,CAAAA,CAAQ9P,YAAR8P,IAAwB0D,eAAAA,CAAgB5Y,SAAhB4Y,CAA0BlD,aAA1BkD,CAAwCpH,CAAxCoH,CAAxB1D,GACTzW,KAAK+Z,SAAL/Z,GAAiB+S,CAAAA,CAAK3O,QAAL2O,EADR0D,GAEAA,CAAAA,CAAQK,WAARL,IAAuBA,CAAAA,CAAQE,IAA/BF,IAAuCM,CAAAA,CAAWhE,CAAXgE,CAAvCN,IACTzW,KAAKoa,gBAALpa,GAAwB0Z,CAAAA,CAAY3G,CAAAA,CAAK5P,MAAjBuW,CAAxB1Z,EAEAA,KAAK8Z,SAAL9Z,GAAiB,IAAI4W,IAAJ,CAAIA,CAAM5W,KAAKoa,gBAAXxD,CAAJ,CAHRH,IAIAA,CAAAA,CAAQK,WAARL,KAAwBW,WAAAA,CAAY7V,SAAZ6V,CAAsBH,aAAtBG,CAAoCrE,CAApCqE,KAA6CD,CAAAA,CAAkBpE,CAAlBoE,CAArEV,IACTzW,KAAKoa,gBAALpa,GAAwB0Z,CAAAA,CAAY3G,CAAZ2G,CADfjD,GAGTzW,KAAK+Z,SAAL/Z,GAAiB+S,CAAAA,GAAOjS,MAAAA,CAAOS,SAAPT,CAAiBsD,QAAjBtD,CAA0BP,IAA1BO,CAA+BiS,CAA/BjS,CAjBrBiS,GACH/S,KAAK+Z,SAAL/Z,GAAiB,EAFnBA,EAqBKA,KAAKyK,OAALzK,CAAakB,GAAblB,CAAiB,cAAjBA,MACiB,YAAT+S,OAAAA,CAAS,GAClB/S,KAAKyK,OAALzK,CAAasL,GAAbtL,CAAiB,cAAjBA,EAAiC,0BAAjCA,CADkB,GAETA,KAAKga,SAALha,IAAkBA,KAAKga,SAALha,CAAeqR,IAAjCrR,GACTA,KAAKyK,OAALzK,CAAasL,GAAbtL,CAAiB,cAAjBA,EAAiCA,KAAKga,SAALha,CAAeqR,IAAhDrR,CADSA,GAEAyW,CAAAA,CAAQ9P,YAAR8P,IAAwB0D,eAAAA,CAAgB5Y,SAAhB4Y,CAA0BlD,aAA1BkD,CAAwCpH,CAAxCoH,CAAxB1D,IACTzW,KAAKyK,OAALzK,CAAasL,GAAbtL,CAAiB,cAAjBA,EAAiC,iDAAjCA,CANCA,CArBLA;AA2BqC,WA9BvCA,EAmCIyW,CAAAA,CAAQE,IAARF,KACFzW,KAAK2W,IAAL3W,GAAY,YAAA;AACV,gBAAIqa,CAAAA,GAAW5B,CAAAA,CAASzY,IAATyY,CAAf;AACA,gBAAI4B,CAAJ,EACE,OAAOA,CAAP;AAGF,gBAAIra,KAAKga,SAAT,EACE,OAAO1R,OAAAA,CAAQC,OAARD,CAAgBtI,KAAKga,SAArB1R,CAAP;AACK,gBAAItI,KAAKoa,gBAAT,EACL,OAAO9R,OAAAA,CAAQC,OAARD,CAAgB,IAAIsO,IAAJ,CAAIA,CAAM5W,KAAKoa,gBAAXxD,CAAJ,CAAhBtO,CAAP;AACK,gBAAItI,KAAKka,aAAT,EACL,MAAM,IAAIhR,KAAJ,CAAU,sCAAV,CAAN;AAEA,mBAAOZ,OAAAA,CAAQC,OAARD,CAAgB,IAAIsO,IAAJ,CAAIA,CAAM5W,KAAK+Z,SAAXnD,CAAJ,CAAhBtO,CAAP;AAAsCyR,WAb1C/Z,EAiBAA,KAAK8W,WAAL9W,GAAmB,YAAA;AACjB,mBAAIA,KAAKoa,gBAALpa,GACKyY,CAAAA,CAASzY,IAATyY,CAAAA,IAAkBnQ,OAAAA,CAAQC,OAARD,CAAgBtI,KAAKoa,gBAArB9R,CADvBtI,GAGKA,KAAK2W,IAAL3W,GAAYgL,IAAZhL,CAAiB+Y,CAAjB/Y,CAHT;AAG0B+Y,WAtB1BtC,CAnCJzW,EA8DAA,KAAK0H,IAAL1H,GAAY,YAAA;AACV,gBAAIqa,CAAAA,GAAW5B,CAAAA,CAASzY,IAATyY,CAAf;AACA,gBAAI4B,CAAJ,EACE,OAAOA,CAAP;AAGF,gBAAIra,KAAKga,SAAT,EACE,OAAOb,CAAAA,CAAenZ,KAAKga,SAApBb,CAAP;AACK,gBAAInZ,KAAKoa,gBAAT,EACL,OAAO9R,OAAAA,CAAQC,OAARD,CAAgB+Q,CAAAA,CAAsBrZ,KAAKoa,gBAA3Bf,CAAhB/Q,CAAP;AACK,gBAAItI,KAAKka,aAAT,EACL,MAAM,IAAIhR,KAAJ,CAAU,sCAAV,CAAN;AAEA,mBAAOZ,OAAAA,CAAQC,OAARD,CAAgBtI,KAAK+Z,SAArBzR,CAAP;AAA4ByR,WA3EhC/Z,EA+EIyW,CAAAA,CAAQI,QAARJ,KACFzW,KAAK6W,QAAL7W,GAAgB,YAAA;AACd,mBAAOA,KAAK0H,IAAL1H,GAAYgL,IAAZhL,CAAiBsa,CAAjBta,CAAP;AAAwBsa,WAFxB7D,CA/EJzW,EAqFAA,KAAK+V,IAAL/V,GAAY,YAAA;AACV,mBAAOA,KAAK0H,IAAL1H,GAAYgL,IAAZhL,CAAiBkG,IAAAA,CAAKE,KAAtBpG,CAAP;AAA6BoG,WAtF/BpG,EAyFOA,IAzFPA;AA+FF;;AAAA,iBAASwa,CAAT,CAAyB/Q,CAAzB,EAAyBA;AACvB,cAAIgR,CAAAA,GAAUhR,CAAAA,CAAOiR,WAAPjR,EAAd;AACA,iBAAO8Q,CAAAA,CAAQ/T,OAAR+T,CAAgBE,CAAhBF,IAAgBE,CAAY,CAA5BF,GAAgCE,CAAhCF,GAA0C9Q,CAAjD;AAGF;;AAAA,iBAASkR,CAAT,CAAiBC,CAAjB,EAAwBpR,CAAxB,EAAwBA;AACtBA,UAAAA,CAAAA,GAAUA,CAAAA,IAAAA,EAAVA;AACA,cAAIuJ,CAAAA,GAAOvJ,CAAAA,CAAQuJ,IAAnB;;AAEA,cAAI6H,CAAAA,YAAiBD,CAArB,EAA8B;AAC5B,gBAAIC,CAAAA,CAAMlC,QAAV,EACE,MAAM,IAAIlB,SAAJ,CAAc,cAAd,CAAN;AAEFxX,iBAAKgE,GAALhE,GAAW4a,CAAAA,CAAM5W,GAAjBhE,EACAA,KAAKoW,WAALpW,GAAmB4a,CAAAA,CAAMxE,WADzBpW,EAEKwJ,CAAAA,CAAQiB,OAARjB,KACHxJ,KAAKyK,OAALzK,GAAe,IAAI8X,CAAJ,CAAY8C,CAAAA,CAAMnQ,OAAlB,CADZjB,CAFLxJ,EAKAA,KAAKyJ,MAALzJ,GAAc4a,CAAAA,CAAMnR,MALpBzJ,EAMAA,KAAK6a,IAAL7a,GAAY4a,CAAAA,CAAMC,IANlB7a,EAOAA,KAAK8a,MAAL9a,GAAc4a,CAAAA,CAAME,MAPpB9a,EAQK+S,CAAAA,IAA2B,QAAnB6H,CAAAA,CAAMd,SAAd/G,KACHA,CAAAA,GAAO6H,CAAAA,CAAMd,SAAb/G,EACA6H,CAAAA,CAAMlC,QAANkC,GAAMlC,CAAW,CAFd3F,CARL/S;AAUmB,WAdrB,MAiBEA,KAAKgE,GAALhE,GAAWuX,MAAAA,CAAOqD,CAAPrD,CAAXvX;;AAYF,cATAA,KAAKoW,WAALpW,GAAmBwJ,CAAAA,CAAQ4M,WAAR5M,IAAuBxJ,KAAKoW,WAA5B5M,IAA2C,aAA9DxJ,EAA8D,CAC1DwJ,CAAAA,CAAQiB,OADkD,IACtCzK,KAAKyK,OADiC,KAE5DzK,KAAKyK,OAALzK,GAAe,IAAI8X,CAAJ,CAAYtO,CAAAA,CAAQiB,OAApB,CAF6C,CAA9DzK,EAIAA,KAAKyJ,MAALzJ,GAAcwa,CAAAA,CAAgBhR,CAAAA,CAAQC,MAARD,IAAkBxJ,KAAKyJ,MAAvBD,IAAiC,KAAjDgR,CAJdxa,EAKAA,KAAK6a,IAAL7a,GAAYwJ,CAAAA,CAAQqR,IAARrR,IAAgBxJ,KAAK6a,IAArBrR,IAA6B,IALzCxJ,EAMAA,KAAK8a,MAAL9a,GAAcwJ,CAAAA,CAAQsR,MAARtR,IAAkBxJ,KAAK8a,MANrC9a,EAOAA,KAAK+a,QAAL/a,GAAgB,IAPhBA,EAOgB,CAEK,UAAhBA,KAAKyJ,MAAW,IAAyB,WAAhBzJ,KAAKyJ,MAFnB,KAEyCsJ,CAAzD,EACE,MAAM,IAAIyE,SAAJ,CAAc,2CAAd,CAAN;;AAEFxX,eAAK6Z,SAAL7Z,CAAe+S,CAAf/S;AAOF;;AAAA,iBAASsa,CAAT,CAAgBvH,CAAhB,EAAgBA;AACd,cAAIiI,CAAAA,GAAO,IAAIf,QAAJ,EAAX;AACAlH,iBAAAA,CAAAA,CACGkI,IADHlI,GAEGmI,KAFHnI,CAES,GAFTA,EAGGnN,OAHHmN,CAGW,UAASoI,CAAT,EAASA;AAChB,gBAAIA,CAAJ,EAAW;AACT,kBAAID,CAAAA,GAAQC,CAAAA,CAAMD,KAANC,CAAY,GAAZA,CAAZ;AAAA,kBACIxa,CAAAA,GAAOua,CAAAA,CAAMrD,KAANqD,GAAc1Y,OAAd0Y,CAAsB,KAAtBA,EAA6B,GAA7BA,CADX;AAAA,kBAEIlV,CAAAA,GAAQkV,CAAAA,CAAM/V,IAAN+V,CAAW,GAAXA,EAAgB1Y,OAAhB0Y,CAAwB,KAAxBA,EAA+B,GAA/BA,CAFZ;AAGAF,cAAAA,CAAAA,CAAKhD,MAALgD,CAAYjY,kBAAAA,CAAmBpC,CAAnBoC,CAAZiY,EAAsCjY,kBAAAA,CAAmBiD,CAAnBjD,CAAtCiY;AAAyDhV;AAAAA,WAR/D+M,GAWOiI,CAXPjI;AAcF;;AAAA,iBAASqI,CAAT,CAAsBC,CAAtB,EAAsBA;AACpB,cAAI5Q,CAAAA,GAAU,IAAIqN,CAAJ,EAAd;AAG0BuD,iBAAAA,CAAAA,CAAW7Y,OAAX6Y,CAAmB,cAAnBA,EAAmC,GAAnCA,EACNH,KADMG,CACA,OADAA,EACSzV,OADTyV,CACiB,UAASC,CAAT,EAASA;AAClD,gBAAI9W,CAAAA,GAAQ8W,CAAAA,CAAKJ,KAALI,CAAW,GAAXA,CAAZ;AAAA,gBACIvW,CAAAA,GAAMP,CAAAA,CAAMqT,KAANrT,GAAcyW,IAAdzW,EADV;;AAEA,gBAAIO,CAAJ,EAAS;AACP,kBAAIiB,CAAAA,GAAQxB,CAAAA,CAAMW,IAANX,CAAW,GAAXA,EAAgByW,IAAhBzW,EAAZ;AACAiG,cAAAA,CAAAA,CAAQuN,MAARvN,CAAe1F,CAAf0F,EAAoBzE,CAApByE;AAAoBzE;AAAAA,WANEqV,GASnB5Q,CATmB4Q;AAc5B;;AAAA,iBAASE,CAAT,CAAkBC,CAAlB,EAA4BhS,CAA5B,EAA4BA;AACrBA,UAAAA,CAAAA,KACHA,CAAAA,GAAAA,EADGA,CAAAA,EAILxJ,KAAKqR,IAALrR,GAAY,SAJPwJ,EAKLxJ,KAAK2L,MAAL3L,GAAK2L,KAA4B3G,CAA5B2G,KAASnC,CAAAA,CAAQmC,MAAjBA,GAAwC,GAAxCA,GAA8CnC,CAAAA,CAAQmC,MALtDnC,EAMLxJ,KAAKqW,EAALrW,GAAUA,KAAK2L,MAAL3L,IAAe,GAAfA,IAAsBA,KAAK2L,MAAL3L,GAAc,GANzCwJ,EAOLxJ,KAAKyb,UAALzb,GAAkB,gBAAgBwJ,CAAhB,GAA0BA,CAAAA,CAAQiS,UAAlC,GAA+C,IAP5DjS,EAQLxJ,KAAKyK,OAALzK,GAAe,IAAI8X,CAAJ,CAAYtO,CAAAA,CAAQiB,OAApB,CARVjB,EASLxJ,KAAKgE,GAALhE,GAAWwJ,CAAAA,CAAQxF,GAARwF,IAAe,EATrBA,EAULxJ,KAAK6Z,SAAL7Z,CAAewb,CAAfxb,CAVKwJ;AAsDP;;AAAA,iBAASoM,CAAT,CAAegF,CAAf,EAAsBmB,CAAtB,EAAsBA;AACpB,iBAAO,IAAIzT,OAAJ,CAAY,UAASC,CAAT,EAAkB2F,CAAlB,EAAkBA;AASnC,qBAASiO,CAAT,GAASA;AACPxT,cAAAA,CAAAA,CAAIyT,KAAJzT;AATF;;AAAA,gBAAIqT,CAAAA,GAAU,IAAIrB,CAAJ,CAAYC,CAAZ,EAAmBmB,CAAnB,CAAd;AAEA,gBAAIC,CAAAA,CAAQlB,MAARkB,IAAkBA,CAAAA,CAAQlB,MAARkB,CAAeC,OAArC,EACE,OAAO/N,CAAAA,CAAO,IAAIvO,CAAAA,CAAQ6W,YAAZ,CAAyB,SAAzB,EAAoC,YAApC,CAAPtI,CAAP;AAGF,gBAAIvF,CAAAA,GAAM,IAAIuT,cAAJ,EAAV;AAMAvT,YAAAA,CAAAA,CAAIkQ,MAAJlQ,GAAa,YAAA;AACX,kBAAIa,CAAAA,GAAAA;AACFmC,gBAAAA,MAAAA,EAAQhD,CAAAA,CAAIgD,MADVnC;AAEFiS,gBAAAA,UAAAA,EAAY9S,CAAAA,CAAI8S,UAFdjS;AAGFiB,gBAAAA,OAAAA,EAAS2Q,CAAAA,CAAazS,CAAAA,CAAI0T,qBAAJ1T,MAA+B,EAA5CyS;AAHP5R,eAAJ;AAKAA,cAAAA,CAAAA,CAAQxF,GAARwF,GAAc,iBAAiBb,CAAjB,GAAuBA,CAAAA,CAAI2T,WAA3B,GAAyC9S,CAAAA,CAAQiB,OAARjB,CAAgBtI,GAAhBsI,CAAoB,eAApBA,CAAvDA;AACA,kBAAIuJ,CAAAA,GAAO,cAAcpK,CAAd,GAAoBA,CAAAA,CAAI6B,QAAxB,GAAmC7B,CAAAA,CAAIuC,YAAlD;AACA3C,cAAAA,CAAAA,CAAQ,IAAIgT,CAAJ,CAAaxI,CAAb,EAAmBvJ,CAAnB,CAARjB,CAAAA;AAA2BiB,aAR7Bb,EAWAA,CAAAA,CAAImQ,OAAJnQ,GAAc,YAAA;AACZuF,cAAAA,CAAAA,CAAO,IAAIsJ,SAAJ,CAAc,wBAAd,CAAPtJ,CAAAA;AAAqB,aAZvBvF,EAeAA,CAAAA,CAAI4T,SAAJ5T,GAAgB,YAAA;AACduF,cAAAA,CAAAA,CAAO,IAAIsJ,SAAJ,CAAc,wBAAd,CAAPtJ,CAAAA;AAAqB,aAhBvBvF,EAmBAA,CAAAA,CAAI6T,OAAJ7T,GAAc,YAAA;AACZuF,cAAAA,CAAAA,CAAO,IAAIvO,CAAAA,CAAQ6W,YAAZ,CAAyB,SAAzB,EAAoC,YAApC,CAAPtI,CAAAA;AAA2C,aApB7CvF,EAuBAA,CAAAA,CAAI2K,IAAJ3K,CAASqT,CAAAA,CAAQvS,MAAjBd,EAAyBqT,CAAAA,CAAQhY,GAAjC2E,EAAiC3E,CAAK,CAAtC2E,CAvBAA,EAyB4B,cAAxBqT,CAAAA,CAAQ5F,WAAgB,GAC1BzN,CAAAA,CAAIiB,eAAJjB,GAAIiB,CAAkB,CADI,GAEO,WAAxBoS,CAAAA,CAAQ5F,WAAgB,KACjCzN,CAAAA,CAAIiB,eAAJjB,GAAIiB,CAAkB,CADW,CA3BnCjB,EA+BI,kBAAkBA,CAAlB,IAAyB8N,CAAAA,CAAQE,IAAjC,KACFhO,CAAAA,CAAIuN,YAAJvN,GAAmB,MADjB,CA/BJA,EAmCAqT,CAAAA,CAAQvR,OAARuR,CAAgBpW,OAAhBoW,CAAwB,UAAShW,CAAT,EAAgBrF,CAAhB,EAAgBA;AACtCgI,cAAAA,CAAAA,CAAI8T,gBAAJ9T,CAAqBhI,CAArBgI,EAA2B3C,CAA3B2C;AAA2B3C,aAD7BgW,CAnCArT,EAuCIqT,CAAAA,CAAQlB,MAARkB,KACFA,CAAAA,CAAQlB,MAARkB,CAAe5J,gBAAf4J,CAAgC,OAAhCA,EAAyCG,CAAzCH,GAEArT,CAAAA,CAAI+T,kBAAJ/T,GAAyB,YAAA;AAEA,oBAAnBA,CAAAA,CAAIgU,UAAe,IACrBX,CAAAA,CAAQlB,MAARkB,CAAezJ,mBAAfyJ,CAAmC,OAAnCA,EAA4CG,CAA5CH,CADqB;AACuBG,aAN9CH,CAvCJrT,EAkDAA,CAAAA,CAAIiU,IAAJjU,CAAIiU,KAAkC,CAAlCA,KAAYZ,CAAAA,CAAQlC,SAApB8C,GAAgD,IAAhDA,GAAuDZ,CAAAA,CAAQlC,SAAnEnR,CAlDAA;AAkDmEmR,WA/D9D,CAAP;AAzbF;;AAAA,YAAIrD,CAAAA,GAAAA;AACF9P,UAAAA,YAAAA,EAAc,qBAAqB5G,CADjC0W;AAEFC,UAAAA,QAAAA,EAAU,YAAY3W,CAAZ,IAAoB,cAAcyN,MAF1CiJ;AAGFE,UAAAA,IAAAA,EACE,gBAAgB5W,CAAhB,IACA,UAAUA,CADV,IAEA,YAAA;AACE,gBAAA;AACE,qBAAA,IAAI6W,IAAJ,IAAIA,CACG,CADP;AAEA,aAHF,CAGE,OAAO3T,CAAP,EAAOA;AACP,qBAAA,CAAO,CAAP;AAAO;AAAA,WALX,EANAwT;AAcFI,UAAAA,QAAAA,EAAU,cAAc9W,CAdtB0W;AAeFK,UAAAA,WAAAA,EAAa,iBAAiB/W;AAf5B0W,SAAJ;AAsBA,YAAIA,CAAAA,CAAQK,WAAZ,EACE,IAAII,CAAAA,GAAAA,CACF,oBADEA,EAEF,qBAFEA,EAGF,4BAHEA,EAIF,qBAJEA,EAKF,sBALEA,EAMF,qBANEA,EAOF,sBAPEA,EAQF,uBAREA,EASF,uBATEA,CAAJ;AAAA,YAYIC,CAAAA,GACFC,WAAAA,CAAYC,MAAZD,IACA,UAASjT,CAAT,EAASA;AACP,iBAAOA,CAAAA,IAAO+S,CAAAA,CAAY1Q,OAAZ0Q,CAAoBpW,MAAAA,CAAOS,SAAPT,CAAiBsD,QAAjBtD,CAA0BP,IAA1BO,CAA+BqD,CAA/BrD,CAApBoW,IAAmD/S,CAAS,CAA1E;AAyDN2T,SAxEE;AAwEFA,QAAAA,CAAAA,CAAQvW,SAARuW,CAAkBE,MAAlBF,GAA2B,UAASnX,CAAT,EAAeqF,CAAf,EAAeA;AACxCrF,UAAAA,CAAAA,GAAO2W,CAAAA,CAAc3W,CAAd2W,CAAP3W,EACAqF,CAAAA,GAAQyR,CAAAA,CAAezR,CAAfyR,CADR9W;AAEA,cAAIwX,CAAAA,GAAWnY,KAAK+X,GAAL/X,CAASW,CAATX,CAAf;AACAA,eAAK+X,GAAL/X,CAASW,CAATX,IAAiBmY,CAAAA,GAAWA,CAAAA,GAAW,IAAXA,GAAkBnS,CAA7BmS,GAAqCnS,CAAtDhG;AAAsDgG,SAJxD8R,EAOAA,CAAAA,CAAQvW,SAARuW,CAA0B,MAA1BA,GAA8B,UAASnX,CAAT,EAASA;AAAAA,iBAC9BX,KAAK+X,GAAL/X,CAASsX,CAAAA,CAAc3W,CAAd2W,CAATtX,CAD8BW;AACPA,SARhCmX,EAWAA,CAAAA,CAAQvW,SAARuW,CAAkB5W,GAAlB4W,GAAwB,UAASnX,CAAT,EAASA;AAC/BA,iBAAAA,CAAAA,GAAO2W,CAAAA,CAAc3W,CAAd2W,CAAP3W,EACOX,KAAKoY,GAALpY,CAASW,CAATX,IAAiBA,KAAK+X,GAAL/X,CAASW,CAATX,CAAjBA,GAAkC,IADzCW;AACyC,SAb3CmX,EAgBAA,CAAAA,CAAQvW,SAARuW,CAAkBM,GAAlBN,GAAwB,UAASnX,CAAT,EAASA;AAC/B,iBAAOX,KAAK+X,GAAL/X,CAASwB,cAATxB,CAAwBsX,CAAAA,CAAc3W,CAAd2W,CAAxBtX,CAAP;AAA6CW,SAjB/CmX,EAoBAA,CAAAA,CAAQvW,SAARuW,CAAkBxM,GAAlBwM,GAAwB,UAASnX,CAAT,EAAeqF,CAAf,EAAeA;AACrChG,eAAK+X,GAAL/X,CAASsX,CAAAA,CAAc3W,CAAd2W,CAATtX,IAAgCyX,CAAAA,CAAezR,CAAfyR,CAAhCzX;AAA+CgG,SArBjD8R,EAwBAA,CAAAA,CAAQvW,SAARuW,CAAkBlS,OAAlBkS,GAA4B,UAASO,CAAT,EAAmBC,CAAnB,EAAmBA;AAC7C,eAAK,IAAI3X,CAAT,IAAiBX,KAAK+X,GAAtB,EACM/X,KAAK+X,GAAL/X,CAASwB,cAATxB,CAAwBW,CAAxBX,KACFqY,CAAAA,CAAS9X,IAAT8X,CAAcC,CAAdD,EAAuBrY,KAAK+X,GAAL/X,CAASW,CAATX,CAAvBqY,EAAuC1X,CAAvC0X,EAA6CrY,IAA7CqY,CADErY;AAC2CA,SA3BnD8X,EAgCAA,CAAAA,CAAQvW,SAARuW,CAAkB9D,IAAlB8D,GAAyB,YAAA;AACvB,cAAIH,CAAAA,GAAAA,EAAJ;AACA3X,iBAAAA,KAAK4F,OAAL5F,CAAa,UAASgG,CAAT,EAAgBrF,CAAhB,EAAgBA;AAC3BgX,YAAAA,CAAAA,CAAM1S,IAAN0S,CAAWhX,CAAXgX;AAAWhX,WADbX,GAGO0X,CAAAA,CAAYC,CAAZD,CAHP1X;AAGmB2X,SArCrBG,EAwCAA,CAAAA,CAAQvW,SAARuW,CAAkBS,MAAlBT,GAA2B,YAAA;AACzB,cAAIH,CAAAA,GAAAA,EAAJ;AACA3X,iBAAAA,KAAK4F,OAAL5F,CAAa,UAASgG,CAAT,EAASA;AACpB2R,YAAAA,CAAAA,CAAM1S,IAAN0S,CAAW3R,CAAX2R;AAAW3R,WADbhG,GAGO0X,CAAAA,CAAYC,CAAZD,CAHP1X;AAGmB2X,SA7CrBG,EAgDAA,CAAAA,CAAQvW,SAARuW,CAAkBU,OAAlBV,GAA4B,YAAA;AAC1B,cAAIH,CAAAA,GAAAA,EAAJ;AACA3X,iBAAAA,KAAK4F,OAAL5F,CAAa,UAASgG,CAAT,EAAgBrF,CAAhB,EAAgBA;AAC3BgX,YAAAA,CAAAA,CAAM1S,IAAN0S,CAAM1S,CAAMtE,CAANsE,EAAYe,CAAZf,CAAN0S;AAAkB3R,WADpBhG,GAGO0X,CAAAA,CAAYC,CAAZD,CAHP1X;AAGmB2X,SArDrBG,EAwDIrB,CAAAA,CAAQC,QAARD,KACFqB,CAAAA,CAAQvW,SAARuW,CAAkBtK,MAAAA,CAAOC,QAAzBqK,IAAqCA,CAAAA,CAAQvW,SAARuW,CAAkBU,OADrD/B,CAxDJqB;AA8MA,YAAIyC,CAAAA,GAAAA,CAAW,QAAXA,EAAqB,KAArBA,EAA4B,MAA5BA,EAAoC,SAApCA,EAA+C,MAA/CA,EAAuD,KAAvDA,CAAJ;AA8CAI,QAAAA,CAAAA,CAAQpZ,SAARoZ,CAAkB1U,KAAlB0U,GAA0B,YAAA;AACxB,iBAAO,IAAIA,CAAJ,CAAY3a,IAAZ,EAAYA;AAAO+S,YAAAA,IAAAA,EAAM/S,KAAK8Z;AAAlB9Z,WAAZ,CAAP;AAAqC8Z,SADvCa,EAoCAf,CAAAA,CAAKrZ,IAALqZ,CAAUe,CAAAA,CAAQpZ,SAAlBqY,CApCAe,EAoDAf,CAAAA,CAAKrZ,IAALqZ,CAAU2B,CAAAA,CAASha,SAAnBqY,CApDAe,EAsDAY,CAAAA,CAASha,SAATga,CAAmBtV,KAAnBsV,GAA2B,YAAA;AACzB,iBAAO,IAAIA,CAAJ,CAAavb,KAAK8Z,SAAlB,EAAkBA;AACvBnO,YAAAA,MAAAA,EAAQ3L,KAAK2L,MADUmO;AAEvB2B,YAAAA,UAAAA,EAAYzb,KAAKyb,UAFM3B;AAGvBrP,YAAAA,OAAAA,EAAS,IAAIqN,CAAJ,CAAY9X,KAAKyK,OAAjB,CAHcqP;AAIvB9V,YAAAA,GAAAA,EAAKhE,KAAKgE;AAJa8V,WAAlB,CAAP;AAIY9V,SA3Dd2W,EA+DAY,CAAAA,CAAShN,KAATgN,GAAiB,YAAA;AACf,cAAI/Q,CAAAA,GAAW,IAAI+Q,CAAJ,CAAa,IAAb,EAAa;AAAO5P,YAAAA,MAAAA,EAAQ,CAAf;AAAkB8P,YAAAA,UAAAA,EAAY;AAA9B,WAAb,CAAf;AACAjR,iBAAAA,CAAAA,CAAS6G,IAAT7G,GAAgB,OAAhBA,EACOA,CADPA;AAIF,SArEAmQ;AAqEA,YAAIe,CAAAA,GAAAA,CAAoB,GAApBA,EAAyB,GAAzBA,EAA8B,GAA9BA,EAAmC,GAAnCA,EAAwC,GAAxCA,CAAJ;AAEAH,QAAAA,CAAAA,CAASI,QAATJ,GAAoB,UAASvX,CAAT,EAAc2H,CAAd,EAAcA;AAChC,cAAA,CAA0C,CAA1C,KAAI+P,CAAAA,CAAiBlV,OAAjBkV,CAAyB/P,CAAzB+P,CAAJ,EACE,MAAM,IAAIE,UAAJ,CAAe,qBAAf,CAAN;AAGF,iBAAO,IAAIL,CAAJ,CAAa,IAAb,EAAa;AAAO5P,YAAAA,MAAAA,EAAQA,CAAf;AAAuBlB,YAAAA,OAAAA,EAAAA;AAAU8I,cAAAA,QAAAA,EAAUvP;AAApByG;AAAvB,WAAb,CAAP;AAA+DzG,SALjEuX,EAQA5b,CAAAA,CAAQ6W,YAAR7W,GAAuBI,CAAAA,CAAKyW,YAR5B+E;;AASA,YAAA;AACE,cAAI5b,CAAAA,CAAQ6W,YAAZ;AACA,SAFF,CAEE,OAAO3L,CAAP,EAAOA;AACPlL,UAAAA,CAAAA,CAAQ6W,YAAR7W,GAAuB,UAASiJ,CAAT,EAAkBjI,CAAlB,EAAkBA;AACvCX,iBAAK4I,OAAL5I,GAAe4I,CAAf5I,EACAA,KAAKW,IAALX,GAAYW,CADZX;AAEA,gBAAIuO,CAAAA,GAAQrF,KAAAA,CAAMN,CAANM,CAAZ;AACAlJ,iBAAK6b,KAAL7b,GAAauO,CAAAA,CAAMsN,KAAnB7b;AAAmB6b,WAJrBlc,EAMAA,CAAAA,CAAQ6W,YAAR7W,CAAqB4B,SAArB5B,GAAiCmB,MAAAA,CAAOgb,MAAPhb,CAAcoI,KAAAA,CAAM3H,SAApBT,CANjCnB,EAOAA,CAAAA,CAAQ6W,YAAR7W,CAAqB4B,SAArB5B,CAA+B+N,WAA/B/N,GAA6CA,CAAAA,CAAQ6W,YAPrD7W;AA8EFiW;;AAAAA,QAAAA,CAAAA,CAAMiH,QAANjH,GAAMiH,CAAW,CAAjBjH,EAEK7V,CAAAA,CAAK6V,KAAL7V,KACHA,CAAAA,CAAK6V,KAAL7V,GAAa6V,CAAb7V,EACAA,CAAAA,CAAK+X,OAAL/X,GAAe+X,CADf/X,EAEAA,CAAAA,CAAK4a,OAAL5a,GAAe4a,CAFf5a,EAGAA,CAAAA,CAAKwb,QAALxb,GAAgBwb,CAJbxb,CAFL6V,EASAjW,CAAAA,CAAQmY,OAARnY,GAAkBmY,CATlBlC,EAUAjW,CAAAA,CAAQgb,OAARhb,GAAkBgb,CAVlB/E,EAWAjW,CAAAA,CAAQ4b,QAAR5b,GAAmB4b,CAXnB3F,EAYAjW,CAAAA,CAAQiW,KAARjW,GAAgBiW,CAZhBA;AAYgBA,OAzgBA,CAygBAA,EAzgBA,CAFR7V;AA2gBQ6V,KA3gBlB,CAghBGU,CAhhBH,CADwCtW,EAihBrCsW,OACIA,CAAAA,CAASV,KAATU,CAAeuG,QAlhBkB7c,EAmhBxCL,CAAAA,GAAU2W,CAAAA,CAASV,KAnhBqB5V,EAohBxCL,CAAAA,CAAQmd,OAARnd,GAAkB2W,CAAAA,CAASV,KAphBa5V,EAqhBxCL,CAAAA,CAAQiW,KAARjW,GAAgB2W,CAAAA,CAASV,KArhBe5V,EAshBxCL,CAAAA,CAAQmY,OAARnY,GAAkB2W,CAAAA,CAASwB,OAthBa9X,EAuhBxCL,CAAAA,CAAQgb,OAARhb,GAAkB2W,CAAAA,CAASqE,OAvhBa3a,EAwhBxCL,CAAAA,CAAQ4b,QAAR5b,GAAmB2W,CAAAA,CAASiF,QAxhBYvb,EAyhBxCJ,CAAAA,CAAOD,OAAPC,GAAiBD,CAzhBuBK;AAyhBvBL,GfneoC,ECyjE/C,UAAUC,CAAV,EAAkBD,CAAlB,EAA2BO,CAA3B,EAA2BA;AetnEjC,QAAA,CAAA,EAAA,CAAA;AAAA,KAOE,UAAUR,CAAV,EAAUA;AACX,UAAIqd,CAAAA,GAAAA,CAA2B,CAA/B;;AASA,UAPC,CAAA,GAAA,CAAA,EAAA,KAAc,CAAd,MAAc,CAAA,GAAA,cAAA,OAAA,CAAA,GAAA,CAAA,CAAA,IAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA,GAAA,CAAd,MAAc,CAAA,CAAA,OAAA,GAAA,CAAd,CAAA,EACAA,CAAAA,GAAAA,CAA2B,CAD3B,EAIAnd,CAAAA,CAAOD,OAAPC,GAAiBF,CAAAA,EAJjB,EAKAqd,CAAAA,GAAAA,CAA2B,CAL3B,EAK2B,CAEvBA,CAAL,EAA+B;AAC9B,YAAIC,CAAAA,GAAa5V,MAAAA,CAAO6E,OAAxB;AAAA,YACIgR,CAAAA,GAAM7V,MAAAA,CAAO6E,OAAP7E,GAAiB1H,CAAAA,EAD3B;;AAEAud,QAAAA,CAAAA,CAAIC,UAAJD,GAAiB,YAAA;AAChB7V,iBAAAA,MAAAA,CAAO6E,OAAP7E,GAAiB4V,CAAjB5V,EACO6V,CADP7V;AACO6V,SAFRA;AAEQA;AAAAA,KAfR,CAkBA,YAAA;AACD,eAASvX,CAAT,GAASA;AAGR,aAFA,IAAItF,CAAAA,GAAI,CAAR,EACI6V,CAAAA,GAAAA,EACJ,EAAO7V,CAAAA,GAAI4B,SAAAA,CAAUY,MAArB,EAA6BxC,CAAAA,EAA7B,EAAkC;AACjC,cAAI+c,CAAAA,GAAanb,SAAAA,CAAW5B,CAAX4B,CAAjB;;AACA,eAAK,IAAI+C,CAAT,IAAgBoY,CAAhB,EACClH,CAAAA,CAAOlR,CAAPkR,CAAAA,GAAckH,CAAAA,CAAWpY,CAAXoY,CAAdlH;AAGF;;AAAA,eAAOA,CAAP;AAGD;;AAAA,eAAS8F,CAAT,CAAeqB,CAAf,EAAeA;AACd,iBAASH,CAAT,CAAclY,CAAd,EAAmBiB,CAAnB,EAA0BmX,CAA1B,EAA0BA;AACzB,cAAIlH,CAAJ;;AACA,cAAwB,eAAbhO,OAAAA,QAAX,EAAA;AAMA,gBAAIjG,SAAAA,CAAUY,MAAVZ,GAAmB,CAAvB,EAA0B;AAKzB,kBAJAmb,CAAAA,GAAazX,CAAAA,CAAAA;AACZoC,gBAAAA,IAAAA,EAAM;AADMpC,eAAAA,EAEVuX,CAAAA,CAAII,QAFM3X,EAEIyX,CAFJzX,CAAbyX,EAIkC,YAAvBA,OAAAA,CAAAA,CAAW7P,OAAtB,EAA4C;AAC3C,oBAAIA,CAAAA,GAAU,IAAI3I,IAAJ,EAAd;AACA2I,gBAAAA,CAAAA,CAAQgQ,eAARhQ,CAAwBA,CAAAA,CAAQiQ,eAARjQ,KAAiD,QAArB6P,CAAAA,CAAW7P,OAA/DA,GACA6P,CAAAA,CAAW7P,OAAX6P,GAAqB7P,CADrBA;AAKD6P;;AAAAA,cAAAA,CAAAA,CAAW7P,OAAX6P,GAAqBA,CAAAA,CAAW7P,OAAX6P,GAAqBA,CAAAA,CAAW7P,OAAX6P,CAAmBtY,WAAnBsY,EAArBA,GAAwD,EAA7EA;;AAEA,kBAAA;AACClH,gBAAAA,CAAAA,GAAS/P,IAAAA,CAAKC,SAALD,CAAeF,CAAfE,CAAT+P,EACI,UAAUhS,IAAV,CAAegS,CAAf,MACHjQ,CAAAA,GAAQiQ,CADL,CADJA;AAIC,eALF,CAKE,OAAOhT,CAAP,EAAOA,CAMR+C;;AAAAA,cAAAA,CAAAA,GAJIoX,CAAAA,CAAUI,KAAVJ,GAIIA,CAAAA,CAAUI,KAAVJ,CAAgBpX,CAAhBoX,EAAuBrY,CAAvBqY,CAJJA,GACIlY,kBAAAA,CAAmBqS,MAAAA,CAAOvR,CAAPuR,CAAnBrS,CAAAA,CACN1C,OADM0C,CACE,2DADFA,EAC+DnC,kBAD/DmC,CAGRc,EAGDjB,CAAAA,GAAMG,kBAAAA,CAAmBqS,MAAAA,CAAOxS,CAAPwS,CAAnBrS,CAHLc,EAIDjB,CAAAA,GAAMA,CAAAA,CAAIvC,OAAJuC,CAAY,0BAAZA,EAAwChC,kBAAxCgC,CAJLiB,EAKDjB,CAAAA,GAAMA,CAAAA,CAAIvC,OAAJuC,CAAY,SAAZA,EAAuB/B,MAAvB+B,CALLiB;AAOD,kBAAIyX,CAAAA,GAAwB,EAA5B;;AAEA,mBAAK,IAAIC,CAAT,IAA0BP,CAA1B,EACMA,CAAAA,CAAWO,CAAXP,CAAAA,KAGLM,CAAAA,IAAyB,OAAOC,CAAhCD,EAAgCC,CACE,CADFA,KAC5BP,CAAAA,CAAWO,CAAXP,CAD4BO,KAIhCD,CAAAA,IAAyB,MAAMN,CAAAA,CAAWO,CAAXP,CAJCO,CAH3BP;;AASN,qBAAQlV,QAAAA,CAAS0V,MAAT1V,GAAkBlD,CAAAA,GAAM,GAANA,GAAYiB,CAAZjB,GAAoB0Y,CAA9C;AAKI1Y;;AAAAA,YAAAA,CAAAA,KACJkR,CAAAA,GAAAA,EADIlR,CAAAA;;AAWL,iBAJA,IAAIkF,CAAAA,GAAUhC,QAAAA,CAAS0V,MAAT1V,GAAkBA,QAAAA,CAAS0V,MAAT1V,CAAgBiT,KAAhBjT,CAAsB,IAAtBA,CAAlBA,GAAwC,EAAtD,EACI2V,CAAAA,GAAU,kBADd,EAEIxd,CAAAA,GAAI,CAER,EAAOA,CAAAA,GAAI6J,CAAAA,CAAQrH,MAAnB,EAA2BxC,CAAAA,EAA3B,EAAgC;AAC/B,kBAAIoE,CAAAA,GAAQyF,CAAAA,CAAQ7J,CAAR6J,CAAAA,CAAWiR,KAAXjR,CAAiB,GAAjBA,CAAZ;AAAA,kBACI0T,CAAAA,GAASnZ,CAAAA,CAAMZ,KAANY,CAAY,CAAZA,EAAeW,IAAfX,CAAoB,GAApBA,CADb;AAGKxE,mBAAK+V,IAAL/V,IAAkC,QAArB2d,CAAAA,CAAOpI,MAAPoI,CAAc,CAAdA,CAAb3d,KACJ2d,CAAAA,GAASA,CAAAA,CAAO/Z,KAAP+Z,CAAa,CAAbA,EAAa,CAAI,CAAjBA,CADL3d;;AAIL,kBAAA;AACC,oBAAIW,CAAAA,GAAO6D,CAAAA,CAAM,CAANA,CAAAA,CAAShC,OAATgC,CAAiBoZ,CAAjBpZ,EAA0BzB,kBAA1ByB,CAAX;AAKA,oBAJAmZ,CAAAA,GAASP,CAAAA,CAAUS,IAAVT,GACRA,CAAAA,CAAUS,IAAVT,CAAeO,CAAfP,EAAuBzc,CAAvByc,CADQA,GACuBA,CAAAA,CAAUO,CAAVP,EAAkBzc,CAAlByc,CAAAA,IAC/BO,CAAAA,CAAOnb,OAAPmb,CAAeC,CAAfD,EAAwB5a,kBAAxB4a,CAFDA,EAII3d,KAAK+V,IAAT,EACC,IAAA;AACC4H,kBAAAA,CAAAA,GAASzX,IAAAA,CAAKE,KAALF,CAAWyX,CAAXzX,CAATyX;AACC,iBAFF,CAEE,OAAO1a,CAAP,EAAOA,CAGV;;AAAA,oBAAI8B,CAAAA,KAAQpE,CAAZ,EAAkB;AACjBsV,kBAAAA,CAAAA,GAAS0H,CAAT1H;AACA;AAGIlR;;AAAAA,gBAAAA,CAAAA,KACJkR,CAAAA,CAAOtV,CAAPsV,CAAAA,GAAe0H,CADX5Y,CAAAA;AAGJ,eApBF,CAoBE,OAAO9B,CAAP,EAAOA,CAAAA;AAGV;;AAAA,mBAAOgT,CAAP;AAAOA;AAGRgH;;AAAAA,eAAAA,CAAAA,CAAI3R,GAAJ2R,GAAUA,CAAVA,EACAA,CAAAA,CAAI/b,GAAJ+b,GAAU,UAAUlY,CAAV,EAAUA;AACnB,iBAAOkY,CAAAA,CAAI1c,IAAJ0c,CAASA,CAATA,EAAclY,CAAdkY,CAAP;AAAqBlY,SAFtBkY,EAIAA,CAAAA,CAAIa,OAAJb,GAAc,YAAA;AACb,iBAAOA,CAAAA,CAAIlb,KAAJkb,CAAIlb;AACVgU,YAAAA,IAAAA,EAAAA,CAAM;AADIhU,WAAJkb,EACA,GACDrZ,KADC,CACKrD,IADL,CACUyB,SADV,CADAib,CAAP;AAEiBjb,SAPlBib,EASAA,CAAAA,CAAII,QAAJJ,GAAII,EATJJ,EAWAA,CAAAA,CAAI1P,MAAJ0P,GAAa,UAAUlY,CAAV,EAAeoY,CAAf,EAAeA;AAC3BF,UAAAA,CAAAA,CAAIlY,CAAJkY,EAAS,EAATA,EAAavX,CAAAA,CAAOyX,CAAPzX,EAAOyX;AACnB7P,YAAAA,OAAAA,EAAAA,CAAU;AADS6P,WAAPzX,CAAbuX,CAAAA;AACW,SAbZA,EAiBAA,CAAAA,CAAIc,aAAJd,GAAoBlB,CAjBpBkB,EAmBOA,CAnBPA;AAsBD;;AAAA,aAAOlB,CAAAA,CAAK,YAAA,CAAA,CAALA,CAAP;AAAY,KA5JX,CAPF;AAmKa,GhBtGwC,ECwuE/C,UAAUnc,CAAV,EAAkBD,CAAlB,EAA2BO,CAA3B,EAA2BA;AgBxwEjC,aAASoe,CAAT,CAAyBza,CAAzB,EAAyBA;AACvB,UAAI0F,CAAAA,GAAMvJ,IAAV;AAEAie,MAAAA,CAAAA,CAAYM,iBAAZN,CAA8Bpa,CAA9Boa;AAEA,UAAIO,CAAAA,GAAiBtc,CAAAA,CAAKwD,MAALxD,CAAKwD;AACxBoH,QAAAA,MAAAA,EAAAA,CAAQ;AADgBpH,OAALxD,EAElB2B,CAAAA,CAAKoG,OAFa/H,CAArB;AAWA,UARmBqH,CAAAA,CAAIkV,QAAJlV,CAAamV,WAAbnV,MAAamV,CAAkBnV,CAAAA,CAAIkV,QAAJlV,CAAaoV,OAAbpV,EAA/BA,KAEjBiV,CAAAA,CAAe1R,MAAf0R,GAAe1R,CAAS,CAFPvD,GAEO,KAEa,CAFb,KAEfiV,CAAAA,CAAezR,QAFA,KAIxByR,CAAAA,CAAezR,QAAfyR,GAA0BA,CAAAA,CAAe1R,MAAf0R,GAAwB,MAAxBA,GAAiC,KAJnC,CAFPjV,EAQfiV,CAAAA,CAAe1R,MAAf0R,IAAe1R,CAAWvD,CAAAA,CAAIkV,QAAJlV,CAAaoV,OAAbpV,EAA9B,EACE,MAAM,IAAId,CAAJ,CACJ,yLADI,CAAN;;AA2BF,UApBAzI,KAAKwJ,OAALxJ,GAAKwJ;AACH6K,QAAAA,QAAAA,EAAUxQ,CAAAA,CAAKwQ,QADZ7K;AAEHiK,QAAAA,MAAAA,EAAQvR,CAAAA,CAAK2F,mBAAL3F,CAAyB2B,CAAAA,CAAK4P,MAA9BvR,CAFLsH;AAGHoL,QAAAA,YAAAA,EAAc1S,CAAAA,CAAK2F,mBAAL3F,CAAyB2B,CAAAA,CAAK+Q,YAA9B1S,CAHXsH;AAIHqL,QAAAA,WAAAA,EAAa3S,CAAAA,CAAK2F,mBAAL3F,CAAyB2B,CAAAA,CAAKgR,WAA9B3S,CAJVsH;AAKHsL,QAAAA,QAAAA,EAAU5S,CAAAA,CAAK2F,mBAAL3F,CAAyB2B,CAAAA,CAAKiR,QAA9B5S,CALPsH;AAMHwL,QAAAA,SAAAA,EAAW9S,CAAAA,CAAK2F,mBAAL3F,CAAyB2B,CAAAA,CAAKmR,SAA9B9S,CANRsH;AAOHuL,QAAAA,SAAAA,EAAW7S,CAAAA,CAAK2F,mBAAL3F,CAAyB2B,CAAAA,CAAKkR,SAA9B7S,CAPRsH;AAQHoV,QAAAA,IAAAA,EAAAA,CAAoB,CAApBA,KAAM/a,CAAAA,CAAK+a,IARRpV;AASHqV,QAAAA,WAAAA,EAAahb,CAAAA,CAAKgb,WATfrV;AAUHsV,QAAAA,qBAAAA,EAAuBjb,CAAAA,CAAKib,qBAVzBtV;AAWHuV,QAAAA,YAAAA,EAAclb,CAAAA,CAAKkb,YAXhBvV;AAYHuB,QAAAA,iBAAAA,EAAmBlH,CAAAA,CAAKkH,iBAZrBvB;AAaHK,QAAAA,WAAAA,EAAahG,CAAAA,CAAKgG,WAbfL;AAcHoC,QAAAA,iBAAAA,EAAmB/H,CAAAA,CAAK+H,iBAdrBpC;AAeHiB,QAAAA,OAAAA,EAAS5G,CAAAA,CAAK4G,OAfXjB;AAgBHwV,QAAAA,gBAAAA,EAAkBnb,CAAAA,CAAKmb,gBAhBpBxV;AAiBHS,QAAAA,OAAAA,EAASuU;AAjBNhV,OAALxJ,EAoBIA,KAAKwJ,OAALxJ,CAAa4e,IAAb5e,IAAa4e,CAASrV,CAAAA,CAAIkV,QAAJlV,CAAa0V,eAAb1V,EAA1B,EAA0D;AACxD,YAAI2V,CAAAA,GAAe,qFAAnB;AACK3V,cAAAA,CAAAA,CAAIkV,QAAJlV,CAAaoV,OAAbpV,OACH2V,CAAAA,IAAgB,8EADb3V,GAGAA,CAAAA,CAAIkV,QAAJlV,CAAa4V,cAAb5V,OACH2V,CAAAA,IAAgB,gFADb3V,CAHAA,EAMC,IAAId,CAAJ,CAAiByW,CAAjB,CAND3V;AASPvJ;;AAAAA,WAAK0K,SAAL1K,GAAiBie,CAAAA,CAAYmB,YAAZnB,CAAyBpa,CAAzBoa,EAA+BoB,OAA/BpB,KAA+C,oBAAhEje,EASK6D,CAAAA,CAAK6Q,YAAL7Q,IAA2C,MAAtBA,CAAAA,CAAK6Q,YAA1B7Q,GAGH7D,KAAKwJ,OAALxJ,CAAa0U,YAAb1U,GAA4B6D,CAAAA,CAAK6Q,YAH9B7Q,GACH7D,KAAKwJ,OAALxJ,CAAa0U,YAAb1U,GAA4BqJ,CAAAA,CAAUiW,sBAVxCtf,EAiBAA,KAAKwJ,OAALxJ,CAAauf,eAAbvf,GAAauf,CAAAA,CAAoB1b,CAAAA,CAAK0b,eAjBtCvf,EAmBAuJ,CAAAA,CAAI4U,OAAJ5U,GAAI4U;AACFqB,QAAAA,KAAAA,EAAOtd,CAAAA,CAAKqB,IAALrB,CAAUic,CAAAA,CAAQsB,YAAlBvd,EAAgC,IAAhCA,EAAsCqH,CAAtCrH,CADLic;AAEFlP,QAAAA,MAAAA,EAAQ/M,CAAAA,CAAKqB,IAALrB,CAAUic,CAAAA,CAAQuB,aAAlBxd,EAAiC,IAAjCA,EAAuCqH,CAAvCrH,CAFNic;AAGFjd,QAAAA,GAAAA,EAAKgB,CAAAA,CAAKqB,IAALrB,CAAUic,CAAAA,CAAQwB,UAAlBzd,EAA8B,IAA9BA,EAAoCqH,CAApCrH,CAHHic;AAIFyB,QAAAA,OAAAA,EAAS1d,CAAAA,CAAKqB,IAALrB,CAAUic,CAAAA,CAAQ0B,cAAlB3d,EAAkC,IAAlCA,EAAwCqH,CAAxCrH,CAJPic;AAKF2B,QAAAA,oBAAAA,EAAsB5d,CAAAA,CAAKqB,IAALrB,CAAUic,CAAAA,CAAQ2B,oBAAlB5d,EAAwC,IAAxCA,EAA8CqH,CAA9CrH;AALpBic,OAnBJne,EA2BAuJ,CAAAA,CAAIyF,EAAJzF,GAAIyF;AACFrD,QAAAA,MAAAA,EAAQzJ,CAAAA,CAAKqB,IAALrB,CAAU8M,CAAAA,CAAGF,iBAAb5M,EAAgC,IAAhCA,EAAsCqH,CAAtCrH,CADN8M;AAEF+Q,QAAAA,MAAAA,EAAQ7d,CAAAA,CAAKqB,IAALrB,CAAU8M,CAAAA,CAAGD,iBAAb7M,EAAgC,IAAhCA,EAAsCqH,CAAtCrH,CAFN8M;AAGFC,QAAAA,MAAAA,EAAQ/M,CAAAA,CAAKqB,IAALrB,CAAU8M,CAAAA,CAAGM,iBAAbpN,EAAgC,IAAhCA,EAAsCqH,CAAtCrH,CAHN8M;AAIFI,QAAAA,UAAAA,EAAYlN,CAAAA,CAAKqB,IAALrB,CAAU8M,CAAAA,CAAGI,UAAblN,EAAyB,IAAzBA,EAA+BqH,CAA/BrH;AAJV8M,OA3BJhP,EAmCAuJ,CAAAA,CAAIyF,EAAJzF,CAAO0F,MAAP1F,CAAc2F,IAAd3F,GAAqB,UAAS5I,CAAT,EAASA;AAC5B,eAAOsJ,CAAAA,CAAQ/I,GAAR+I,CAAYtJ,CAAZsJ,CAAP;AAAmBtJ,OApCrBX,EAwCAuJ,CAAAA,CAAIyI,OAAJzI,GAAIyI;AACFgO,QAAAA,SAAAA,EAAAA;AACEC,UAAAA,gBAAAA,EAAkB,YAAA;AAChB,mBAAO7Y,MAAAA,CAAOmM,QAAPnM,CAAgB6I,IAAvB;AAAuBA;AAF3B+P;AADEhO,OAxCJhS,EAgDAuJ,CAAAA,CAAI6U,KAAJ7U,GAAI6U;AACF8B,QAAAA,gBAAAA,EAAkBhe,CAAAA,CAAKqB,IAALrB,CAAUkc,CAAAA,CAAM8B,gBAAhBhe,EAAkC,IAAlCA,EAAwCqH,CAAxCrH,CADhBkc;AAEF+B,QAAAA,YAAAA,EAAcje,CAAAA,CAAKqB,IAALrB,CAAUkc,CAAAA,CAAM+B,YAAhBje,EAA8B,IAA9BA,EAAoCqH,CAApCrH,CAFZkc;AAGFgC,QAAAA,eAAAA,EAAiBle,CAAAA,CAAKqB,IAALrB,CAAUkc,CAAAA,CAAMgC,eAAhBle,EAAiC,IAAjCA,EAAuCqH,CAAvCrH,CAHfkc;AAIFiC,QAAAA,YAAAA,EAAcne,CAAAA,CAAKqB,IAALrB,CAAUkc,CAAAA,CAAMiC,YAAhBne,EAA8B,IAA9BA,EAAoCqH,CAApCrH,CAJZkc;AAKF9D,QAAAA,MAAAA,EAAQ8D,CAAAA,CAAMkC,WALZlC;AAMFmC,QAAAA,MAAAA,EAAQre,CAAAA,CAAKqB,IAALrB,CAAUkc,CAAAA,CAAMoC,WAAhBte,EAA6B,IAA7BA,EAAmCqH,CAAnCrH,CANNkc;AAOFqC,QAAAA,KAAAA,EAAOve,CAAAA,CAAKqB,IAALrB,CAAUkc,CAAAA,CAAMsC,UAAhBxe,EAA4B,IAA5BA,EAAkCqH,CAAlCrH,CAPLkc;AAQFuC,QAAAA,WAAAA,EAAaze,CAAAA,CAAKqB,IAALrB,CAAUkc,CAAAA,CAAMuC,WAAhBze,EAA6B,IAA7BA,EAAmCqH,CAAnCrH,CARXkc;AASFwC,QAAAA,MAAAA,EAAQ1e,CAAAA,CAAKqB,IAALrB,CAAUkc,CAAAA,CAAMyC,WAAhB3e,EAA6B,IAA7BA,EAAmCqH,CAAnCrH;AATNkc,OAhDJpe,EA6DAuJ,CAAAA,CAAI6U,KAAJ7U,CAAU6W,eAAV7W,CAA0BuX,YAA1BvX,GAAyC,UAASvF,CAAT,EAASA;AAChDoD,QAAAA,MAAAA,CAAOmM,QAAPnM,GAAkBpD,CAAlBoD;AAAkBpD,OA9DpBhE,EAkEAuJ,CAAAA,CAAI6U,KAAJ7U,CAAU8W,YAAV9W,CAAuBwX,WAAvBxX,GAAqC,YAAA;AACnC,eAAOnC,MAAAA,CAAO4Z,OAAd;AAAcA,OAnEhBhhB,EAuEAuJ,CAAAA,CAAI6U,KAAJ7U,CAAU8W,YAAV9W,CAAuB0X,YAAvB1X,GAAsC,YAAA;AACpC,eAAOnC,MAAAA,CAAOmM,QAAd;AAAcA,OAxEhBvT,EA4EAuJ,CAAAA,CAAI6U,KAAJ7U,CAAU8W,YAAV9W,CAAuB2X,YAAvB3X,GAAsC,YAAA;AACpC,eAAOnC,MAAAA,CAAOa,QAAd;AAAcA,OA7EhBjI,EAgFAuJ,CAAAA,CAAI4X,WAAJ5X,CAAgB6X,aAAhB7X,GAAgC,YAAA;AAC9B,eAAO8X,SAAAA,CAAU3W,SAAjB;AAGF,OApFA1K;AAoFA,UAAIshB,CAAAA,GAAiB,mCAArB;AACA/X,MAAAA,CAAAA,CAAIkV,QAAJlV,CAAagY,sBAAbhY,GAAsC,YAAA;AACpC,YAAIiY,CAAAA,GAAQjY,CAAAA,CAAI4X,WAAJ5X,CAAgB6X,aAAhB7X,EAAZ;;AACA,eAAOiY,CAAAA,IAAAA,CAAUF,CAAAA,CAAerd,IAAfqd,CAAoBE,CAApBF,CAAjB;AAAqCE,OAFvCjY,EAKAA,CAAAA,CAAIkY,OAAJlY,GAAc,IAAIyU,CAAJ,EALdzU,EAMAA,CAAAA,CAAImY,YAAJnY,GAAmB,IAAI8U,CAAJ,CAAiB9U,CAAjB,EAAsB1F,CAAAA,CAAK6d,YAA3B,CANnBnY,EAOAA,CAAAA,CAAImY,YAAJnY,CAAiBoY,EAAjBpY,CAAoB,OAApBA,EAA6BvJ,KAAK4hB,oBAAlCrY,EAAwDvJ,IAAxDuJ,CAPAA;AhB8nEF;;AAAA,QAAI3H,CAAAA,GAAsB1B,CAAAA,CAAoB,CAApBA,CAA1B;AAAA,QAEI2B,CAAAA,GAAoB3B,CAAAA,CAAoB,CAApBA,CAFxB;AAAA,QgBvxEI8d,CAAAA,GAAoB7U,CAAAA,CAAQ,EAARA,ChBuxExB;AAAA,QgBtxEIV,CAAAA,GAAoBU,CAAAA,CAAQ,CAARA,ChBsxExB;AAAA,QgBrxEI8U,CAAAA,GAAoB9U,CAAAA,CAAQ,EAARA,ChBqxExB;AAAA,QgBpxEIE,CAAAA,GAAoBF,CAAAA,CAAQ,CAARA,ChBoxExB;AAAA,QgBnxEIc,CAAAA,GAAoBd,CAAAA,CAAQ,CAARA,CAAAA,CAA4BW,OhBmxEpD;AAAA,QgBlxEI2E,CAAAA,GAAoBtF,CAAAA,CAAQ,CAARA,ChBkxExB;AAAA,QgBjxEI+U,CAAAA,GAAoB/U,CAAAA,CAAQ,EAARA,ChBixExB;AAAA,QgBhxEIgV,CAAAA,GAAoBhV,CAAAA,CAAQ,EAARA,ChBgxExB;AAAA,QgB/wEIiV,CAAAA,GAAoBjV,CAAAA,CAAQ,EAARA,ChB+wExB;AAAA,QgB9wEIkV,CAAAA,GAAoBlV,CAAAA,CAAQ,EAARA,ChB8wExB;AAAA,QgB7wEI6F,CAAAA,GAAoB7F,CAAAA,CAAQ,CAARA,ChB6wExB;AAAA,QgB5wEIjH,CAAAA,GAAoBiH,CAAAA,CAAQ,CAARA,ChB4wExB;AAAA,QgBpnEI0Y,CAAAA,GAAQvD,CAAAA,CAAgB/c,ShBonE5B;AgBnnEAsgB,IAAAA,CAAAA,CAAMD,oBAANC,GAA6B,UAAStT,CAAT,EAASA;AAEvB,2BADFA,CAAAA,CAAM1F,SACJ,IAAoB0F,CAAAA,CAAM5E,WAA1B,KACP3J,KAAKwJ,OAALxJ,CAAagf,gBAAbhf,GACFA,KAAKwJ,OAALxJ,CAAagf,gBAAbhf,EADEA,GAIFqH,OAAAA,CAAQkH,KAARlH,CAAc,4DAAdA,CALS;AAKK,KAPpBwa,EAYAA,CAAAA,CAAMpD,QAANoD,GAAMpD,EAZNoD,EAcAA,CAAAA,CAAMpD,QAANoD,CAAeC,2BAAfD,GAA6C,YAAA;AAC3C,UAAIE,CAAAA,GAAW9Z,QAAAA,CAASC,YAATD,IAAyBA,QAAAA,CAASC,YAATD,GAAwB,EAAhE;AACA,aAAA,EAAA,CAAIb,MAAAA,CAAO4a,WAAX,IAA2BD,CAA3B,CAAA;AAA2BA,KAhB7BF,EAsBAA,CAAAA,CAAMpD,QAANoD,CAAeI,sBAAfJ,GAAwC,YAAA;AACtC,aAAyB,eAAXK,OAAAA,MAAW,IAAeA,MAAAA,CAAOC,MAAtB,IAAsD,eAAf/e,OAAAA,UAAhE;AAAgEA,KAvBlEye,EA0BAA,CAAAA,CAAMpD,QAANoD,CAAe1C,cAAf0C,GAAgC,YAAA;AAC9B,aAA8B,eAAhBO,OAAAA,WAAd;AAAcA,KA3BhBP,EA8BAA,CAAAA,CAAMpD,QAANoD,CAAe5C,eAAf4C,GAAiC,YAAA;AAC/B,aAAOA,CAAAA,CAAMpD,QAANoD,CAAeI,sBAAfJ,MAA2CA,CAAAA,CAAMpD,QAANoD,CAAe1C,cAAf0C,EAAlD;AAAiE1C,KA/BnE0C,EAkCAA,CAAAA,CAAMpD,QAANoD,CAAelD,OAAfkD,GAAyB,YAAA;AACvB,aAAoC,aAA7Bza,MAAAA,CAAOmM,QAAPnM,CAAgBib,QAAvB;AAAuBA,KAnCzBR,EAsCAA,CAAAA,CAAMpD,QAANoD,CAAenD,WAAfmD,GAA6B,YAAA;AAC3B,aAAoC,gBAA7Bza,MAAAA,CAAOmM,QAAPnM,CAAgBkb,QAAvB;AAAuBA,KAvCzBT,EA0CAA,CAAAA,CAAMU,MAANV,GAAe,UAAU7R,CAAV,EAAUA;AAGvB,eAAST,CAAT,CAA2B/F,CAA3B,EAA2BA;AAEzB,eADOwG,OAAAA,CAAAA,CAAKwS,eAALxS,EACAhB,CAAAA,CAAGO,iBAAHP,CAAqBzF,CAArByF,EAA0B,eAA1BA,EAA2CgB,CAA3ChB,EAAiDxF,CAAjDwF,CAAP;AAJF;;AAAA,UAAIzF,CAAAA,GAAMvJ,IAAV;AACAgQ,aAAAA,CAAAA,GAAO9N,CAAAA,CAAK+D,KAAL/D,CAAW8N,CAAAA,IAAAA,EAAX9N,CAAP8N,EAKKA,CAAAA,CAAKwS,eAALxS,GAGEzG,CAAAA,CAAI4X,WAAJ5X,GACNyB,IADMzB,CACD,UAAS4X,CAAT,EAASA;AACb,eAAO5R,CAAAA,CAAAA;AACL9E,UAAAA,OAAAA,EAAAA;AACE,oCAAwB0W;AAD1B1W;AADK8E,SAAAA,CAAP;AAE4B4R,OAJvB5X,CAHFyG,GACIT,CAAAA,EANTS;AAMST,KAlDXsS,EA+DAA,CAAAA,CAAMpC,YAANoC,GAAqB,YAAA;AACnB,UAAItY,CAAAA,GAAMvJ,IAAV;AAGAuJ,aAAAA,CAAAA,CAAImY,YAAJnY,CAAiBkZ,KAAjBlZ,IAEOA,CAAAA,CAAI4U,OAAJ5U,CAAYiW,KAAZjW,GACNkC,KADMlC,CACA,UAAStG,CAAT,EAASA;AACd,YAAe,mBAAXA,CAAAA,CAAEtC,IAAS,IAAkC,eAAhBsC,CAAAA,CAAE4F,SAAnC,EAIA,MAAM5F,CAAN;AAAMA,OANDsG,CAFPA;AAQQtG,KA3EV4e,EAgFAA,CAAAA,CAAMa,iBAANb,GAAAA,YAAAA;AAAAA,eAAyCa,CAAzCb,CAAAA,CAAAA,EAAAA;AAAAA,eAAAA,CAAAA,CAAAA,KAAAA,CAAAA,IAAAA,EAAAA,SAAAA,CAAAA;AAAAA;;AAAAA,UAAAA,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAA0B,SAAA,CAAA,CAAiClY,CAAjC,EAAiCA;AAAjC,YAAA,CAAA;AAAA,eAAA,CAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA;AAAA,mBAAA,QAAA,CAAA,CAAA,IAAA,GAAA,CAAA,CAAA,IAAA;AAAA,iBAAA,CAAA;AAAA,kBACpBJ,CAAAA,GAAMvJ,IAANuJ,EACCI,CAFmB,EAAA;AAAA,gBAAA,CAAA,CAAA,IAAA,GAAA,CAAA;AAAA;AAAA;;AAAA,qBAAA,CAAA,CAAA,IAAA,GAAA,CAAA,EAGFJ,CAAAA,CAAImY,YAAJnY,CAAiBrI,GAAjBqI,CAHE,aAGFA,CAHE;;AAAA,iBAAA,CAAA;AAGtBI,cAAAA,CAAAA,GAHsB,CAAA,CAAA,IAGtBA;;AAHsB,iBAAA,CAAA;AAAA,kBAMnBA,CANmB,EAAA;AAAA,gBAAA,CAAA,CAAA,IAAA,GAAA,CAAA;AAAA;AAAA;;AAAA,qBAAA,CAAA,CAAA,MAAA,CAAA,QAAA,EAOfrB,OAAAA,CAPe,OAOfA,EAPe,CAAA;;AAAA,iBAAA,CAAA;AAAA,qBAAA,CAAA,CAAA,MAAA,CAAA,QAAA,EASjBiB,CAAAA,CAAI6U,KAAJ7U,CAAUgX,MAAVhX,CATiB,CASjBA,CATiB,CAAA;;AAAA,iBAAA,CAAA;AAAA,iBAAA,KAAA;AAAA,qBAAA,CAAA,CAAA,IAAA,EAAA;AAAA;AAAA,SAAA,EAAA,CAAA,EAAA,IAAA,CAAA;AAA1BsY,OAAAA,CAAAA,CAAAA;AAAAA,aAAyCa,CAAzCb;AAAyCa,KAAzCb,EAhFAA,EA6FAA,CAAAA,CAAMc,OAANd,GAAAA,YAAAA;AAAAA,UAAAA,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAgB,SAAA,CAAA,CAAgBrY,CAAhB,EAAgBA;AAAhB,YAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA;AAAA,eAAA,CAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA;AAAA,mBAAA,QAAA,CAAA,CAAA,IAAA,GAAA,CAAA,CAAA,IAAA;AAAA,iBAAA,CAAA;AAAA,kBACdA,CAAAA,GAAUtH,CAAAA,CAAKwD,MAALxD,CAAKwD,EAALxD,EAAgBsH,CAAhBtH,CAAVsH,EAGIoZ,CAAAA,GAAaxb,MAAAA,CAAOmM,QAAPnM,CAAgByb,MAHjCrZ,EAIIsV,CAAAA,GAAwBtV,CAAAA,CAAQsV,qBAARtV,IACvBxJ,KAAKwJ,OAALxJ,CAAa8e,qBADUtV,IAEvBoZ,CANLpZ,EAQIG,CAAAA,GAAcH,CAAAA,CAAQG,WAR1BH,EASIkZ,CAAAA,GAAAA,CAAkD,CAAlDA,KAAoBlZ,CAAAA,CAAQkZ,iBAThClZ,EAUIwI,CAAAA,GAAUxI,CAAAA,CAAQwI,OAVtBxI,EAYID,CAAAA,GAAMvJ,IAZVwJ,EAaIuL,CAAAA,GAAYmJ,CAAAA,CAAUvJ,YAAVuJ,CAAuB3U,CAAvB2U,EAA4BnJ,SAb5CvL,EAa4CuL,KAErB,CAFqBA,KAEjC/C,CAhBG,EAAA;AAAA,gBAAA,CAAA,CAAA,IAAA,GAAA,EAAA;AAAA;AAAA;;AAAA,qBAAA,CAAA,CAAA,IAAA,GAAA,EAAA,EAiBIzI,CAAAA,CAAImY,YAAJnY,CAAiBrI,GAAjBqI,CAjBJ,SAiBIA,CAjBJ;;AAAA,iBAAA,EAAA;AAiBZyI,cAAAA,CAAAA,GAjBY,CAAA,CAAA,IAiBZA;;AAjBY,iBAAA,EAAA;AAAA,kBAAA,CAoBV0Q,CApBU,IAoBVA,KAA4C,CAA5CA,KAA4B/Y,CApBlB,EAAA;AAAA,gBAAA,CAAA,CAAA,IAAA,GAAA,EAAA;AAAA;AAAA;;AAAA,qBAAA,CAAA,CAAA,IAAA,GAAA,EAAA,EAqBQJ,CAAAA,CAAImY,YAAJnY,CAAiBrI,GAAjBqI,CArBR,OAqBQA,CArBR;;AAAA,iBAAA,EAAA;AAqBZI,cAAAA,CAAAA,GArBY,CAAA,CAAA,IAqBZA;;AArBY,iBAAA,EAAA;AAAA,kBAyBdJ,CAAAA,CAAImY,YAAJnY,CAAiBkZ,KAAjBlZ,IAAiBkZ,CAEbC,CAFaD,IAEbC,CAAqB/Y,CA3BX,EAAA;AAAA,gBAAA,CAAA,CAAA,IAAA,GAAA,EAAA;AAAA;AAAA;;AAAA,qBAAA,CAAA,CAAA,IAAA,GAAA,EAAA,EA4BNJ,CAAAA,CAAImZ,iBAAJnZ,CA5BM,CA4BNA,CA5BM;;AAAA,iBAAA,EAAA;AAAA,kBAiCTyI,CAjCS,EAAA;AAAA,gBAAA,CAAA,CAAA,IAAA,GAAA,EAAA;AAAA;AAAA;;AAAA,qBAAA,CAAA,CAAA,MAAA,CAAA,QAAA,EAkCLzI,CAAAA,CAAIkW,YAAJlW,GACNyB,IADMzB,CACD,YAAA;AACAuV,gBAAAA,CAAAA,KAA0B8D,CAA1B9D,GACF1X,MAAAA,CAAOmM,QAAPnM,CAAgB0b,MAAhB1b,EADE0X,GAGF1X,MAAAA,CAAOmM,QAAPnM,CAAgB2b,MAAhB3b,CAAuB0X,CAAvB1X,CAHE0X;AApCM,eAkCLvV,CAlCK,CAAA;;AAAA,iBAAA,EAAA;AA6CVyZ,cAAAA,CAAAA,GAAQxZ,CAAAA,CAAQwZ,KAAhBA,EACAC,CAAAA,GAAcjR,CAAAA,CAAQA,OADtBgR,EAEAE,CAAAA,GAAYnO,CAAAA,GAAY,iBAAZA,GAAgC7P,kBAAAA,CAAmB+d,CAAnB/d,CAAhC6P,GACd,4BADcA,GACiB7P,kBAAAA,CAAmB4Z,CAAnB5Z,CAH7B8d,EAMAA,CAAAA,KACFE,CAAAA,IAAa,YAAYhe,kBAAAA,CAAmB8d,CAAnB9d,CADvB8d,CANAA,EAUJ5b,MAAAA,CAAOmM,QAAPnM,CAAgB2b,MAAhB3b,CAvDc,CAuDdA,CAVI4b;;AA7CU,iBAAA,EAAA;AAAA,iBAAA,KAAA;AAAA,qBAAA,CAAA,CAAA,IAAA,EAAA;AAAA;AAAA,SAAA,EAAA,CAAA,EAAA,IAAA,CAAA;AAAhBnB,OAAAA,CAAAA,CAAAA;AAAAA,aAAAA,UAAAA,CAAAA,EAAAA;AAAAA,eAAAA,CAAAA,CAAAA,KAAAA,CAAAA,IAAAA,EAAAA,SAAAA,CAAAA;AAAAA,OAAAA;AAAAA,KAAAA,EA7FAA,EAuJA5D,CAAAA,CAAYkF,mBAAZlF,CAAgC4D,CAAhC5D,CAvJA4D,EA0JAA,CAAAA,CAAMuB,SAANvB,GAAkB,UAAU7R,CAAV,EAAUA;AAC1B,UAAIhM,CAAAA,GAAM,2BAA2B9B,CAAAA,CAAK4C,aAAL5C,CAAmB8N,CAAnB9N,CAArC;AAAA,UACIsH,CAAAA,GAAAA;AACFiB,QAAAA,OAAAA,EAAAA;AACE,UAAA,MAAA,EAAU;AADZA;AADEjB,OADJ;AAMA,aAAOiF,CAAAA,CAAKvN,GAALuN,CAASzO,IAATyO,EAAezK,CAAfyK,EAAoBjF,CAApBiF,CAAP;AAA2BjF,KAjK7BqY,EAoKAA,CAAAA,CAAMV,WAANU,GAAoB,UAASrY,CAAT,EAASA;AAC3BA,MAAAA,CAAAA,GAAUA,CAAAA,IAAAA,EAAVA;AACA,UAAID,CAAAA,GAAMvJ,IAAV;AACA,UAAA,CAAKuJ,CAAAA,CAAIkV,QAAJlV,CAAagY,sBAAbhY,EAAL,EACE,OAAOjB,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIG,CAAJ,CAAiB,gDAAjB,CAAfH,CAAP;AAGF,UAAI+a,CAAJ,EACI1Q,CADJ,EAEI2Q,CAFJ;AAGc,aAAA,IAAIhb,OAAJ,CAAY,UAAUC,CAAV,EAAmB2F,CAAnB,EAAmBA;AAC3CyE,QAAAA,CAAAA,GAAS1K,QAAAA,CAAS2K,aAAT3K,CAAuB,QAAvBA,CAAT0K,EACAA,CAAAA,CAAOE,KAAPF,CAAaG,OAAbH,GAAuB,MADvBA,EAGA2Q,CAAAA,GAAW,UAAkBrgB,CAAlB,EAAkBA;AAC3B,cAAKA,CAAAA,IAAMA,CAAAA,CAAE2H,IAAR3H,IAAgBA,CAAAA,CAAE4f,MAAF5f,KAAasG,CAAAA,CAAIsC,eAAJtC,EAAlC,EAAA;AAIA,gBAAA;AACE,kBAAIb,CAAAA,GAAMxC,IAAAA,CAAKE,KAALF,CAAWjD,CAAAA,CAAE2H,IAAb1E,CAAV;AACA,aAFF,CAEE,OAAO2E,CAAP,EAAOA;AACP,qBAAOqD,CAAAA,CAAO,IAAIzF,CAAJ,CAAiB,iCAAjB,CAAPyF,CAAP;AAGF;;AAAA,gBAAKxF,CAAL,EACA,OAAiB,2BAAbA,CAAAA,CAAI2I,IAAS,GACR9I,CAAAA,CAAQG,CAAAA,CAAIyY,WAAZ5Y,CADQ,GACI4Y,MAEJ,8BAAbzY,CAAAA,CAAI2I,IAAS,IACfpO,CAAAA,CAAEsgB,MAAFtgB,CAAS+e,WAAT/e,CAAqBiD,IAAAA,CAAKC,SAALD,CAAKC;AACxBkL,cAAAA,IAAAA,EAAM;AADkBlL,aAALD,CAArBjD,EAEIA,CAAAA,CAAE4f,MAFN5f,CAHmBke,CADrB;AAMQ0B;AAAAA,SArBVlQ,EAwBAuL,CAAAA,CAAUhM,WAAVgM,CAAsB9W,MAAtB8W,EAA8B,SAA9BA,EAAyCoF,CAAzCpF,CAxBAvL,EA0BAA,CAAAA,CAAOD,GAAPC,GAAapJ,CAAAA,CAAIsC,eAAJtC,KAAwB,kCA1BrCoJ,EA2BA1K,QAAAA,CAAS8K,IAAT9K,CAAc+K,WAAd/K,CAA0B0K,CAA1B1K,CA3BA0K,EA6BA0Q,CAAAA,GAAU7a,UAAAA,CAAW,YAAA;AACnB0F,UAAAA,CAAAA,CAAO,IAAIzF,CAAJ,CAAiB,0BAAjB,CAAPyF,CAAAA;AAAwB,SADhB1F,EAEPgB,CAAAA,CAAQ6Z,OAAR7Z,IAAmB,IAFZhB,CA7BVmK;AA+BsB,OAhCV,EAmCC6Q,OAnCD,CAmCS,YAAA;AACrBC,QAAAA,YAAAA,CAAaJ,CAAbI,CAAAA,EACAvF,CAAAA,CAAU5L,cAAV4L,CAAyB9W,MAAzB8W,EAAiC,SAAjCA,EAA4CoF,CAA5CpF,CADAuF,EAEIxb,QAAAA,CAAS8K,IAAT9K,CAAcyb,QAAdzb,CAAuB0K,CAAvB1K,KACF0K,CAAAA,CAAOgR,aAAPhR,CAAqBiR,WAArBjR,CAAiCA,CAAjCA,CAHF8Q;AAGmC9Q,OAvCvB,CAAA;AAuCuBA,KArNvCkP,EA0NAjiB,CAAAA,CAAOD,OAAPC,GAAiBqe,CAAAA,CAAY4F,aAAZ5F,CAA0BK,CAA1BL,CA1NjB4D;AA0N2CvD,GjBjVU,ECkuF/C,UAAU1e,CAAV,EAAkBD,CAAlB,EAA2BO,CAA3B,EAA2BA;AiBxxFjC,QAAI4jB,CAAAA,GAAW,UAAUnkB,CAAV,EAAUA;AACvB;;AAUA,eAAS4kB,CAAT,CAAcC,CAAd,EAAuBC,CAAvB,EAAgC1kB,CAAhC,EAAsC2kB,CAAtC,EAAsCA;AAEpC,YAAIC,CAAAA,GAAiBF,CAAAA,IAAWA,CAAAA,CAAQljB,SAARkjB,YAA6BG,CAAxCH,GAAoDA,CAApDA,GAA8DG,CAAnF;AAAA,YACIC,CAAAA,GAAY/jB,MAAAA,CAAOgb,MAAPhb,CAAc6jB,CAAAA,CAAepjB,SAA7BT,CADhB;AAAA,YAEIgkB,CAAAA,GAAU,IAAIC,CAAJ,CAAYL,CAAAA,IAAAA,EAAZ,CAFd;AAMAG,eAAAA,CAAAA,CAAUG,OAAVH,GAAoBI,CAAAA,CAAiBT,CAAjBS,EAA0BllB,CAA1BklB,EAAgCH,CAAhCG,CAApBJ,EAEOA,CAFPA;AAgBF;;AAAA,eAASK,CAAT,CAAkB1hB,CAAlB,EAAsBW,CAAtB,EAA2BkK,CAA3B,EAA2BA;AACzB,YAAA;AACE,iBAAA;AAASgD,YAAAA,IAAAA,EAAM,QAAf;AAAyBhD,YAAAA,GAAAA,EAAK7K,CAAAA,CAAGjD,IAAHiD,CAAQW,CAARX,EAAa6K,CAAb7K;AAA9B,WAAA;AACA,SAFF,CAEE,OAAOqH,CAAP,EAAOA;AACP,iBAAA;AAASwG,YAAAA,IAAAA,EAAM,OAAf;AAAwBhD,YAAAA,GAAAA,EAAKxD;AAA7B,WAAA;AAA6BA;AAiBjC;;AAAA,eAAS+Z,CAAT,GAASA,CACT;;AAAA,eAASY,CAAT,GAASA,CACT;;AAAA,eAASC,CAAT,GAASA,CA4BT;;AAAA,eAASO,CAAT,CAA+BzkB,CAA/B,EAA+BA;AAAAA,SAC5B,MAD4BA,EACpB,OADoBA,EACX,QADWA,EACDqE,OADCrE,CACO,UAASkI,CAAT,EAASA;AAC3ClI,UAAAA,CAAAA,CAAUkI,CAAVlI,CAAAA,GAAoB,UAAS8M,CAAT,EAASA;AAC3B,mBAAOrO,KAAKglB,OAALhlB,CAAayJ,CAAbzJ,EAAqBqO,CAArBrO,CAAP;AAA4BqO,WAD9B9M;AAC8B8M,SAHH9M;AAuC/B;;AAAA,eAASilB,CAAT,CAAuB3B,CAAvB,EAAuBA;AACrB,iBAAS4B,CAAT,CAAgBhd,CAAhB,EAAwB4E,CAAxB,EAA6B9F,CAA7B,EAAsC2F,CAAtC,EAAsCA;AACpC,cAAIwY,CAAAA,GAASxB,CAAAA,CAASL,CAAAA,CAAUpb,CAAVob,CAATK,EAA4BL,CAA5BK,EAAuC7W,CAAvC6W,CAAb;;AACA,cAAoB,YAAhBwB,CAAAA,CAAOrV,IAAX,EAEO;AACL,gBAAI4E,CAAAA,GAASyQ,CAAAA,CAAOrY,GAApB;AAAA,gBACIrI,CAAAA,GAAQiQ,CAAAA,CAAOjQ,KADnB;AAEA,mBAAIA,CAAAA,IACiB,YAAVA,OAAAA,CADPA,IAEAge,CAAAA,CAAOzjB,IAAPyjB,CAAYhe,CAAZge,EAAmB,SAAnBA,CAFAhe,GAGKsC,OAAAA,CAAQC,OAARD,CAAgBtC,CAAAA,CAAMugB,OAAtBje,EAA+B0C,IAA/B1C,CAAoC,UAAStC,CAAT,EAASA;AAClDygB,cAAAA,CAAAA,CAAO,MAAPA,EAAezgB,CAAfygB,EAAsBle,CAAtBke,EAA+BvY,CAA/BuY,CAAAA;AAA+BvY,aAD1B5F,EAEJ,UAASuC,CAAT,EAASA;AACV4b,cAAAA,CAAAA,CAAO,OAAPA,EAAgB5b,CAAhB4b,EAAqBle,CAArBke,EAA8BvY,CAA9BuY,CAAAA;AAA8BvY,aAHzB5F,CAHLtC,GAUGsC,OAAAA,CAAQC,OAARD,CAAgBtC,CAAhBsC,EAAuB0C,IAAvB1C,CAA4B,UAASqe,CAAT,EAASA;AAI1C1Q,cAAAA,CAAAA,CAAOjQ,KAAPiQ,GAAe0Q,CAAf1Q,EACA1N,CAAAA,CAAQ0N,CAAR1N,CADA0N;AACQA,aALH3N,EAMJ,UAASiG,CAAT,EAASA;AAGV,qBAAOkY,CAAAA,CAAO,OAAPA,EAAgBlY,CAAhBkY,EAAuBle,CAAvBke,EAAgCvY,CAAhCuY,CAAP;AAAuCvY,aATlC5F,CAVP;AAJA4F;;AAAAA,UAAAA,CAAAA,CAAOwY,CAAAA,CAAOrY,GAAdH,CAAAA;AA8BJ;;AAAA,iBAAS2Y,CAAT,CAAiBpd,CAAjB,EAAyB4E,CAAzB,EAAyBA;AACvB,mBAASyY,CAAT,GAASA;AACP,mBAAO,IAAIxe,OAAJ,CAAY,UAASC,CAAT,EAAkB2F,CAAlB,EAAkBA;AACnCuY,cAAAA,CAAAA,CAAOhd,CAAPgd,EAAepY,CAAfoY,EAAoBle,CAApBke,EAA6BvY,CAA7BuY,CAAAA;AAA6BvY,aADxB,CAAP;AAKF;;AAAA,iBAAO0Y,CAAAA,GAaLA,CAAAA,GAAkBA,CAAAA,CAAgB5b,IAAhB4b,CAChBE,CADgBF,EAIhBE,CAJgBF,CAAlBA,GAKIE,CAAAA,EAlBN;AATF;;AAAA,YAAIF,CAAJ;AAgCA5mB,aAAKglB,OAALhlB,GAAe6mB,CAAf7mB;AAwBF;;AAAA,eAASilB,CAAT,CAA0BT,CAA1B,EAAmCzkB,CAAnC,EAAyC+kB,CAAzC,EAAyCA;AACvC,YAAI9B,CAAAA,GAAQmC,CAAZ;AAEA,eAAO,UAAgB1b,CAAhB,EAAwB4E,CAAxB,EAAwBA;AAC7B,cAAI2U,CAAAA,KAAUqC,CAAd,EACE,MAAM,IAAInc,KAAJ,CAAU,8BAAV,CAAN;;AAGF,cAAI8Z,CAAAA,KAAUsC,CAAd,EAAiC;AAC/B,gBAAe,YAAX7b,CAAJ,EACE,MAAM4E,CAAN;AAKF,mBAAO4Y,CAAAA,EAAP;AAMF;;AAAA,eAHAnC,CAAAA,CAAQrb,MAARqb,GAAiBrb,CAAjBqb,EACAA,CAAAA,CAAQzW,GAARyW,GAAczW,CAEd,IAAa;AACX,gBAAI6Y,CAAAA,GAAWpC,CAAAA,CAAQoC,QAAvB;;AACA,gBAAIA,CAAJ,EAAc;AACZ,kBAAIC,CAAAA,GAAiBC,CAAAA,CAAoBF,CAApBE,EAA8BtC,CAA9BsC,CAArB;;AACA,kBAAID,CAAJ,EAAoB;AAClB,oBAAIA,CAAAA,KAAmB5B,CAAvB,EAAyC;AACzC,uBAAO4B,CAAP;AAAOA;AAIX;;AAAA,gBAAuB,WAAnBrC,CAAAA,CAAQrb,MAAZ,EAGEqb,CAAAA,CAAQuC,IAARvC,GAAeA,CAAAA,CAAQwC,KAARxC,GAAgBA,CAAAA,CAAQzW,GAAvCyW,CAHF,KAKO,IAAuB,YAAnBA,CAAAA,CAAQrb,MAAZ,EAAgC;AACrC,kBAAIuZ,CAAAA,KAAUmC,CAAd,EACEnC,MAAAA,CAAAA,GAAQsC,CAARtC,EACM8B,CAAAA,CAAQzW,GADd2U;AAIF8B,cAAAA,CAAAA,CAAQyC,iBAARzC,CAA0BA,CAAAA,CAAQzW,GAAlCyW;AAAkCzW,aAN7B,MAQuB,aAAnByW,CAAAA,CAAQrb,MAAW,IAC5Bqb,CAAAA,CAAQ0C,MAAR1C,CAAe,QAAfA,EAAyBA,CAAAA,CAAQzW,GAAjCyW,CAD4B;AAI9B9B,YAAAA,CAAAA,GAAQqC,CAARrC;AAEA,gBAAI0D,CAAAA,GAASxB,CAAAA,CAASV,CAATU,EAAkBnlB,CAAlBmlB,EAAwBJ,CAAxBI,CAAb;;AACA,gBAAoB,aAAhBwB,CAAAA,CAAOrV,IAAX,EAA8B;AAO5B,kBAJA2R,CAAAA,GAAQ8B,CAAAA,CAAQtW,IAARsW,GACJQ,CADIR,GAEJM,CAFJpC,EAII0D,CAAAA,CAAOrY,GAAPqY,KAAenB,CAAnB,EACE;AAGF,qBAAA;AACEvf,gBAAAA,KAAAA,EAAO0gB,CAAAA,CAAOrY,GADhB;AAEEG,gBAAAA,IAAAA,EAAMsW,CAAAA,CAAQtW;AAFhB,eAAA;AAKyB;;AAAA,wBAAhBkY,CAAAA,CAAOrV,IAAS,KACzB2R,CAAAA,GAAQsC,CAARtC,EAGA8B,CAAAA,CAAQrb,MAARqb,GAAiB,OAHjB9B,EAIA8B,CAAAA,CAAQzW,GAARyW,GAAc4B,CAAAA,CAAOrY,GALI;AAKJA;AAAAA,SArE3B;AA+EF;;AAAA,eAAS+Y,CAAT,CAA6BF,CAA7B,EAAuCpC,CAAvC,EAAuCA;AACrC,YAAIrb,CAAAA,GAASyd,CAAAA,CAASzZ,QAATyZ,CAAkBpC,CAAAA,CAAQrb,MAA1Byd,CAAb;;AACA,YAAIzd,CAAAA,KAAWzE,CAAf,EAA0B;AAKxB,cAFA8f,CAAAA,CAAQoC,QAARpC,GAAmB,IAAnBA,EAEuB,YAAnBA,CAAAA,CAAQrb,MAAZ,EAAgC;AAE9B,gBAAIyd,CAAAA,CAASzZ,QAATyZ,CAA0B,MAA1BA,KAGFpC,CAAAA,CAAQrb,MAARqb,GAAiB,QAAjBA,EACAA,CAAAA,CAAQzW,GAARyW,GAAc9f,CADd8f,EAEAsC,CAAAA,CAAoBF,CAApBE,EAA8BtC,CAA9BsC,CAFAtC,EAIuB,YAAnBA,CAAAA,CAAQrb,MAPVyd,CAAJ,EAUI,OAAO3B,CAAP;AAIJT,YAAAA,CAAAA,CAAQrb,MAARqb,GAAiB,OAAjBA,EACAA,CAAAA,CAAQzW,GAARyW,GAAc,IAAItN,SAAJ,CACZ,gDADY,CADdsN;AAKF;;AAAA,iBAAOS,CAAP;AAGF;;AAAA,YAAImB,CAAAA,GAASxB,CAAAA,CAASzb,CAATyb,EAAiBgC,CAAAA,CAASzZ,QAA1ByX,EAAoCJ,CAAAA,CAAQzW,GAA5C6W,CAAb;AAEA,YAAoB,YAAhBwB,CAAAA,CAAOrV,IAAX,EACEyT,OAAAA,CAAAA,CAAQrb,MAARqb,GAAiB,OAAjBA,EACAA,CAAAA,CAAQzW,GAARyW,GAAc4B,CAAAA,CAAOrY,GADrByW,EAEAA,CAAAA,CAAQoC,QAARpC,GAAmB,IAFnBA,EAGOS,CAHPT;AAMF,YAAIxW,CAAAA,GAAOoY,CAAAA,CAAOrY,GAAlB;AAEA,eAAMC,CAAAA,GAOFA,CAAAA,CAAKE,IAALF,IAGFwW,CAAAA,CAAQoC,CAAAA,CAASO,UAAjB3C,CAAAA,GAA+BxW,CAAAA,CAAKtI,KAApC8e,EAGAA,CAAAA,CAAQlN,IAARkN,GAAeoC,CAAAA,CAASQ,OAHxB5C,EAWuB,aAAnBA,CAAAA,CAAQrb,MAAW,KACrBqb,CAAAA,CAAQrb,MAARqb,GAAiB,MAAjBA,EACAA,CAAAA,CAAQzW,GAARyW,GAAc9f,CAFO,CAXvB8f,EAuBFA,CAAAA,CAAQoC,QAARpC,GAAmB,IAvBjBA,EAwBKS,CA3BHjX,IAqBKA,CA5BHA,IACJwW,CAAAA,CAAQrb,MAARqb,GAAiB,OAAjBA,EACAA,CAAAA,CAAQzW,GAARyW,GAAc,IAAItN,SAAJ,CAAc,kCAAd,CADdsN,EAEAA,CAAAA,CAAQoC,QAARpC,GAAmB,IAFnBA,EAGOS,CAJHjX,CAAN;AAwDF;;AAAA,eAASqZ,CAAT,CAAsBC,CAAtB,EAAsBA;AACpB,YAAIC,CAAAA,GAAAA;AAAUC,UAAAA,MAAAA,EAAQF,CAAAA,CAAK,CAALA;AAAlBC,SAAJ;AAEI,aAAKD,CAAL,KACFC,CAAAA,CAAME,QAANF,GAAiBD,CAAAA,CAAK,CAALA,CADf,GAIA,KAAKA,CAAL,KACFC,CAAAA,CAAMG,UAANH,GAAmBD,CAAAA,CAAK,CAALA,CAAnBC,EACAA,CAAAA,CAAMI,QAANJ,GAAiBD,CAAAA,CAAK,CAALA,CAFf,CAJA,EASJ5nB,KAAKkoB,UAALloB,CAAgBiF,IAAhBjF,CAAqB6nB,CAArB7nB,CATI;AAYN;;AAAA,eAASmoB,CAAT,CAAuBN,CAAvB,EAAuBA;AACrB,YAAInB,CAAAA,GAASmB,CAAAA,CAAMO,UAANP,IAAMO,EAAnB;AACA1B,QAAAA,CAAAA,CAAOrV,IAAPqV,GAAc,QAAdA,EAAc,OACPA,CAAAA,CAAOrY,GADdqY,EAEAmB,CAAAA,CAAMO,UAANP,GAAmBnB,CAFnBA;AAKF;;AAAA,eAAS3B,CAAT,CAAiBL,CAAjB,EAAiBA;AAIf1kB,aAAKkoB,UAALloB,GAAKkoB,CAAAA;AAAgBJ,UAAAA,MAAAA,EAAQ;AAAxBI,SAAAA,CAALloB,EACA0kB,CAAAA,CAAY9e,OAAZ8e,CAAoBiD,CAApBjD,EAAkC1kB,IAAlC0kB,CADA1kB,EAEAA,KAAKqoB,KAALroB,CAAKqoB,CAAM,CAAXroB,CAFAA;AAgCF;;AAAA,eAASuY,CAAT,CAAgB7B,CAAhB,EAAgBA;AACd,YAAIA,CAAJ,EAAc;AACZ,cAAI8R,CAAAA,GAAiB9R,CAAAA,CAASwN,CAATxN,CAArB;AACA,cAAI8R,CAAJ,EACE,OAAOA,CAAAA,CAAejoB,IAAfioB,CAAoB9R,CAApB8R,CAAP;AAGF,cAA6B,cAAlB9R,OAAAA,CAAAA,CAASkB,IAApB,EACE,OAAOlB,CAAP;;AAGF,cAAA,CAAK+R,KAAAA,CAAM/R,CAAAA,CAAS9T,MAAf6lB,CAAL,EAA6B;AAC3B,gBAAIroB,CAAAA,GAAAA,CAAK,CAAT;AAAA,gBAAYwX,CAAAA,GAAO,SAASA,CAAT,GAASA;AAC1B,qBAAA,EAASxX,CAAT,GAAasW,CAAAA,CAAS9T,MAAtB,GACE,IAAIohB,CAAAA,CAAOzjB,IAAPyjB,CAAYtN,CAAZsN,EAAsB5jB,CAAtB4jB,CAAJ,EACEpM,OAAAA,CAAAA,CAAK5R,KAAL4R,GAAalB,CAAAA,CAAStW,CAATsW,CAAbkB,EACAA,CAAAA,CAAKpJ,IAALoJ,GAAKpJ,CAAO,CADZoJ,EAEOA,CAFPA;;AAMJA,qBAAAA,CAAAA,CAAK5R,KAAL4R,GAAa5S,CAAb4S,EACAA,CAAAA,CAAKpJ,IAALoJ,GAAKpJ,CAAO,CADZoJ,EAGOA,CAHPA;AAMF,aAfA;;AAeA,mBAAOA,CAAAA,CAAKA,IAALA,GAAYA,CAAnB;AAAmBA;AAKvB;;AAAA,eAAA;AAASA,UAAAA,IAAAA,EAAMqP;AAAf,SAAA;AAIF;;AAAA,eAASA,CAAT,GAASA;AACP,eAAA;AAASjhB,UAAAA,KAAAA,EAAOhB,CAAhB;AAA2BwJ,UAAAA,IAAAA,EAAAA,CAAM;AAAjC,SAAA;AAreF;;AAAA,UAEIxJ,CAFJ;AAAA,UAAI+e,CAAAA,GAAKjjB,MAAAA,CAAOS,SAAhB;AAAA,UACIyiB,CAAAA,GAASD,CAAAA,CAAGviB,cADhB;AAAA,UAGIyiB,CAAAA,GAA4B,cAAXzW,OAAAA,MAAW,GAAaA,MAAb,GAAaA,EAH7C;AAAA,UAII0W,CAAAA,GAAiBD,CAAAA,CAAQxW,QAARwW,IAAoB,YAJzC;AAAA,UAKIE,CAAAA,GAAsBF,CAAAA,CAAQG,aAARH,IAAyB,iBALnD;AAAA,UAMII,CAAAA,GAAoBJ,CAAAA,CAAQK,WAARL,IAAuB,eAN/C;AAoBAtkB,MAAAA,CAAAA,CAAQ4kB,IAAR5kB,GAAe4kB,CAAf5kB;AAoBA,UAAIwlB,CAAAA,GAAyB,gBAA7B;AAAA,UACIC,CAAAA,GAAyB,gBAD7B;AAAA,UAEIC,CAAAA,GAAoB,WAFxB;AAAA,UAGIC,CAAAA,GAAoB,WAHxB;AAAA,UAOIC,CAAAA,GAAAA,EAPJ;AAAA,UAmBIG,CAAAA,GAAAA,EAnBJ;;AAoBAA,MAAAA,CAAAA,CAAkBxB,CAAlBwB,CAAAA,GAAoC,YAAA;AAClC,eAAO1lB,IAAP;AAGF,OAJA0lB;;AAIA,UAAIC,CAAAA,GAAW7kB,MAAAA,CAAO8kB,cAAtB;AAAA,UACIC,CAAAA,GAA0BF,CAAAA,IAAYA,CAAAA,CAASA,CAAAA,CAASpN,CAAAA,CAAAA,EAAAA,CAAToN,CAATA,CAD1C;AAEIE,MAAAA,CAAAA,IACAA,CAAAA,KAA4B9B,CAD5B8B,IAEA7B,CAAAA,CAAOzjB,IAAPyjB,CAAY6B,CAAZ7B,EAAqCE,CAArCF,CAFA6B,KAKFH,CAAAA,GAAoBG,CALlBA;AAQJ,UAAIC,CAAAA,GAAKL,CAAAA,CAA2BlkB,SAA3BkkB,GACPb,CAAAA,CAAUrjB,SAAVqjB,GAAsB9jB,MAAAA,CAAOgb,MAAPhb,CAAc4kB,CAAd5kB,CADxB;AAEA0kB,aAAAA,CAAAA,CAAkBjkB,SAAlBikB,GAA8BM,CAAAA,CAAGpY,WAAHoY,GAAiBL,CAA/CD,EACAC,CAAAA,CAA2B/X,WAA3B+X,GAAyCD,CADzCA,EAEAC,CAAAA,CAA2BpB,CAA3BoB,CAAAA,GACED,CAAAA,CAAkBO,WAAlBP,GAAgC,mBAHlCA,EAeA7lB,CAAAA,CAAQsmB,mBAARtmB,GAA8B,UAASumB,CAAT,EAASA;AACrC,YAAIC,CAAAA,GAAyB,cAAXD,OAAAA,CAAW,IAAcA,CAAAA,CAAOxY,WAAlD;AACA,eAAA,CAAA,CAAOyY,CAAP,KACIA,CAAAA,KAASX,CAATW,IAGoC,yBAAnCA,CAAAA,CAAKJ,WAALI,IAAoBA,CAAAA,CAAKxlB,IAAU,CAJxC,CAAA;AAI8BA,OArBhC6kB,EAyBA7lB,CAAAA,CAAQsC,IAARtC,GAAe,UAASumB,CAAT,EAASA;AAClBplB,eAAAA,MAAAA,CAAOslB,cAAPtlB,GACFA,MAAAA,CAAOslB,cAAPtlB,CAAsBolB,CAAtBplB,EAA8B2kB,CAA9B3kB,CADEA,IAGFolB,CAAAA,CAAOG,SAAPH,GAAmBT,CAAnBS,EACM7B,CAAAA,IAAqB6B,CAArB7B,KACJ6B,CAAAA,CAAO7B,CAAP6B,CAAAA,GAA4B,mBADxB7B,CAJJvjB,GAQJolB,CAAAA,CAAO3kB,SAAP2kB,GAAmBplB,MAAAA,CAAOgb,MAAPhb,CAAcglB,CAAdhlB,CARfA,EASGolB,CATHplB;AASGolB,OAnCTV,EA0CA7lB,CAAAA,CAAQ2mB,KAAR3mB,GAAgB,UAAS0O,CAAT,EAASA;AACvB,eAAA;AAASkY,UAAAA,OAAAA,EAASlY;AAAlB,SAAA;AAAkBA,OA3CpBmX,EAiHAQ,CAAAA,CAAsBQ,CAAAA,CAAcjlB,SAApCykB,CAjHAR,EAkHAgB,CAAAA,CAAcjlB,SAAdilB,CAAwBrC,CAAxBqC,IAA+C,YAAA;AAC7C,eAAOxmB,IAAP;AAAOA,OAnHTwlB,EAqHA7lB,CAAAA,CAAQ6mB,aAAR7mB,GAAwB6mB,CArHxBhB,EA0HA7lB,CAAAA,CAAQonB,KAARpnB,GAAgB,UAAS6kB,CAAT,EAAkBC,CAAlB,EAA2B1kB,CAA3B,EAAiC2kB,CAAjC,EAAiCA;AAC/C,YAAIsC,CAAAA,GAAO,IAAIR,CAAJ,CACTjC,CAAAA,CAAKC,CAALD,EAAcE,CAAdF,EAAuBxkB,CAAvBwkB,EAA6BG,CAA7BH,CADS,CAAX;AAIA,eAAO5kB,CAAAA,CAAQsmB,mBAARtmB,CAA4B8kB,CAA5B9kB,IACHqnB,CADGrnB,GAEHqnB,CAAAA,CAAKpP,IAALoP,GAAYhc,IAAZgc,CAAiB,UAAS/Q,CAAT,EAASA;AACxB,iBAAOA,CAAAA,CAAOzH,IAAPyH,GAAcA,CAAAA,CAAOjQ,KAArBiQ,GAA6B+Q,CAAAA,CAAKpP,IAALoP,EAApC;AAAyCpP,SAD3CoP,CAFJ;AAG+CpP,OAlIjD4N,EAySAQ,CAAAA,CAAsBF,CAAtBE,CAzSAR,EA2SAM,CAAAA,CAAGzB,CAAHyB,CAAAA,GAAwB,WA3SxBN,EAkTAM,CAAAA,CAAG5B,CAAH4B,CAAAA,GAAqB,YAAA;AACnB,eAAO9lB,IAAP;AAAOA,OAnTTwlB,EAsTAM,CAAAA,CAAG1hB,QAAH0hB,GAAc,YAAA;AACZ,eAAO,oBAAP;AAAO,OAvTTN,EAyVA7lB,CAAAA,CAAQqU,IAARrU,GAAe,UAAS0B,CAAT,EAASA;AACtB,YAAI2S,CAAAA,GAAAA,EAAJ;;AACA,aAAK,IAAIjP,CAAT,IAAgB1D,CAAhB,EACE2S,CAAAA,CAAK/O,IAAL+O,CAAUjP,CAAViP;;AAEFA,eAAAA,CAAAA,CAAKsU,OAALtU,IAIO,SAAS4D,CAAT,GAASA;AACd,iBAAO5D,CAAAA,CAAKpR,MAAZ,GAAoB;AAClB,gBAAImC,CAAAA,GAAMiP,CAAAA,CAAKuU,GAALvU,EAAV;AACA,gBAAIjP,CAAAA,IAAO1D,CAAX,EACEuW,OAAAA,CAAAA,CAAK5R,KAAL4R,GAAa7S,CAAb6S,EACAA,CAAAA,CAAKpJ,IAALoJ,GAAKpJ,CAAO,CADZoJ,EAEOA,CAFPA;AASJA;;AAAAA,iBAAAA,CAAAA,CAAKpJ,IAALoJ,GAAKpJ,CAAO,CAAZoJ,EACOA,CADPA;AACOA,SAlBT5D;AAkBS4D,OAhXX4N,EAsZA7lB,CAAAA,CAAQ4Y,MAAR5Y,GAAiB4Y,CAtZjBiN,EA4ZAT,CAAAA,CAAQxjB,SAARwjB,GAAQxjB;AACNmM,QAAAA,WAAAA,EAAaqX,CADPxjB;AAGN8mB,QAAAA,KAAAA,EAAO,UAASK,CAAT,EAASA;AAcd,cAbA1oB,KAAK2oB,IAAL3oB,GAAY,CAAZA,EACAA,KAAK4X,IAAL5X,GAAY,CADZA,EAIAA,KAAKqnB,IAALrnB,GAAYA,KAAKsnB,KAALtnB,GAAagF,CAJzBhF,EAKAA,KAAKwO,IAALxO,GAAKwO,CAAO,CALZxO,EAMAA,KAAKknB,QAALlnB,GAAgB,IANhBA,EAQAA,KAAKyJ,MAALzJ,GAAc,MARdA,EASAA,KAAKqO,GAALrO,GAAWgF,CATXhF,EAWAA,KAAKkoB,UAALloB,CAAgB4F,OAAhB5F,CAAwBmoB,CAAxBnoB,CAXAA,EAWwBmoB,CAEnBO,CAAL,EACE,KAAK,IAAI/nB,CAAT,IAAiBX,IAAjB,EAEyB,QAAnBW,CAAAA,CAAK4U,MAAL5U,CAAY,CAAZA,CAAmB,IACnBqjB,CAAAA,CAAOzjB,IAAPyjB,CAAYhkB,IAAZgkB,EAAkBrjB,CAAlBqjB,CADmB,IACDrjB,CACjB8nB,KAAAA,CAAAA,CAAO9nB,CAAAA,CAAKiD,KAALjD,CAAW,CAAXA,CAAP8nB,CAFkB,KAGrBzoB,KAAKW,CAALX,IAAagF,CAHQ;AAGRA,SAvBfzD;AA6BNqnB,QAAAA,IAAAA,EAAM,YAAA;AACJ5oB,eAAKwO,IAALxO,GAAKwO,CAAO,CAAZxO;AAEA,cAAI6oB,CAAAA,GAAY7oB,KAAKkoB,UAALloB,CAAgB,CAAhBA,CAAhB;AAAA,cACI8oB,CAAAA,GAAaD,CAAAA,CAAUT,UAD3B;AAEA,cAAwB,YAApBU,CAAAA,CAAWzX,IAAf,EACE,MAAMyX,CAAAA,CAAWza,GAAjB;AAGF,iBAAOrO,KAAK+oB,IAAZ;AAAYA,SAtCRxnB;AAyCNgmB,QAAAA,iBAAAA,EAAmB,UAASyB,CAAT,EAASA;AAM1B,mBAASC,CAAT,CAAgBC,CAAhB,EAAqBC,CAArB,EAAqBA;AACnBzC,mBAAAA,CAAAA,CAAOrV,IAAPqV,GAAc,OAAdA,EACAA,CAAAA,CAAOrY,GAAPqY,GAAasC,CADbtC,EAEA5B,CAAAA,CAAQlN,IAARkN,GAAeoE,CAFfxC,EAIIyC,CAAAA,KAGFrE,CAAAA,CAAQrb,MAARqb,GAAiB,MAAjBA,EACAA,CAAAA,CAAQzW,GAARyW,GAAc9f,CAJZmkB,CAJJzC,EAQgB1hB,CAAAA,CAGNmkB,CAXVzC;AANF;;AAAA,cAAI1mB,KAAKwO,IAAT,EACE,MAAMwa,CAAN;;AAmBF,eAhBIlE,IAAAA,CAAAA,GAAU9kB,IAAV8kB,EAgBK1kB,CAAAA,GAAIJ,KAAKkoB,UAALloB,CAAgB4C,MAAhB5C,GAAyB,CAAtC,EAAyCI,CAAAA,IAAK,CAA9C,EAA8C,EAAKA,CAAnD,EAAsD;AACpD,gBAAIynB,CAAAA,GAAQ7nB,KAAKkoB,UAALloB,CAAgBI,CAAhBJ,CAAZ;AAAA,gBACI0mB,CAAAA,GAASmB,CAAAA,CAAMO,UADnB;AAGA,gBAAqB,WAAjBP,CAAAA,CAAMC,MAAV,EAIE,OAAOmB,CAAAA,CAAO,KAAPA,CAAP;;AAGF,gBAAIpB,CAAAA,CAAMC,MAAND,IAAgB7nB,KAAK2oB,IAAzB,EAA+B;AAC7B,kBAAIS,CAAAA,GAAWpF,CAAAA,CAAOzjB,IAAPyjB,CAAY6D,CAAZ7D,EAAmB,UAAnBA,CAAf;AAAA,kBACIqF,CAAAA,GAAarF,CAAAA,CAAOzjB,IAAPyjB,CAAY6D,CAAZ7D,EAAmB,YAAnBA,CADjB;;AAGA,kBAAIoF,CAAAA,IAAYC,CAAhB,EAA4B;AAC1B,oBAAIrpB,KAAK2oB,IAAL3oB,GAAY6nB,CAAAA,CAAME,QAAtB,EACE,OAAOkB,CAAAA,CAAOpB,CAAAA,CAAME,QAAbkB,EAAalB,CAAU,CAAvBkB,CAAP;AACK,oBAAIjpB,KAAK2oB,IAAL3oB,GAAY6nB,CAAAA,CAAMG,UAAtB,EACL,OAAOiB,CAAAA,CAAOpB,CAAAA,CAAMG,UAAbiB,CAAP;AAAoBjB,eAJxB,MAOO,IAAIoB,CAAJ,EAAIA;AACT,oBAAIppB,KAAK2oB,IAAL3oB,GAAY6nB,CAAAA,CAAME,QAAtB,EACE,OAAOkB,CAAAA,CAAOpB,CAAAA,CAAME,QAAbkB,EAAalB,CAAU,CAAvBkB,CAAP;AAA8B,eAF3B,MAKA;AAAA,oBAAA,CAAII,CAAJ,EAML,MAAM,IAAIngB,KAAJ,CALN,wCAKM,CAAN;AALA,oBAAIlJ,KAAK2oB,IAAL3oB,GAAY6nB,CAAAA,CAAMG,UAAtB,EACE,OAAOiB,CAAAA,CAAOpB,CAAAA,CAAMG,UAAbiB,CAAP;AAAoBjB;AAAAA;AAAAA;AAAAA,SA3FxBzmB;AAqGNimB,QAAAA,MAAAA,EAAQ,UAASnW,CAAT,EAAehD,CAAf,EAAeA;AACrB,eAAK,IAAIjO,CAAAA,GAAIJ,KAAKkoB,UAALloB,CAAgB4C,MAAhB5C,GAAyB,CAAtC,EAAyCI,CAAAA,IAAK,CAA9C,EAA8C,EAAKA,CAAnD,EAAsD;AACpD,gBAAIynB,CAAAA,GAAQ7nB,KAAKkoB,UAALloB,CAAgBI,CAAhBJ,CAAZ;;AACA,gBAAI6nB,CAAAA,CAAMC,MAAND,IAAgB7nB,KAAK2oB,IAArBd,IACA7D,CAAAA,CAAOzjB,IAAPyjB,CAAY6D,CAAZ7D,EAAmB,YAAnBA,CADA6D,IAEA7nB,KAAK2oB,IAAL3oB,GAAY6nB,CAAAA,CAAMG,UAFtB,EAEkC;AAChC,kBAAIsB,CAAAA,GAAezB,CAAnB;AACA;AAAA;AAIAyB;;AAAAA,UAAAA,CAAAA,KACU,YAATjY,CAAS,IACA,eAATA,CAFDiY,CAAAA,IAGAA,CAAAA,CAAaxB,MAAbwB,IAAuBjb,CAHvBib,IAIAjb,CAAAA,IAAOib,CAAAA,CAAatB,UAJpBsB,KAOFA,CAAAA,GAAe,IAPbA;AAUJ,cAAI5C,CAAAA,GAAS4C,CAAAA,GAAeA,CAAAA,CAAalB,UAA5BkB,GAA4BlB,EAAzC;AACA1B,iBAAAA,CAAAA,CAAOrV,IAAPqV,GAAcrV,CAAdqV,EACAA,CAAAA,CAAOrY,GAAPqY,GAAarY,CADbqY,EAGI4C,CAAAA,IACFtpB,KAAKyJ,MAALzJ,GAAc,MAAdA,EACAA,KAAK4X,IAAL5X,GAAYspB,CAAAA,CAAatB,UADzBhoB,EAEOulB,CAHL+D,IAMGtpB,KAAKupB,QAALvpB,CAAc0mB,CAAd1mB,CATP0mB;AASqBA,SApIjBnlB;AAuINgoB,QAAAA,QAAAA,EAAU,UAAS7C,CAAT,EAAiBuB,CAAjB,EAAiBA;AACzB,cAAoB,YAAhBvB,CAAAA,CAAOrV,IAAX,EACE,MAAMqV,CAAAA,CAAOrY,GAAb;AAcF,iBAXoB,YAAhBqY,CAAAA,CAAOrV,IAAS,IACA,eAAhBqV,CAAAA,CAAOrV,IADS,GAElBrR,KAAK4X,IAAL5X,GAAY0mB,CAAAA,CAAOrY,GAFD,GAGO,aAAhBqY,CAAAA,CAAOrV,IAAS,IACzBrR,KAAK+oB,IAAL/oB,GAAYA,KAAKqO,GAALrO,GAAW0mB,CAAAA,CAAOrY,GAA9BrO,EACAA,KAAKyJ,MAALzJ,GAAc,QADdA,EAEAA,KAAK4X,IAAL5X,GAAY,KAHa,IAIA,aAAhB0mB,CAAAA,CAAOrV,IAAS,IAAY4W,CAAZ,KACzBjoB,KAAK4X,IAAL5X,GAAYioB,CADa,CAPP,EAWb1C,CAAP;AAAOA,SAvJHhkB;AA0JNioB,QAAAA,MAAAA,EAAQ,UAASxB,CAAT,EAASA;AACf,eAAK,IAAI5nB,CAAAA,GAAIJ,KAAKkoB,UAALloB,CAAgB4C,MAAhB5C,GAAyB,CAAtC,EAAyCI,CAAAA,IAAK,CAA9C,EAA8C,EAAKA,CAAnD,EAAsD;AACpD,gBAAIynB,CAAAA,GAAQ7nB,KAAKkoB,UAALloB,CAAgBI,CAAhBJ,CAAZ;AACA,gBAAI6nB,CAAAA,CAAMG,UAANH,KAAqBG,CAAzB,EACEhoB,OAAAA,KAAKupB,QAALvpB,CAAc6nB,CAAAA,CAAMO,UAApBpoB,EAAgC6nB,CAAAA,CAAMI,QAAtCjoB,GACAmoB,CAAAA,CAAcN,CAAdM,CADAnoB,EAEOulB,CAFPvlB;AAEOulB;AAAAA,SAhKPhkB;AAqKN,QAAA,KAAA,EAAS,UAASumB,CAAT,EAASA;AAChB,eAAK,IAAI1nB,CAAAA,GAAIJ,KAAKkoB,UAALloB,CAAgB4C,MAAhB5C,GAAyB,CAAtC,EAAyCI,CAAAA,IAAK,CAA9C,EAA8C,EAAKA,CAAnD,EAAsD;AACpD,gBAAIynB,CAAAA,GAAQ7nB,KAAKkoB,UAALloB,CAAgBI,CAAhBJ,CAAZ;;AACA,gBAAI6nB,CAAAA,CAAMC,MAAND,KAAiBC,CAArB,EAA6B;AAC3B,kBAAIpB,CAAAA,GAASmB,CAAAA,CAAMO,UAAnB;;AACA,kBAAoB,YAAhB1B,CAAAA,CAAOrV,IAAX,EAA6B;AAC3B,oBAAIoY,CAAAA,GAAS/C,CAAAA,CAAOrY,GAApB;AACA8Z,gBAAAA,CAAAA,CAAcN,CAAdM,CAAAA;AAEF;;AAAA,qBAAOsB,CAAP;AAAOA;AAMX;;AAAA,gBAAM,IAAIvgB,KAAJ,CAAU,uBAAV,CAAN;AAAgB,SApLZ3H;AAuLNmoB,QAAAA,aAAAA,EAAe,UAAShT,CAAT,EAAmB+Q,CAAnB,EAA+BC,CAA/B,EAA+BA;AAC5C1nB,iBAAAA,KAAKknB,QAALlnB,GAAKknB;AACHzZ,YAAAA,QAAAA,EAAU8K,CAAAA,CAAO7B,CAAP6B,CADP2O;AAEHO,YAAAA,UAAAA,EAAYA,CAFTP;AAGHQ,YAAAA,OAAAA,EAASA;AAHNR,WAALlnB,EAMoB,WAAhBA,KAAKyJ,MAAW,KAGlBzJ,KAAKqO,GAALrO,GAAWgF,CAHO,CANpBhF,EAYOulB,CAZPvlB;AAYOulB;AApMHhkB,OA5ZRikB,EAwmBO7lB,CAxmBP6lB;AAwmBO7lB,KAvrBM,CA8rBgBC,CAAAA,CAAOD,OA9rBvB,CAAf;;AAisBA,QAAA;AACEgqB,MAAAA,kBAAAA,GAAqB7F,CAArB6F;AACA,KAFF,CAEE,OAAOC,CAAP,EAAOA;AAUPC,MAAAA,QAAAA,CAAS,GAATA,EAAc,wBAAdA,CAAAA,CAAwC/F,CAAxC+F;AAAwC/F;AAAAA,GlBvpBW,EC87G/C,UAAUlkB,CAAV,EAAkBD,CAAlB,EAAkBA;AkB3/GxB,aAASmqB,CAAT,GAASA,CAKTA;;AAAAA,IAAAA,CAAAA,CAAEvoB,SAAFuoB,GAAEvoB;AACAogB,MAAAA,EAAAA,EAAI,UAAUhhB,CAAV,EAAgB0X,CAAhB,EAA0B5U,CAA1B,EAA0BA;AAC5B,YAAIR,CAAAA,GAAIjD,KAAKiD,CAALjD,KAAWA,KAAKiD,CAALjD,GAAKiD,EAAhBjD,CAAR;AAOA,eAAA,CALCiD,CAAAA,CAAEtC,CAAFsC,CAAAA,KAAYA,CAAAA,CAAEtC,CAAFsC,CAAAA,GAAEtC,EAAdsC,CAKD,EAL4BgC,IAK5B,CAL4BA;AAC1BzB,UAAAA,EAAAA,EAAI6U,CADsBpT;AAE1BxB,UAAAA,GAAAA,EAAKA;AAFqBwB,SAK5B,GAAOjF,IAAP;AAAOA,OATTuB;AAYAwoB,MAAAA,IAAAA,EAAM,UAAUppB,CAAV,EAAgB0X,CAAhB,EAA0B5U,CAA1B,EAA0BA;AAE9B,iBAAS6f,CAAT,GAASA;AACPvjB,UAAAA,CAAAA,CAAKiqB,GAALjqB,CAASY,CAATZ,EAAeujB,CAAfvjB,GACAsY,CAAAA,CAAStW,KAATsW,CAAe5U,CAAf4U,EAAoBrW,SAApBqW,CADAtY;AAFF;;AAAA,YAAIA,CAAAA,GAAOC,IAAX;AAMAsjB,eAAAA,CAAAA,CAAS2G,CAAT3G,GAAajL,CAAbiL,EACOtjB,KAAK2hB,EAAL3hB,CAAQW,CAARX,EAAcsjB,CAAdtjB,EAAwByD,CAAxBzD,CADPsjB;AAC+B7f,OApBjClC;AAuBA2oB,MAAAA,IAAAA,EAAM,UAAUvpB,CAAV,EAAUA;AACd,YAAIiK,CAAAA,GAAAA,GAAUhH,KAAVgH,CAAgBrK,IAAhBqK,CAAqB5I,SAArB4I,EAAgC,CAAhCA,CAAJ;AAAA,YACIuf,CAAAA,GAAAA,CAAAA,CAAWnqB,KAAKiD,CAALjD,KAAWA,KAAKiD,CAALjD,GAAKiD,EAAhBjD,CAAXmqB,EAAoCxpB,CAApCwpB,KAAoCxpB,EAApCwpB,EAAiDvmB,KAAjDumB,EADJ;AAAA,YAEI/pB,CAAAA,GAAI,CAFR;AAAA,YAGIgqB,CAAAA,GAAMD,CAAAA,CAAOvnB,MAHjB;;AAKA,aAAKxC,CAAL,EAAQA,CAAAA,GAAIgqB,CAAZ,EAAiBhqB,CAAAA,EAAjB,EACE+pB,CAAAA,CAAO/pB,CAAP+pB,CAAAA,CAAU3mB,EAAV2mB,CAAapoB,KAAbooB,CAAmBA,CAAAA,CAAO/pB,CAAP+pB,CAAAA,CAAU1mB,GAA7B0mB,EAAkCvf,CAAlCuf;;AAGF,eAAOnqB,IAAP;AAAOA,OAjCTuB;AAoCAyoB,MAAAA,GAAAA,EAAK,UAAUrpB,CAAV,EAAgB0X,CAAhB,EAAgBA;AACnB,YAAIpV,CAAAA,GAAIjD,KAAKiD,CAALjD,KAAWA,KAAKiD,CAALjD,GAAKiD,EAAhBjD,CAAR;AAAA,YACIqqB,CAAAA,GAAOpnB,CAAAA,CAAEtC,CAAFsC,CADX;AAAA,YAEIqnB,CAAAA,GAAAA,EAFJ;AAIA,YAAID,CAAAA,IAAQhS,CAAZ,EACE,KAAK,IAAIjY,CAAAA,GAAI,CAAR,EAAWgqB,CAAAA,GAAMC,CAAAA,CAAKznB,MAA3B,EAAmCxC,CAAAA,GAAIgqB,CAAvC,EAA4ChqB,CAAAA,EAA5C,EACMiqB,CAAAA,CAAKjqB,CAALiqB,CAAAA,CAAQ7mB,EAAR6mB,KAAehS,CAAfgS,IAA2BA,CAAAA,CAAKjqB,CAALiqB,CAAAA,CAAQ7mB,EAAR6mB,CAAWJ,CAAXI,KAAiBhS,CAA5CgS,IACFC,CAAAA,CAAWrlB,IAAXqlB,CAAgBD,CAAAA,CAAKjqB,CAALiqB,CAAhBC,CADED;AASPC,eAAAA,CAAAA,CAAiB,MAAjBA,GACGrnB,CAAAA,CAAEtC,CAAFsC,CAAAA,GAAUqnB,CADbA,GACaA,OACHrnB,CAAAA,CAAEtC,CAAFsC,CAFVqnB,EAIMtqB,IAJNsqB;AAIMtqB;AAxDTuB,KAAFuoB,EA4DAlqB,CAAAA,CAAOD,OAAPC,GAAiBkqB,CA5DjBA;AA4DiBA,GnBJoC,ECsgH/C,UAAUlqB,CAAV,EAAkBD,CAAlB,EAA2BO,CAA3B,EAA2BA;AmBjjHjC,aAASqe,CAAT,CAA2B1a,CAA3B,EAA2BA;AACzB,UAAA,CAAKA,CAAL,EACE,MAAM,IAAI4E,CAAJ,CAAiB,wEAAjB,CAAN;AAIF,UAAIgL,CAAAA,GAAS5P,CAAAA,CAAK4P,MAAlB;AACA,UAAA,CAAKA,CAAL,EACE,MAAM,IAAIhL,CAAJ,CAAiB,+HAAjB,CAAN;AAKF,UAAA,CADiB,IAAI8hB,MAAJ,CAAW,eAAX,EACDtmB,IADC,CACIJ,CAAAA,CAAK4P,MADT,CACjB,EACE,MAAM,IAAIhL,CAAJ,CAAiB,0HAAjB,CAAN;AAIF,UAAA,CAAmC,CAAnC,KAAIgL,CAAAA,CAAOjN,OAAPiN,CAAe,SAAfA,CAAJ,EACE,MAAM,IAAIhL,CAAJ,CAAiB,wIAAjB,CAAN;AAIF,UAAIiC,CAAAA,GAAY7G,CAAAA,CAAK6G,SAArB;AAGA,UADEA,CAAAA,IAAaA,CAAAA,CAAU8f,QAAvB9f,IAAuB8f,CAA6D,CAA7DA,KAAY9f,CAAAA,CAAU8f,QAAV9f,CAAmBlE,OAAnBkE,CAA2B,eAA3BA,CACrC,EACE,MAAM,IAAIjC,CAAJ,CAAiB,wIAAjB,CAAN;AAKJ;;AAAA,aAAS0a,CAAT,CAA6BtB,CAA7B,EAA6BA;AAC3BA,MAAAA,CAAAA,CAAMhW,eAANgW,GAAwB,YAAA;AAEtB,eAAO7hB,KAAKwJ,OAALxJ,CAAayT,MAAbzT,CAAoBkb,KAApBlb,CAA0B,UAA1BA,EAAsC,CAAtCA,CAAP;AAA6C,OAF/C6hB,EAMAA,CAAAA,CAAM4I,cAAN5I,GAAuB,UAAU7R,CAAV,EAAUA;AAC/B,eAAOhB,CAAAA,CAAGO,iBAAHP,CAAqBhP,IAArBgP,EAA2B,iCAA3BA,EAA8DgB,CAA9DhB,CAAP;AAAqEgB,OAPvE6R,EAWAA,CAAAA,CAAM6I,aAAN7I,GAAsB,UAAU7R,CAAV,EAAUA;AAC9B,eAAOhB,CAAAA,CAAGO,iBAAHP,CAAqBhP,IAArBgP,EAA2B,+BAA3BA,EAA4DgB,CAA5DhB,CAAP;AAAmEgB,OAZrE6R,EAgBAA,CAAAA,CAAM8I,mBAAN9I,GAA4B,UAAU7R,CAAV,EAAUA;AACpC,eAAOhB,CAAAA,CAAGO,iBAAHP,CAAqBhP,IAArBgP,EAA2B,8BAA3BA,EAA2DgB,CAA3DhB,CAAP;AAAkEgB,OAjBpE6R;AAqBF;;AAAA,aAASgC,CAAT,CAAuBvF,CAAvB,EAAuBA;AACrB,aAAO,UAASzU,CAAT,EAAsBkB,CAAtB,EAAsBA;AAC3B,iBAAS6f,CAAT,CAAkB/mB,CAAlB,EAAkBA;AAChB,cAAA,EAAM7D,gBAAgB4qB,CAAtB,CAAA,EACE,OAAO,IAAIA,CAAJ,CAAa/mB,CAAb,CAAP;AAGEA,UAAAA,CAAAA,KACFA,CAAAA,CAAKgG,WAALhG,GAAmBgG,CAAnBhG,EAEIA,CAAAA,CAAKgnB,WAALhnB,IACF3B,CAAAA,CAAKyF,SAALzF,CAAe,2EAAfA,GACA2B,CAAAA,CAAKkH,iBAALlH,GAAyBA,CAAAA,CAAKgnB,WAF5BhnB,IAGQA,CAAAA,CAAKkH,iBAALlH,KACVA,CAAAA,CAAKkH,iBAALlH,GAAyBkH,CADflH,CANVA,CAAAA,EAWJ3B,CAAAA,CAAKqB,IAALrB,CAAUoc,CAAVpc,EAA2BlC,IAA3BkC,EAAiC2B,CAAjC3B,CAXI2B;AAaN+mB;;AAAAA,eAAAA,CAAAA,CAASrpB,SAATqpB,GAAqBtM,CAAAA,CAAgB/c,SAArCqpB,EACAA,CAAAA,CAASrpB,SAATqpB,CAAmBld,WAAnBkd,GAAiCA,CADjCA,EAIAA,CAAAA,CAASnM,QAATmM,GAAoBtM,CAAAA,CAAgB/c,SAAhB+c,CAA0BG,QAJ9CmM,EAMOA,CANPA;AAMOA,OAzBT;AA6BF;;AAAA,aAASxL,CAAT,CAAsBvb,CAAtB,EAA4BinB,CAA5B,EAA4BA;AAC1B,UAAIpgB,CAAAA,GAAY7G,CAAAA,CAAK6G,SAArB;AAEA,aAAKA,CAAAA,GAIDA,CAAAA,CAAU1E,KAAV0E,GACKA,CAAAA,CAAU1E,KADf0E,GAIAA,CAAAA,CAAU8f,QAAV9f,GACKA,CAAAA,CAAU8f,QAAV9f,CAAmBlI,OAAnBkI,CAA2B,eAA3BA,EAAAA,gBAAAA,MAAAA,CAA4DogB,CAA5DpgB,CAAAA,CADLA,GAIG,EAZFA,GACI,EADT;AA7FF;;AAAA,QAAIjC,CAAAA,GAAeU,CAAAA,CAAQ,CAARA,CAAnB;AAAA,QACI6F,CAAAA,GAAK7F,CAAAA,CAAQ,CAARA,CADT;AAAA,QAEIjH,CAAAA,GAAOiH,CAAAA,CAAQ,CAARA,CAFX;AA4GAvJ,IAAAA,CAAAA,CAAOD,OAAPC,GAAOD;AACLwjB,MAAAA,mBAAAA,EAAqBA,CADhBxjB;AAELkkB,MAAAA,aAAAA,EAAeA,CAFVlkB;AAGL4e,MAAAA,iBAAAA,EAAmBA,CAHd5e;AAILyf,MAAAA,YAAAA,EAAcA;AAJTzf,KAAPC;AAIgBwf,GpB/DqC,ECsoH/C,UAAUxf,CAAV,EAAkBD,CAAlB,EAAkBA;AoBvrHxB,aAASyJ,CAAT,CAAsByB,CAAtB,EAA2BlC,CAA3B,EAA2BA;AACzB3I,WAAKW,IAALX,GAAY,cAAZA,EACAA,KAAK4I,OAAL5I,GAAe6K,CAAAA,CAAI/B,YADnB9I,EAEAA,KAAK8I,YAAL9I,GAAoB6K,CAAAA,CAAI/B,YAFxB9I,EAGAA,KAAK6I,SAAL7I,GAAiB6K,CAAAA,CAAIhC,SAHrB7I,EAIAA,KAAK+I,SAAL/I,GAAiB6K,CAAAA,CAAI9B,SAJrB/I,EAKAA,KAAKgJ,OAALhJ,GAAe6K,CAAAA,CAAI7B,OALnBhJ,EAMAA,KAAKiJ,WAALjJ,GAAmB6K,CAAAA,CAAI5B,WANvBjJ,EAQI2I,CAAAA,KACF3I,KAAK2I,GAAL3I,GAAW2I,CADTA,CARJ3I;AAYFoJ;;AAAAA,IAAAA,CAAAA,CAAa7H,SAAb6H,GAAyB,IAAIF,KAAJ,EAAzBE,EAEAxJ,CAAAA,CAAOD,OAAPC,GAAiBwJ,CAFjBA;AAEiBA,GrBkCoC,ECsqH/C,UAAUxJ,CAAV,EAAkBD,CAAlB,EAAkBA;AqBvtHxB,aAAS+O,CAAT,GAASA;AACP1O,WAAKW,IAALX,GAAY,mBAAZA,EACAA,KAAK4I,OAAL5I,GAAe,iCADfA;AAGF0O;;AAAAA,IAAAA,CAAAA,CAAkBnN,SAAlBmN,GAA8B,IAAIxF,KAAJ,EAA9BwF,EAEA9O,CAAAA,CAAOD,OAAPC,GAAiB8O,CAFjBA;AAEiBA,GtB2CoC,EC6rH/C,UAAU9O,CAAV,EAAkBD,CAAlB,EAA2BO,CAA3B,EAA2BA;AsB1uHjC,aAASwf,CAAT,CAAuBnW,CAAvB,EAAuBA;AACrB,aAAOA,CAAAA,CAAI4U,OAAJ5U,CAAYrI,GAAZqI,GACJyB,IADIzB,CACC,UAASuB,CAAT,EAASA;AACb,eAAmB,aAAfA,CAAAA,CAAIa,MAAR;AAAQA,OAFLpC,EAOJkC,KAPIlC,CAOE,YAAA;AACL,eAAA,CAAO,CAAP;AAAO,OARJA,CAAP;AAYF;;AAAA,aAASoW,CAAT,CAAoBpW,CAApB,EAAoBA;AAClB,aAAOkF,CAAAA,CAAKvN,GAALuN,CAASlF,CAATkF,EAAc,qBAAdA,EACNzD,IADMyD,CACD,UAAS0P,CAAT,EAASA;AACb,YAAIrT,CAAAA,GAAM5I,CAAAA,CAAKmE,IAALnE,CAAUic,CAAVjc,EAAmB,QAAnBA,CAAV;AAEA4I,eAAAA,CAAAA,CAAI8U,OAAJ9U,GAAc,YAAA;AACZ,iBAAO2D,CAAAA,CAAK1C,IAAL0C,CAAUlF,CAAVkF,EAAevM,CAAAA,CAAK4E,OAAL5E,CAAaic,CAAbjc,EAAsB,SAAtBA,EAAiC+N,IAAhDxB,CAAP;AAAuDwB,SADzDnF,EAIAA,CAAAA,CAAIigB,IAAJjgB,GAAW,YAAA;AACT,iBAAO2D,CAAAA,CAAKvN,GAALuN,CAASlF,CAATkF,EAAcvM,CAAAA,CAAK4E,OAAL5E,CAAaic,CAAbjc,EAAsB,MAAtBA,EAA8B+N,IAA5CxB,CAAP;AAAmDwB,SALrDnF,EAQOA,CARPA;AAQOA,OAZF2D,EAcNhD,KAdMgD,CAcA,YAAA;AAEL,eAAA;AAAQ9C,UAAAA,MAAAA,EAAQ;AAAhB,SAAA;AAAgB,OAhBX8C,CAAP;AAoBF;;AAAA,aAASgR,CAAT,CAAsBlW,CAAtB,EAAsBA;AACpB,aAAOkF,CAAAA,CAAKnF,WAALmF,CAAiBlF,CAAjBkF,EAAiBlF;AACtBvF,QAAAA,GAAAA,EAAKuF,CAAAA,CAAIsC,eAAJtC,KAAwB,qBADPA;AAEtBE,QAAAA,MAAAA,EAAQ;AAFcF,OAAjBkF,CAAP;AAMF;;AAAA,aAASoR,CAAT,CAAwBtW,CAAxB,EAAwBA;AACtB,aAAOkF,CAAAA,CAAK1C,IAAL0C,CAAUlF,CAAVkF,EAAe,uCAAfA,CAAP;AAGF;;AAAA,aAASqR,CAAT,CAA8BvW,CAA9B,EAAmCyhB,CAAnC,EAAiDC,CAAjD,EAAiDA;AAC/CA,MAAAA,CAAAA,GAAcA,CAAAA,IAAe7jB,MAAAA,CAAOmM,QAAPnM,CAAgB6I,IAA7Cgb,EACA7jB,MAAAA,CAAOmM,QAAPnM,GAAkBmC,CAAAA,CAAIsC,eAAJtC,KAAwB,8BAAxBA,GAChBrH,CAAAA,CAAK4C,aAAL5C,CAAK4C;AACHomB,QAAAA,yBAAAA,EAAAA,CAA2B,CADxBpmB;AAEHsZ,QAAAA,KAAAA,EAAO4M,CAFJlmB;AAGHmmB,QAAAA,WAAAA,EAAaA;AAHVnmB,OAAL5C,CAFF+oB;AAjDF;;AAAA,QAAI/oB,CAAAA,GAAOiH,CAAAA,CAAQ,CAARA,CAAX;AAAA,QACIsF,CAAAA,GAAOtF,CAAAA,CAAQ,CAARA,CADX;AA0DAvJ,IAAAA,CAAAA,CAAOD,OAAPC,GAAOD;AACL+f,MAAAA,aAAAA,EAAeA,CADV/f;AAELggB,MAAAA,UAAAA,EAAYA,CAFPhgB;AAGL8f,MAAAA,YAAAA,EAAcA,CAHT9f;AAILkgB,MAAAA,cAAAA,EAAgBA,CAJXlgB;AAKLmgB,MAAAA,oBAAAA,EAAsBA;AALjBngB,KAAPC;AAKwBkgB,GvBf6B,ECgxH/C,UAAUlgB,CAAV,EAAkBD,CAAlB,EAA2BO,CAA3B,EAA2BA;AuBpzHjC,aAASsgB,CAAT,CAAqBjX,CAArB,EAA0B6U,CAA1B,EAA0BA;AACxB,aAAO9V,OAAAA,CAAQC,OAARD,GACN0C,IADM1C,CACD,YAAA;AACJ,YAAA,CAAK8V,CAAL,IAAKA,CAAUA,CAAAA,CAAMzU,WAArB,EACE,MAAM,IAAIlB,CAAJ,CAAiB,yCAAjB,CAAN;AAEF,YAAI4L,CAAAA,GAAW9K,CAAAA,CAAIC,OAAJD,CAAY8K,QAA3B;AACA,YAAA,CAAKA,CAAL,EACE,MAAM,IAAI5L,CAAJ,CAAiB,4EAAjB,CAAN;AAEF,YAAIuM,CAAAA,GAAYkJ,CAAAA,CAAUvJ,YAAVuJ,CAAuB3U,CAAvB2U,EAA4BlJ,SAA5C;AAAA,YACIrL,CAAAA,GAAcyU,CAAAA,CAAMzU,WADxB;AAAA,YAEI9F,CAAAA,GAAO3B,CAAAA,CAAK4C,aAAL5C,CAAK4C;AAEdwmB,UAAAA,eAAAA,EAAiB,cAFHxmB;AAGdsZ,UAAAA,KAAAA,EAAOzU;AAHO7E,SAAL5C,EAIR0B,KAJQ1B,CAIF,CAJEA,CAFX;AAAA,YAOIqpB,CAAAA,GAAQjpB,IAAAA,CAAK+R,CAAL/R,CAPZ;AAQA,eAAOmM,CAAAA,CAAK1C,IAAL0C,CAAUlF,CAAVkF,EAAeuG,CAAfvG,EAA0B5K,CAA1B4K,EAA0B5K;AAC/B4G,UAAAA,OAAAA,EAAAA;AACE,4BAAgB,mCADlBA;AAEE,YAAA,aAAA,EAAiB,WAAW8gB;AAF9B9gB;AAD+B5G,SAA1B4K,CAAP;AAGgC8c,OApB3BjjB,CAAP;AA0BF;;AAAA,aAASgY,CAAT,CAAqBlC,CAArB,EAAqBA;AACnB,UACIqN,CADJ;AAAA,UAAID,CAAAA,GAAMpN,CAAAA,CAAMlD,KAANkD,CAAY,GAAZA,CAAV;;AAGA,UAAA;AACEqN,QAAAA,CAAAA,GAAAA;AACExT,UAAAA,MAAAA,EAAQ/R,IAAAA,CAAKE,KAALF,CAAWhE,CAAAA,CAAKS,iBAALT,CAAuBspB,CAAAA,CAAI,CAAJA,CAAvBtpB,CAAXgE,CADVulB;AAEEC,UAAAA,OAAAA,EAASxlB,IAAAA,CAAKE,KAALF,CAAWhE,CAAAA,CAAKS,iBAALT,CAAuBspB,CAAAA,CAAI,CAAJA,CAAvBtpB,CAAXgE,CAFXulB;AAGEE,UAAAA,SAAAA,EAAWH,CAAAA,CAAI,CAAJA;AAHbC,SAAAA;AAKA,OANF,CAME,OAAMxoB,CAAN,EAAMA;AACN,cAAM,IAAIwF,CAAJ,CAAiB,iBAAjB,CAAN;AAGF;;AAAA,aAAOgjB,CAAP;AAIF;;AAAA,aAAS5K,CAAT,CAAqBtX,CAArB,EAA0B6U,CAA1B,EAAiCjK,CAAjC,EAAiCA;AAC/B,aAAO7L,OAAAA,CAAQC,OAARD,GACN0C,IADM1C,CACD,YAAA;AACJ,YAAA,CAAK8V,CAAL,IAAKA,CAAUA,CAAAA,CAAMpM,OAArB,EACE,MAAM,IAAIvJ,CAAJ,CAAiB,+BAAjB,CAAN;AAGF,YAAI+iB,CAAAA,GAAMlL,CAAAA,CAAYlC,CAAAA,CAAMpM,OAAlBsO,CAAV;AAAA,YAEIsL,CAAAA,GAAAA;AACFvX,UAAAA,QAAAA,EAAU9K,CAAAA,CAAIC,OAAJD,CAAY8K,QADpBuX;AAEFnY,UAAAA,MAAAA,EAAQlK,CAAAA,CAAIC,OAAJD,CAAYkK,MAFlBmY;AAGFrM,UAAAA,eAAAA,EAAiBhW,CAAAA,CAAIC,OAAJD,CAAYgW;AAH3BqM,SAFJ;AAQA1pB,eAAAA,CAAAA,CAAKwD,MAALxD,CAAY0pB,CAAZ1pB,EAA+BiS,CAA/BjS,GAGAgc,CAAAA,CAAUjK,cAAViK,CAAyB3U,CAAzB2U,EAA8BsN,CAAAA,CAAIE,OAAlCxN,EAA2C0N,CAA3C1N,CAHAhc,EAOyC,KAArC0pB,CAAAA,CAAkBrM,eAAmB,IAAShW,CAAAA,CAAIkV,QAAJlV,CAAa0Y,sBAAb1Y,EAAT,GAIlC2U,CAAAA,CAAUvK,MAAVuK,CAAiB3U,CAAjB2U,EAAsBE,CAAAA,CAAM3K,MAA5ByK,EAAoCsN,CAAAA,CAAIvT,MAAJuT,CAAW5X,GAA/CsK,EACNlT,IADMkT,CACD,UAASnZ,CAAT,EAASA;AACb,iBAAOomB,CAAAA,CAAUtK,WAAVsK,CAAsB/M,CAAAA,CAAMpM,OAA5BmZ,EAAqCpmB,CAArComB,CAAP;AAA4CpmB,SAFvCmZ,EAINlT,IAJMkT,CAID,UAAS2N,CAAT,EAASA;AACb,cAAA,CAAKA,CAAL,EACE,MAAM,IAAIpjB,CAAJ,CAAiB,kCAAjB,CAAN;AAEF,cAAI0L,CAAAA,CAAiBxK,WAAjBwK,IAAgCiK,CAAAA,CAAMlK,MAANkK,CAAa0N,OAAjD,EACE,OAAOX,CAAAA,CAAUY,WAAVZ,CAAsBhX,CAAAA,CAAiBxK,WAAvCwhB,EACJngB,IADImgB,CACC,UAAA,CAAA,EAAA;AACJ,gBAAIa,CAAAA,KAAS5N,CAAAA,CAAMlK,MAANkK,CAAa0N,OAA1B,EACE,MAAM,IAAIrjB,CAAJ,CAAiB,gCAAjB,CAAN;AAAuB,WAHtB0iB,CAAP;AAG6B,SAZ1BjN,EAiBNlT,IAjBMkT,CAiBD,YAAA;AACJ,iBAAOE,CAAP;AAAOA,SAlBFF,CAJkC,GAChCE,CARTlc;AAQSkc,OAtBJ9V,CAAP;AAgDF;;AAAA,aAAS2jB,CAAT,CAAgC1iB,CAAhC,EAAqC8Z,CAArC,EAA8CL,CAA9C,EAA8CA;AAC5C,UAAIkJ,CAAJ,EACIC,CADJ;AAE2B,aAAA,IAAI7jB,OAAJ,CAAY,UAASC,CAAT,EAAkB2F,CAAlB,EAAkBA;AAEvDge,QAAAA,CAAAA,GAAkB,UAAyBjpB,CAAzB,EAAyBA;AACzC,cAAKA,CAAAA,CAAE2H,IAAF3H,IAAUA,CAAAA,CAAE2H,IAAF3H,CAAO+f,KAAP/f,KAAiB+f,CAAhC,EASA,OAAI/f,CAAAA,CAAE4f,MAAF5f,KAAasG,CAAAA,CAAIsC,eAAJtC,EAAbtG,GACKiL,CAAAA,CAAO,IAAIzF,CAAJ,CAAiB,iDAAjB,CAAPyF,CADLjL,GAC6B,KAGjCsF,CAAAA,CAAQtF,CAAAA,CAAE2H,IAAVrC,CAJA;AAIUqC,SAdZshB,EAiBAhO,CAAAA,CAAUhM,WAAVgM,CAAsB9W,MAAtB8W,EAA8B,SAA9BA,EAAyCgO,CAAzChO,CAjBAgO,EAmBAC,CAAAA,GAAY3jB,UAAAA,CAAW,YAAA;AACrB0F,UAAAA,CAAAA,CAAO,IAAIzF,CAAJ,CAAiB,sBAAjB,CAAPyF,CAAAA;AAAwB,SADd1F,EAET6a,CAAAA,IAAW,IAFF7a,CAnBZ0jB;AAqBc,OAvBW,EA2BxB1I,OA3BwB,CA2BhB,YAAA;AACPC,QAAAA,YAAAA,CAAa0I,CAAb1I,CAAAA,EACAvF,CAAAA,CAAU5L,cAAV4L,CAAyB9W,MAAzB8W,EAAiC,SAAjCA,EAA4CgO,CAA5ChO,CADAuF;AAC4CyI,OA7BrB,CAAA;AAiC7B;;AAAA,aAASE,CAAT,CAA6B7iB,CAA7B,EAAkC8iB,CAAlC,EAA4ChJ,CAA5C,EAA4CA;AAC1C,UAAI8I,CAAJ;AACc,aAAA,IAAI7jB,OAAJ,CAAY,UAASC,CAAT,EAAkB2F,CAAlB,EAAkBA;AAC1C,iBAASoe,CAAT,GAASA;AAQP,cAAA;AACMD,YAAAA,CAAAA,IACAA,CAAAA,CAAS9Y,QADT8Y,IAEAA,CAAAA,CAAS9Y,QAAT8Y,CAAkBL,IAFlBK,GAGF9jB,CAAAA,CAAQ2V,CAAAA,CAAUqO,YAAVrO,CAAuBmO,CAAAA,CAAS9Y,QAAT8Y,CAAkBL,IAAzC9N,CAAR3V,CAHE8jB,GAIOA,CAAAA,IAAAA,CAAaA,CAAAA,CAASG,MAAtBH,IACT7jB,UAAAA,CAAW8jB,CAAX9jB,EAA8B,GAA9BA,CALE6jB;AAOJ,WARF,CAQE,OAAOxhB,CAAP,EAAOA;AACPrC,YAAAA,UAAAA,CAAW8jB,CAAX9jB,EAA8B,GAA9BA,CAAAA;AAA8B;AAIlC8jB;;AAAAA,QAAAA,CAAAA,IAEAH,CAAAA,GAAY3jB,UAAAA,CAAW,YAAA;AACrB0F,UAAAA,CAAAA,CAAO,IAAIzF,CAAJ,CAAiB,sBAAjB,CAAPyF,CAAAA;AAAwB,SADd1F,EAET6a,CAAAA,IAAW,IAFF7a,CAFZ8jB;AAIc,OA1BF,EA6BC9I,OA7BD,CA6BS,YAAA;AACrBC,QAAAA,YAAAA,CAAa0I,CAAb1I,CAAAA;AAAa0I,OA9BD,CAAA;AAkChB;;AAAA,aAASM,CAAT,CAA8BljB,CAA9B,EAAmCmjB,CAAnC,EAAgDC,CAAhD,EAAmEC,CAAnE,EAAmEA;AAGjE,UAAIC,CAAAA,GAAOxB,CAAAA,CAAKyB,QAALzB,CAAc9hB,CAAd8hB,CAAX;AAAA,UACI0B,CAAAA,GAAAA;AACF1Y,QAAAA,QAAAA,EAAUqY,CAAAA,CAAYrY,QADpB0Y;AAEFJ,QAAAA,iBAAAA,EAAmBA,CAFjBI;AAGFC,QAAAA,YAAAA,EAAcH,CAAAA,CAAKG,YAHjBD;AAIFlO,QAAAA,WAAAA,EAAagO,CAAAA,CAAKhO;AAJhBkO,OADJ;AAOA,aAAO1B,CAAAA,CAAK4B,QAAL5B,CAAc9hB,CAAd8hB,EAAmB0B,CAAnB1B,EAAmCuB,CAAnCvB,EACNrgB,IADMqgB,CACD,UAASvgB,CAAT,EAASA;AACboiB,eAAAA,CAAAA,CAAiBpiB,CAAjBoiB,EAAsBH,CAAtBG,CAAAA,EACOpiB,CADPoiB;AACOpiB,OAHFugB,EAKN7H,OALM6H,CAKE,YAAA;AACPA,QAAAA,CAAAA,CAAK8B,SAAL9B,CAAe9hB,CAAf8hB;AAAe9hB,OANV8hB,CAAP;AAUF;;AAAA,aAAS6B,CAAT,CAA0BpiB,CAA1B,EAA+B4hB,CAA/B,EAA+BA;AAC7B,UAAI5hB,CAAAA,CAAG,KAAHA,IAAgBA,CAAAA,CAAG,iBAAvB,EACE,MAAM,IAAIsgB,CAAJ,CAAetgB,CAAAA,CAAG,KAAlB,EAA6BA,CAAAA,CAAG,iBAAhC,CAAN;AAGF,UAAIA,CAAAA,CAAIkY,KAAJlY,KAAc4hB,CAAAA,CAAY1J,KAA9B,EACE,MAAM,IAAIva,CAAJ,CAAiB,uDAAjB,CAAN;AAIJ;;AAAA,aAAS2kB,CAAT,CAA6B7jB,CAA7B,EAAkCmjB,CAAlC,EAA+C5hB,CAA/C,EAAoD8hB,CAApD,EAAoDA;AAClDA,MAAAA,CAAAA,GAAOA,CAAAA,IAAAA,EAAPA;AAEA,UAAI1W,CAAAA,GAAewW,CAAAA,CAAYxW,YAA/B;AACKvS,MAAAA,KAAAA,CAAM+M,OAAN/M,CAAcuS,CAAdvS,MACHuS,CAAAA,GAAAA,CAAgBA,CAAhBA,CADGvS;AAIL,UAAIsO,CAAAA,GAAS/P,CAAAA,CAAK+D,KAAL/D,CAAWwqB,CAAAA,CAAYza,MAAvB/P,CAAb;AAAA,UACImS,CAAAA,GAAWqY,CAAAA,CAAYrY,QAAZqY,IAAwBnjB,CAAAA,CAAIC,OAAJD,CAAY8K,QADnD;AAAA,UAEIuK,CAAAA,GAAAA,CAA4B,CAA5BA,KAAOrV,CAAAA,CAAIC,OAAJD,CAAYqV,IAFvB;AAIA,aAAOtW,OAAAA,CAAQC,OAARD,GACN0C,IADM1C,CACD,YAAA;AACJ4kB,eAAAA,CAAAA,CAAiBpiB,CAAjBoiB,EAAsBR,CAAtBQ,CAAAA,EAKIpiB,CAAAA,CAAIuiB,IAAJviB,IAAY8T,CAAZ9T,IACFoL,CAAAA,GAAAA,CAAgB,OAAhBA,EAAyB,UAAzBA,CAAAA,EACOuW,CAAAA,CAAqBljB,CAArBkjB,EAA0BC,CAA1BD,EAAuC3hB,CAAAA,CAAIuiB,IAA3CZ,EAAiDG,CAAjDH,CAFL3hB,IAIGA,CATPoiB;AASOpiB,OAXFxC,EAYJ0C,IAZI1C,CAYC,UAASwC,CAAT,EAASA;AACf,YAAIwiB,CAAAA,GAAAA,EAAJ;AAAA,YACIC,CAAAA,GAAYziB,CAAAA,CAAI0iB,UADpB;AAAA,YAEIC,CAAAA,GAAY3iB,CAAAA,CAAI4iB,UAFpB;AAAA,YAGI/jB,CAAAA,GAAcmB,CAAAA,CAAI6iB,YAHtB;AAAA,YAII3b,CAAAA,GAAUlH,CAAAA,CAAI8iB,QAJlB;;AAkBA,YAZIjkB,CAAAA,KACF2jB,CAAAA,CAAU3jB,WAAV2jB,GAAU3jB;AACR3D,UAAAA,KAAAA,EAAO2D,CADCA;AAERA,UAAAA,WAAAA,EAAaA,CAFLA;AAGRY,UAAAA,SAAAA,EAAWsjB,MAAAA,CAAON,CAAPM,CAAAA,GAAoBroB,IAAAA,CAAKC,KAALD,CAAWb,IAAAA,CAAK2F,GAAL3F,KAAW,GAAtBa,CAHvBmE;AAIR8jB,UAAAA,SAAAA,EAAWA,CAJH9jB;AAKRsI,UAAAA,MAAAA,EAAQA,CALAtI;AAMRiL,UAAAA,YAAAA,EAAcgY,CAAAA,CAAKhY,YANXjL;AAORkL,UAAAA,WAAAA,EAAa+X,CAAAA,CAAK/X;AAPVlL,SADRA,CAAAA,EAYAqI,CAAJ,EAAa;AACX,cAAIwZ,CAAAA,GAAMjiB,CAAAA,CAAI6U,KAAJ7U,CAAU+Q,MAAV/Q,CAAiByI,CAAjBzI,CAAV;AAAA,cAEIukB,CAAAA,GAAAA;AACF9nB,YAAAA,KAAAA,EAAOgM,CADL8b;AAEF9b,YAAAA,OAAAA,EAASA,CAFP8b;AAGF5Z,YAAAA,MAAAA,EAAQsX,CAAAA,CAAIE,OAHVoC;AAIFvjB,YAAAA,SAAAA,EAAWihB,CAAAA,CAAIE,OAAJF,CAAY/W,GAJrBqZ;AAKF7b,YAAAA,MAAAA,EAAQA,CALN6b;AAMFlZ,YAAAA,YAAAA,EAAcgY,CAAAA,CAAKhY,YANjBkZ;AAOFra,YAAAA,MAAAA,EAAQmZ,CAAAA,CAAKnZ,MAPXqa;AAQFzZ,YAAAA,QAAAA,EAAUA;AARRyZ,WAFJ;AAAA,cAaI3Z,CAAAA,GAAAA;AACFE,YAAAA,QAAAA,EAAUA,CADRF;AAEFV,YAAAA,MAAAA,EAAQmZ,CAAAA,CAAKnZ,MAFXU;AAGFI,YAAAA,KAAAA,EAAOmY,CAAAA,CAAYnY,KAHjBJ;AAIFxK,YAAAA,WAAAA,EAAaA;AAJXwK,WAbJ;AAwBA,iBAJoCnP,KAAAA,CAAAA,KAAhC0nB,CAAAA,CAAYnN,eAAoBva,KAClCmP,CAAAA,CAAiBoL,eAAjBpL,GAAmCuY,CAAAA,CAAYnN,eADbva,GAI7B6b,CAAAA,CAAYtX,CAAZsX,EAAiBiN,CAAjBjN,EAA6B1M,CAA7B0M,CAAAA,CACN7V,IADM6V,CACD,YAAA;AACJyM,mBAAAA,CAAAA,CAAUtb,OAAVsb,GAAoBQ,CAApBR,EACOA,CADPA;AACOA,WAHFzM,CAAP;AAOF;;AAAA,eAAOyM,CAAP;AAAOA,OA/DFhlB,EAiEN0C,IAjEM1C,CAiED,UAASglB,CAAT,EAASA;AAEb,YAAA,CAAuC,CAAvC,KAAIpX,CAAAA,CAAa1P,OAAb0P,CAAqB,OAArBA,CAAJ,IAAyB,CAAoBoX,CAAAA,CAAU3jB,WAAvD,EAEE,MAAM,IAAIlB,CAAJ,CAAiB,+GAAjB,CAAN;AAEF,YAAA,CAA0C,CAA1C,KAAIyN,CAAAA,CAAa1P,OAAb0P,CAAqB,UAArBA,CAAJ,IAAyB,CAAuBoX,CAAAA,CAAUtb,OAA1D,EAEE,MAAM,IAAIvJ,CAAJ,CAAiB,8GAAjB,CAAN;AAGF,eAAA;AACEslB,UAAAA,MAAAA,EAAQT,CADV;AAEEtK,UAAAA,KAAAA,EAAOlY,CAAAA,CAAIkY,KAFb;AAGEqK,UAAAA,IAAAA,EAAMviB,CAAAA,CAAIuiB;AAHZ,SAAA;AAGYA,OA/EP/kB,CAAP;AAoFF;;AAAA,aAAS0lB,CAAT,CAA+BzkB,CAA/B,EAA+BA;AAC7B,aAAA;AACEqV,QAAAA,IAAAA,EAAMrV,CAAAA,CAAIC,OAAJD,CAAYqV,IADpB;AAEEvK,QAAAA,QAAAA,EAAU9K,CAAAA,CAAIC,OAAJD,CAAY8K,QAFxB;AAGEwK,QAAAA,WAAAA,EAAatV,CAAAA,CAAIC,OAAJD,CAAYsV,WAAZtV,IAA2BnC,MAAAA,CAAOmM,QAAPnM,CAAgB6I,IAH1D;AAIEiG,QAAAA,YAAAA,EAAAA,CAAe,OAAfA,EAAwB,UAAxBA,CAJF;AAKE6I,QAAAA,YAAAA,EAAcxV,CAAAA,CAAIC,OAAJD,CAAYwV,YAL5B;AAMEiE,QAAAA,KAAAA,EAAO9E,CAAAA,CAAUrM,aAAVqM,EANT;AAOE3J,QAAAA,KAAAA,EAAO2J,CAAAA,CAAUpM,aAAVoM,EAPT;AAQEjM,QAAAA,MAAAA,EAAAA,CAAS,QAATA,EAAmB,OAAnBA,CARF;AASEsN,QAAAA,eAAAA,EAAiBhW,CAAAA,CAAIC,OAAJD,CAAYgW;AAT/B,OAAA;AAaF;;AAAA,aAAS0O,CAAT,CAAyCvB,CAAzC,EAAyCA;AAEvC,UAAA,CAAKA,CAAAA,CAAYrY,QAAjB,EACE,MAAM,IAAI5L,CAAJ,CAAiB,yEAAjB,CAAN;AAGF,UAAIvG,CAAAA,CAAKgC,QAALhC,CAAcwqB,CAAAA,CAAYxW,YAA1BhU,KAA0BgU,CAA4D,CAA5DA,KAAiBwW,CAAAA,CAAYxW,YAAZwW,CAAyBlmB,OAAzBkmB,CAAiC,GAAjCA,CAA/C,EACE,MAAM,IAAIjkB,CAAJ,CAAiB,0DAAjB,CAAN;AAIF,UAAIylB,CAAAA,GAAmBhsB,CAAAA,CAAK4D,UAAL5D,CAAK4D;AAC1B,QAAA,SAAA,EAAa4mB,CAAAA,CAAYrY,QADCvO;AAE1B,QAAA,cAAA,EAAkB4mB,CAAAA,CAAYyB,aAFJroB;AAG1B,QAAA,qBAAA,EAAyB4mB,CAAAA,CAAY0B,mBAHXtoB;AAI1B,QAAA,OAAA,EAAW4mB,CAAAA,CAAY5Z,OAJGhN;AAK1B,QAAA,GAAA,EAAO4mB,CAAAA,CAAY2B,GALOvoB;AAM1B,QAAA,SAAA,EAAa4mB,CAAAA,CAAY4B,QANCxoB;AAO1B,QAAA,UAAA,EAAc4mB,CAAAA,CAAY6B,SAPAzoB;AAQ1B,QAAA,OAAA,EAAW4mB,CAAAA,CAAY8B,MARG1oB;AAS1B,QAAA,KAAA,EAAS4mB,CAAAA,CAAYnY,KATKzO;AAU1B,QAAA,MAAA,EAAU4mB,CAAAA,CAAY+B,MAVI3oB;AAW1B,QAAA,YAAA,EAAgB4mB,CAAAA,CAAY7N,WAXF/Y;AAY1B,QAAA,aAAA,EAAiB4mB,CAAAA,CAAY3N,YAZHjZ;AAa1B,QAAA,aAAA,EAAiB4mB,CAAAA,CAAYxW,YAbHpQ;AAc1B,QAAA,YAAA,EAAgB4mB,CAAAA,CAAY1B,YAdFllB;AAe1B,QAAA,KAAA,EAAS4mB,CAAAA,CAAY1J;AAfKld,OAAL5D,CAAvB;AAwBA,UAAA,CANC,WAMD,EANc,eAMd,EAN+B0D,OAM/B,CANwC,UAAU8oB,CAAV,EAAUA;AAC5C/qB,QAAAA,KAAAA,CAAM+M,OAAN/M,CAAcuqB,CAAAA,CAAiBQ,CAAjBR,CAAdvqB,MACFuqB,CAAAA,CAAiBQ,CAAjBR,CAAAA,GAA+BA,CAAAA,CAAiBQ,CAAjBR,CAAAA,CAA6B/oB,IAA7B+oB,CAAkC,GAAlCA,CAD7BvqB;AAC+D,OAIrE,GAJqE,CAIf,CAJe,KAIjE+oB,CAAAA,CAAYxW,YAAZwW,CAAyBlmB,OAAzBkmB,CAAiC,UAAjCA,CAJiE,IAIhC,CACS,CADT,KACjCA,CAAAA,CAAYza,MAAZya,CAAmBlmB,OAAnBkmB,CAA2B,QAA3BA,CADJ,EAEE,MAAM,IAAIjkB,CAAJ,CAAiB,mFAAjB,CAAN;AAEAylB,aAAAA,CAAAA,CAAiBS,KAAjBT,GAAyBxB,CAAAA,CAAYza,MAAZya,CAAmBvnB,IAAnBunB,CAAwB,GAAxBA,CAAzBwB,EAGKA,CAHLA;AAMJ;;AAAA,aAASU,CAAT,CAA8BlC,CAA9B,EAA8BA;AAC5B,UAAIwB,CAAAA,GAAmBD,CAAAA,CAAgCvB,CAAhCuB,CAAvB;AACA,aAAO/rB,CAAAA,CAAK4C,aAAL5C,CAAmBgsB,CAAnBhsB,CAAP;AAqDF;;AAAA,aAAS+qB,CAAT,CAAkB1jB,CAAlB,EAAuBC,CAAvB,EAAuBA;AACrB,aAAIxH,SAAAA,CAAUY,MAAVZ,GAAmB,CAAnBA,GACKsG,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIG,CAAJ,CAAiB,kEAAjB,CAAfH,CADLtG,IAGJwH,CAAAA,GAAUA,CAAAA,IAAAA,EAAVA,EAEOqlB,CAAAA,CAAmBtlB,CAAnBslB,EAAwBrlB,CAAxBqlB,CAAAA,CACN7jB,IADM6jB,CACD,UAASnC,CAAT,EAASA;AAuCb,iBAASwC,CAAT,CAAmBlrB,CAAnB,EAAmBA;AAGjB,iBADkB,2CACC0R,IADD,CACM1R,CADN,EACW,CADX,CAClB;AAvCF;;AAAA,YAAI8qB,CAAAA,GAAAA;AACFL,UAAAA,MAAAA,EAAQ,MADNK;AAEF/P,UAAAA,YAAAA,EAAc,mBAFZ+P;AAGFhc,UAAAA,OAAAA,EAAS;AAHPgc,SAAJ;AAAA,YAMIC,CAAAA,GAAAA;AACFjc,UAAAA,OAAAA,EAAS;AADPic,SANJ;AAUIvlB,QAAAA,CAAAA,CAAQwhB,YAARxhB,GACFtH,CAAAA,CAAKwD,MAALxD,CAAYwqB,CAAZxqB,EAAyB4sB,CAAzB5sB,CADEsH,GAEOA,CAAAA,CAAQ6kB,GAAR7kB,IACTtH,CAAAA,CAAKwD,MAALxD,CAAYwqB,CAAZxqB,EAAyB6sB,CAAzB7sB,CAHEsH;AAOJ,YAAIwlB,CAAJ,EACIC,CADJ,EAEIrC,CAFJ;AAKAA,QAAAA,CAAAA,GAAO1O,CAAAA,CAAUvJ,YAAVuJ,CAAuB3U,CAAvB2U,EAA4BwO,CAA5BxO,CAAP0O,EACAqC,CAAAA,GAAWzlB,CAAAA,CAAQwjB,YAARxjB,GAAuBojB,CAAAA,CAAK9X,QAA5BtL,GAAuCojB,CAAAA,CAAKhY,YADvDgY,EAEAoC,CAAAA,GAAaC,CAAAA,GAAWL,CAAAA,CAAqBlC,CAArBkC,CAFxBhC;;AAqBA,gBAfIF,CAAAA,CAAY1B,YAAZ0B,IAAoD,SAAxBA,CAAAA,CAAY5Z,OAAxC4Z,GACS,QADTA,GAE+B,YAAxBA,CAAAA,CAAY5Z,OAAY,GACtB,OADsB,GAGtB,UAUb;AACE,eAAK,QAAL;AACE,gBAAIqc,CAAAA,GAAgBlD,CAAAA,CAAuB1iB,CAAvB0iB,EAA4BziB,CAAAA,CAAQ6Z,OAApC4I,EAA6CS,CAAAA,CAAY1J,KAAzDiJ,CAApB;AAAA,gBACImD,CAAAA,GAAWlR,CAAAA,CAAUzL,SAAVyL,CAAoB8Q,CAApB9Q,CADf;AAEA,mBAAOiR,CAAAA,CACJnkB,IADImkB,CACC,UAASrkB,CAAT,EAASA;AACb,qBAAOsiB,CAAAA,CAAoB7jB,CAApB6jB,EAAyBV,CAAzBU,EAAsCtiB,CAAtCsiB,EAA2CR,CAA3CQ,CAAP;AAAkDR,aAF/CuC,EAIJ3L,OAJI2L,CAII,YAAA;AACHlnB,cAAAA,QAAAA,CAAS8K,IAAT9K,CAAcyb,QAAdzb,CAAuBmnB,CAAvBnnB,KACFmnB,CAAAA,CAASzL,aAATyL,CAAuBxL,WAAvBwL,CAAmCA,CAAnCA,CADEnnB;AACiCmnB,aANlCD,CAAP;;AAUF,eAAK,OAAL;AACE,gBAAIE,CAAJ;;AAIA,gBAAiC,wBAA7B3C,CAAAA,CAAY3N,YAAhB,EAAsD;AACpD,kBAAA,CAAKxV,CAAAA,CAAIkV,QAAJlV,CAAauY,2BAAbvY,EAAL,EACE,MAAM,IAAId,CAAJ,CAAiB,oDAAjB,CAAN;AAEF4mB,cAAAA,CAAAA,GAAepD,CAAAA,CAAuB1iB,CAAvB0iB,EAA4BziB,CAAAA,CAAQ6Z,OAApC4I,EAA6CS,CAAAA,CAAY1J,KAAzDiJ,CAAfoD;AAIF;;AAAA,gBAAIC,CAAAA,GAAAA;AACFnc,cAAAA,UAAAA,EAAY3J,CAAAA,CAAQ2J;AADlBmc,aAAJ;AAAA,gBAGIjD,CAAAA,GAAWnO,CAAAA,CAAUjL,SAAViL,CAAoB8Q,CAApB9Q,EAAgCoR,CAAhCpR,CAHf;;AAMA,gBAAiC,eAA7BwO,CAAAA,CAAY3N,YAAhB,EAA6C;AAC3C,kBAAIwQ,CAAAA,GAAeL,CAAAA,CAAU3lB,CAAAA,CAAIyI,OAAJzI,CAAYyW,SAAZzW,CAAsB0W,gBAAtB1W,EAAV2lB,CAAnB;AAAA,kBACIM,CAAAA,GAAoBN,CAAAA,CAAUxC,CAAAA,CAAY7N,WAAtBqQ,CADxB;AAEA,kBAAIK,CAAAA,KAAiBC,CAArB,EACE,MAAM,IAAI/mB,CAAJ,CAAiB,6CAA6C+mB,CAA7C,GACrB,wCADqB,GACsBD,CADtB,GACqC,GADtD,CAAN;AAGFF,cAAAA,CAAAA,GAAejD,CAAAA,CAAoB7iB,CAApB6iB,EAAyBC,CAAzBD,EAAmC5iB,CAAAA,CAAQ6Z,OAA3C+I,CAAfiD;AAIiB;;AAAA,mBAAA,IAAI/mB,OAAJ,CAAY,UAASC,CAAT,EAAkB2F,CAAlB,EAAkBA;AAC/C,kBAAIuhB,CAAAA,GAAcC,WAAAA,CAAY,YAAA;AACvBrD,gBAAAA,CAAAA,IAAAA,CAAYA,CAAAA,CAASG,MAArBH,KACHsD,aAAAA,CAAcF,CAAdE,CAAAA,EACAzhB,CAAAA,CAAO,IAAIzF,CAAJ,CAAiB,qCAAjB,CAAPyF,CAFGme;AAEqB,eAHVqD,EAKf,GALeA,CAAlB;AAQAL,cAAAA,CAAAA,CACCrkB,IADDqkB,CACM,UAASvkB,CAAT,EAASA;AACb6kB,gBAAAA,aAAAA,CAAcF,CAAdE,CAAAA,EACApnB,CAAAA,CAAQuC,CAARvC,CADAonB;AACQ7kB,eAHVukB,EAKC5jB,KALD4jB,CAKO,UAASxkB,CAAT,EAASA;AACd8kB,gBAAAA,aAAAA,CAAcF,CAAdE,CAAAA,EACAzhB,CAAAA,CAAOrD,CAAPqD,CADAyhB;AACO9kB,eAPTwkB;AAOSxkB,aAhBQ,EAqBhBG,IArBgB,CAqBX,UAASF,CAAT,EAASA;AACb,qBAAOsiB,CAAAA,CAAoB7jB,CAApB6jB,EAAyBV,CAAzBU,EAAsCtiB,CAAtCsiB,EAA2CR,CAA3CQ,CAAP;AAAkDR,aAtBnC,EAwBhBpJ,OAxBgB,CAwBR,YAAA;AACH6I,cAAAA,CAAAA,IAAAA,CAAaA,CAAAA,CAASG,MAAtBH,IACFA,CAAAA,CAAS7M,KAAT6M,EADEA;AACO7M,aA1BI,CAAA;;AA8BrB;AACE,kBAAM,IAAI/W,CAAJ,CAAiB,8CAAjB,CAAN;AA3EJ;AA2E2B,OA1HtBomB,CALH7sB,CAAJ;AAoIF;;AAAA,aAASke,CAAT,CAA0B3W,CAA1B,EAA+BC,CAA/B,EAA+BA;AAC7B,aAAIxH,SAAAA,CAAUY,MAAVZ,GAAmB,CAAnBA,GACKsG,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIG,CAAJ,CAAiB,0EAAjB,CAAfH,CADLtG,IAGJwH,CAAAA,GAAUtH,CAAAA,CAAK+D,KAAL/D,CAAWsH,CAAXtH,KAAWsH,EAArBA,EACAtH,CAAAA,CAAKwD,MAALxD,CAAYsH,CAAZtH,EAAYsH;AACVilB,QAAAA,MAAAA,EAAQ,MADEjlB;AAEVuV,QAAAA,YAAAA,EAAc,mBAFJvV;AAGVsJ,QAAAA,OAAAA,EAAS;AAHCtJ,OAAZtH,CADAsH,EAMOyjB,CAAAA,CAAS1jB,CAAT0jB,EAAczjB,CAAdyjB,CATHjrB,CAAJ;AAYF;;AAAA,aAASme,CAAT,CAAsB5W,CAAtB,EAA2BC,CAA3B,EAA2BA;AACzB,aAAIxH,SAAAA,CAAUY,MAAVZ,GAAmB,CAAnBA,GACKsG,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIG,CAAJ,CAAiB,sEAAjB,CAAfH,CADLtG,IAGJwH,CAAAA,GAAUtH,CAAAA,CAAK+D,KAAL/D,CAAWsH,CAAXtH,KAAWsH,EAArBA,EACAtH,CAAAA,CAAKwD,MAALxD,CAAYsH,CAAZtH,EAAYsH;AACVsJ,QAAAA,OAAAA,EAAS,OADCtJ;AAEVuV,QAAAA,YAAAA,EAAc;AAFJvV,OAAZtH,CADAsH,EAKOyjB,CAAAA,CAAS1jB,CAAT0jB,EAAczjB,CAAdyjB,CARHjrB,CAAJ;AAWF;;AAAA,aAAS6sB,CAAT,CAA4BtlB,CAA5B,EAAiCC,CAAjC,EAAiCA;AAE/BA,MAAAA,CAAAA,GAAUtH,CAAAA,CAAK+D,KAAL/D,CAAWsH,CAAXtH,KAAWsH,EAArBA;AAGA,UAAIkjB,CAAAA,GAAcsB,CAAAA,CAAsBzkB,CAAtBykB,CAAlB;AACA9rB,aAAAA,CAAAA,CAAKwD,MAALxD,CAAYwqB,CAAZxqB,EAAyBsH,CAAzBtH,GAAyBsH,CAEA,CAFAA,KAErBkjB,CAAAA,CAAY9N,IAFSpV,GAGhBlB,OAAAA,CAAQC,OAARD,CAAgBokB,CAAhBpkB,CAHgBkB,GAOpBD,CAAAA,CAAIkV,QAAJlV,CAAa0V,eAAb1V,MAKAmjB,CAAAA,CAAY0B,mBAAZ1B,KACHA,CAAAA,CAAY0B,mBAAZ1B,GAAkCrB,CAAAA,CAAKuE,6BADpClD,GAKLA,CAAAA,CAAYxW,YAAZwW,GAA2B,MALtBA,EAOExO,CAAAA,CAAU1K,YAAV0K,CAAuB3U,CAAvB2U,EAA4B,IAA5BA,EACJlT,IADIkT,CACC,UAASpT,CAAT,EAASA;AAEb,YAAA,CAA0D,CAA1D,KAA0D,CAD5CA,CAAAA,CAAG,gCAAHA,IAAG,EACyC,EAA9CtE,OAA8C,CAAtCkmB,CAAAA,CAAY0B,mBAA0B,CAA1D,EACE,MAAM,IAAI3lB,CAAJ,CAAiB,+BAAjB,CAAN;AAAuB,OAJtByV,EAOJlT,IAPIkT,CAOC,YAAA;AAEJ,YAAI8O,CAAAA,GAAe3B,CAAAA,CAAKwE,gBAALxE,CAAsBqB,CAAAA,CAAYM,YAAlC3B,CAAnB;AAAA,YAGIwB,CAAAA,GAAAA;AACFG,UAAAA,YAAAA,EAAcA,CADZH;AAEFhO,UAAAA,WAAAA,EAAa6N,CAAAA,CAAY7N;AAFvBgO,SAHJ;AAOAxB,eAAAA,CAAAA,CAAKyE,QAALzE,CAAc9hB,CAAd8hB,EAAmBwB,CAAnBxB,GAEOA,CAAAA,CAAK0E,gBAAL1E,CAAsB2B,CAAtB3B,CAFPA;AAE6B2B,OAlB1B9O,EAoBJlT,IApBIkT,CAoBC,UAASiQ,CAAT,EAASA;AAGb,YAAI6B,CAAAA,GAAe9tB,CAAAA,CAAK+D,KAAL/D,CAAWwqB,CAAXxqB,KAAWwqB,EAA9B;AACAxqB,eAAAA,CAAAA,CAAKwD,MAALxD,CAAY8tB,CAAZ9tB,EAA0BwqB,CAA1BxqB,EAA0BwqB;AACxByB,UAAAA,aAAAA,EAAeA;AADSzB,SAA1BxqB,GAGO8tB,CAHP9tB;AAGO8tB,OA3BJ9R,CAZF3U,IACIjB,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIG,CAAJ,CAAiB,mCAAjB,CAAfH,CARTpG;AAkDF;;AAAA,aAASke,CAAT,CAAyB7W,CAAzB,EAA8BC,CAA9B,EAA8BA;AAC5B,aAAIxH,SAAAA,CAAUY,MAAVZ,GAAmB,CAAnBA,GACKsG,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIG,CAAJ,CAAiB,yEAAjB,CAAfH,CADLtG,IAGJwH,CAAAA,GAAUtH,CAAAA,CAAK+D,KAAL/D,CAAWsH,CAAXtH,KAAWsH,EAArBA,EAEOqlB,CAAAA,CAAmBtlB,CAAnBslB,EAAwBrlB,CAAxBqlB,CAAAA,CACJ7jB,IADI6jB,CACC,UAASnC,CAAT,EAASA;AACb,YAAIE,CAAAA,GAAO1O,CAAAA,CAAUvJ,YAAVuJ,CAAuB3U,CAAvB2U,EAA4B1U,CAA5B0U,CAAX;AAAA,YACI8Q,CAAAA,GAAapC,CAAAA,CAAKhY,YAALgY,GAAoBgC,CAAAA,CAAqBlC,CAArBkC,CADrC;AAIA3kB,QAAAA,CAAAA,CAAQqB,GAARrB,CAAYZ,CAAAA,CAAU4mB,iCAAtBhmB,EAAyD/D,IAAAA,CAAKC,SAALD,CAAKC;AAC5D+P,UAAAA,YAAAA,EAAcwW,CAAAA,CAAYxW,YADkC/P;AAE5D6c,UAAAA,KAAAA,EAAO0J,CAAAA,CAAY1J,KAFyC7c;AAG5DoO,UAAAA,KAAAA,EAAOmY,CAAAA,CAAYnY,KAHyCpO;AAI5D8L,UAAAA,MAAAA,EAAQya,CAAAA,CAAYza,MAJwC9L;AAK5DkO,UAAAA,QAAAA,EAAUqY,CAAAA,CAAYrY,QALsClO;AAM5DymB,UAAAA,IAAAA,EAAMA,CANsDzmB;AAO5DoZ,UAAAA,eAAAA,EAAiBmN,CAAAA,CAAYnN;AAP+BpZ,SAALD,CAAzD+D,EAQI,IARJA,EAQUV,CAAAA,CAAIC,OAAJD,CAAYU,OARtBA,GAWAA,CAAAA,CAAQqB,GAARrB,CAAYZ,CAAAA,CAAU6mB,0BAAtBjmB,EAAkDyiB,CAAAA,CAAYnY,KAA9DtK,EAAqE,IAArEA,EAA2EV,CAAAA,CAAIC,OAAJD,CAAYU,OAAvFA,CAXAA,EAcAA,CAAAA,CAAQqB,GAARrB,CAAYZ,CAAAA,CAAU8mB,0BAAtBlmB,EAAkDyiB,CAAAA,CAAY1J,KAA9D/Y,EAAqE,IAArEA,EAA2EV,CAAAA,CAAIC,OAAJD,CAAYU,OAAvFA,CAdAA,EAgBAV,CAAAA,CAAI6U,KAAJ7U,CAAU6W,eAAV7W,CAA0BuX,YAA1BvX,CAAuCylB,CAAvCzlB,CAhBAU;AAgBuC+kB,OAtBpCH,CALH7sB,CAAJ;AA+BF;;AAAA,aAAS0e,CAAT,CAAoBnX,CAApB,EAAyB6U,CAAzB,EAAyBA;AACvB,UAAA,CAAKF,CAAAA,CAAUnM,OAAVmM,CAAkBE,CAAlBF,CAAL,EACE,OAAO5V,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIG,CAAJ,CAAiB,oFAAjB,CAAfH,CAAP;AAIF,UAAI4N,CAAJ;AAEEA,aAAAA,CAAAA,GADE3M,CAAAA,CAAIC,OAAJD,CAAYqV,IAAZrV,GACa,MADbA,GAEO6U,CAAAA,CAAMzU,WAANyU,GACM,OADNA,GAGM,UAJflI,EAOK3M,CAAAA,CAAI6U,KAAJ7U,CAAU2W,gBAAV3W,CAAU2W;AACfhK,QAAAA,YAAAA,EAAcA,CADCgK;AAEfjO,QAAAA,MAAAA,EAAQmM,CAAAA,CAAMnM,MAFCiO;AAGftL,QAAAA,YAAAA,EAAcwJ,CAAAA,CAAMxJ,YAHLsL;AAIfrL,QAAAA,WAAAA,EAAauJ,CAAAA,CAAMvJ,WAJJqL;AAKfzM,QAAAA,MAAAA,EAAQ2K,CAAAA,CAAM3K;AALCyM,OAAV3W,EAONyB,IAPMzB,CAOD,UAASuB,CAAT,EAASA;AAEb,YAAIijB,CAAAA,GAASjjB,CAAAA,CAAIijB,MAAjB;AACA,eAAO3P,CAAAA,CAAMpM,OAANoM,GAAgB2P,CAAAA,CAAO/b,OAAvBoM,GAAiC2P,CAAAA,CAAOpkB,WAA/C;AAA+CA,OAV1CJ,CAPL2M;AAqBJ;;AAAA,aAASka,CAAT,CAAoB7mB,CAApB,EAAoBA;AAClB,UAAI8mB,CAAAA,GAAgB9mB,CAAAA,CAAI6U,KAAJ7U,CAAU8W,YAAV9W,CAAuBwX,WAAvBxX,EAApB;AAAA,UACI+mB,CAAAA,GAAY/mB,CAAAA,CAAI6U,KAAJ7U,CAAU8W,YAAV9W,CAAuB2X,YAAvB3X,EADhB;AAAA,UAEIgnB,CAAAA,GAAYhnB,CAAAA,CAAI6U,KAAJ7U,CAAU8W,YAAV9W,CAAuB0X,YAAvB1X,EAFhB;;AAGI8mB,MAAAA,CAAAA,IAAiBA,CAAAA,CAAcG,YAA/BH,GACFA,CAAAA,CAAcG,YAAdH,CAA2B,IAA3BA,EAAiCC,CAAAA,CAAUpd,KAA3Cmd,EAAkDE,CAAAA,CAAUE,QAAVF,GAAqBA,CAAAA,CAAUG,MAAjFL,CADEA,GAGFE,CAAAA,CAAUvE,IAAVuE,GAAiB,EAHfF;AAON;;AAAA,aAASM,CAAT,CAAsBpnB,CAAtB,EAAsBA;AACpB,UAAI8mB,CAAAA,GAAgB9mB,CAAAA,CAAI6U,KAAJ7U,CAAU8W,YAAV9W,CAAuBwX,WAAvBxX,EAApB;AAAA,UACI+mB,CAAAA,GAAY/mB,CAAAA,CAAI6U,KAAJ7U,CAAU8W,YAAV9W,CAAuB2X,YAAvB3X,EADhB;AAAA,UAEIgnB,CAAAA,GAAYhnB,CAAAA,CAAI6U,KAAJ7U,CAAU8W,YAAV9W,CAAuB0X,YAAvB1X,EAFhB;;AAGI8mB,MAAAA,CAAAA,IAAiBA,CAAAA,CAAcG,YAA/BH,GACFA,CAAAA,CAAcG,YAAdH,CAA2B,IAA3BA,EAAiCC,CAAAA,CAAUpd,KAA3Cmd,EAAkDE,CAAAA,CAAUE,QAAVF,GAAqBA,CAAAA,CAAUvE,IAAjFqE,CADEA,GAGFE,CAAAA,CAAUG,MAAVH,GAAmB,EAHjBF;AAON;;AAAA,aAAShQ,CAAT,CAAsB9W,CAAtB,EAA2BC,CAA3B,EAA2BA;AACzBA,MAAAA,CAAAA,GAAUA,CAAAA,IAAAA,EAAVA,EACItH,CAAAA,CAAKgC,QAALhC,CAAcsH,CAAdtH,MACFsH,CAAAA,GAAAA;AAAYxF,QAAAA,GAAAA,EAAKwF;AAAjBA,OADEtH,CADJsH;;AAMA,UAKIqnB,CALJ;AAAA,UAAID,CAAAA,GAAsBrnB,CAAAA,CAAIC,OAAJD,CAAYqV,IAAZrV,GAAmB,OAAnBA,GAA6B,UAAvD;AAAA,UAEIvF,CAAAA,GAAMwF,CAAAA,CAAQxF,GAFlB;AAAA,UAGI+a,CAAAA,GAAevV,CAAAA,CAAQuV,YAARvV,IAAwBD,CAAAA,CAAIC,OAAJD,CAAYwV,YAApCvV,IAAoDonB,CAHvE;AAAA,UAIIL,CAAAA,GAAYhnB,CAAAA,CAAI6U,KAAJ7U,CAAU8W,YAAV9W,CAAuB0X,YAAvB1X,EAJhB;;AAaA,UAAA,EALEsnB,CAAAA,GADmB,YAAjB9R,CAAiB,GACR/a,CAAAA,GAAMA,CAAAA,CAAIwR,SAAJxR,CAAcA,CAAAA,CAAIwC,OAAJxC,CAAY,GAAZA,CAAdA,CAANA,GAAwCusB,CAAAA,CAAUG,MAD1C,GAGR1sB,CAAAA,GAAMA,CAAAA,CAAIwR,SAAJxR,CAAcA,CAAAA,CAAIwC,OAAJxC,CAAY,GAAZA,CAAdA,CAANA,GAAwCusB,CAAAA,CAAUvE,IAG/D,CAAA,EACE,OAAO1jB,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIG,CAAJ,CAAiB,sCAAjB,CAAfH,CAAP;AAGF,UAAIwoB,CAAAA,GAAoB7mB,CAAAA,CAAQ/I,GAAR+I,CAAYZ,CAAAA,CAAU4mB,iCAAtBhmB,CAAxB;AACA,UAAA,CAAK6mB,CAAL,EACE,OAAOxoB,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIG,CAAJ,CAAiB,iDAAjB,CAAfH,CAAP;;AAGF,UAAA;AACE,YAAIokB,CAAAA,GAAcxmB,IAAAA,CAAKE,KAALF,CAAW4qB,CAAX5qB,CAAlB;AAAA,YACI0mB,CAAAA,GAAOF,CAAAA,CAAYE,IADvB;AACuBA,eAChBF,CAAAA,CAAYE,IADIA,EAEvB3iB,CAAAA,CAAQmB,MAARnB,CAAeZ,CAAAA,CAAU4mB,iCAAzBhmB,CAFuB2iB;AAGvB,OALF,CAKE,OAAM3pB,CAAN,EAAMA;AACN,eAAOqF,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIG,CAAJ,CAAiB,yBACvCY,CAAAA,CAAU4mB,iCAD6B,GACO,WADP,GACqBhtB,CAAAA,CAAE2F,OADxC,CAAfN,CAAP;AAIF;;AAAA,aAAOA,OAAAA,CAAQC,OAARD,CAAgB4V,CAAAA,CAAUhJ,iBAAVgJ,CAA4B2S,CAA5B3S,CAAhB5V,EACJ0C,IADI1C,CACC,UAASwC,CAAT,EAASA;AACR9G,eAAAA,CAAAA,KAEc,YAAjB+a,CAAiB,GAAU4R,CAAAA,CAAapnB,CAAbonB,CAAV,GAA8BP,CAAAA,CAAW7mB,CAAX6mB,CAF5CpsB,CAAAA,EAIEopB,CAAAA,CAAoB7jB,CAApB6jB,EAAyBV,CAAzBU,EAAsCtiB,CAAtCsiB,EAA2CR,CAA3CQ,CAJFppB;AAI6C4oB,OAN/CtkB,CAAP;AvBq0HF;;AAAA,auB3zHeqY,CvB2zHf,C,CAAA,E,CAAA,E,CAAA,E;AACE,aAAO7e,CAAAA,CAAaC,KAAbD,CAAmB9B,IAAnB8B,EAAyBE,SAAzBF,CAAP;AAGF;;AAAA,aAASA,CAAT,GAASA;AACPA,aAAAA,CAAAA,GAAeD,CAAAA,CAEfD,CAAAA,CAAoBK,IAApBL,CuBl0HF,SAAA,CAAA,CAA2B2H,CAA3B,EAAgCwnB,CAAhC,EAAmDC,CAAnD,EAAmDA;AAAnD,eAAA,CAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA;AAAA,mBAAA,QAAA,CAAA,CAAA,IAAA,GAAA,CAAA,CAAA,IAAA;AAAA,iBAAA,CAAA;AAAA,kBAEOD,CAFP,EAAA;AAAA,gBAAA,CAAA,CAAA,IAAA,GAAA,CAAA;AAAA;AAAA;;AAAA,qBAAA,CAAA,CAAA,IAAA,GAAA,CAAA,EAG8BxnB,CAAAA,CAAImY,YAAJnY,CAAiBrI,GAAjBqI,CAH9B,aAG8BA,CAH9B;;AAAA,iBAAA,CAAA;AAGIwnB,cAAAA,CAAAA,GAHJ,CAAA,CAAA,IAGIA;;AAHJ,iBAAA,CAAA;AAAA,kBAKOC,CALP,EAAA;AAAA,gBAAA,CAAA,CAAA,IAAA,GAAA,CAAA;AAAA;AAAA;;AAAA,qBAAA,CAAA,CAAA,IAAA,GAAA,CAAA,EAM0BznB,CAAAA,CAAImY,YAAJnY,CAAiBrI,GAAjBqI,CAN1B,SAM0BA,CAN1B;;AAAA,iBAAA,CAAA;AAMIynB,cAAAA,CAAAA,GANJ,CAAA,CAAA,IAMIA;;AANJ,iBAAA,CAAA;AAAA,kBASOD,CAAAA,KACC7S,CAAAA,CAAUnM,OAAVmM,CAAkB6S,CAAlB7S,KAAyC6S,CAAAA,CAAkBpnB,WAA3DuU,IAA2E6S,CAAAA,CAAkBlc,WAD9Fkc,CATP,EAAA;AAAA,gBAAA,CAAA,CAAA,IAAA,GAAA,EAAA;AAAA;AAAA;;AAAA,qBAAA,CAAA,CAAA,MAAA,CAAA,QAAA,EAWWzoB,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIG,CAAJ,CAX1B,6CAW0B,CAAfH,CAXX,CAAA;;AAAA,iBAAA,EAAA;AAAA,kBAcO0oB,CAAAA,KACD9S,CAAAA,CAAUnM,OAAVmM,CAAkB8S,CAAlB9S,KAAqC8S,CAAAA,CAAchf,OADlDgf,CAdP,EAAA;AAAA,gBAAA,CAAA,CAAA,IAAA,GAAA,EAAA;AAAA;AAAA;;AAAA,qBAAA,CAAA,CAAA,MAAA,CAAA,QAAA,EAgBW1oB,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIG,CAAJ,CAhB1B,yCAgB0B,CAAfH,CAhBX,CAAA;;AAAA,iBAAA,EAAA;AAAA,qBAAA,CAAA,CAAA,MAAA,CAAA,QAAA,EAmBSmG,CAAAA,CAAKnF,WAALmF,CAAiBlF,CAAjBkF,EAAiBlF;AACtBvF,gBAAAA,GAAAA,EAAK+sB,CAAAA,CAAkBlc,WADDtL;AAEtBE,gBAAAA,MAAAA,EAAQ,KAFcF;AAGtBI,gBAAAA,WAAAA,EAAaonB,CAAAA,CAAkBpnB;AAHTJ,eAAjBkF,EAKNzD,IALMyD,CAKD,UAAA,CAAA,EAAA;AAEJ,uBAAIwiB,CAAAA,CAASC,GAATD,KAAiBD,CAAAA,CAAc9c,MAAd8c,CAAqBE,GAAtCD,GACKA,CADLA,GAGG3oB,OAAAA,CAAQ4F,MAAR5F,CAAe,IAAIG,CAAJ,CAAiB,wDAAjB,CAAfH,CAHP;AAGuC,eAVlCmG,EAYNhD,KAZMgD,CAYA,UAAS5D,CAAT,EAASA;AACd,oBAAIA,CAAAA,CAAIlC,GAAJkC,KAA+B,QAAnBA,CAAAA,CAAIlC,GAAJkC,CAAQc,MAAW,IAA0B,QAAnBd,CAAAA,CAAIlC,GAAJkC,CAAQc,MAA9Cd,CAAJ,EAAmE;AACjE,sBAAIsmB,CAAJ;;AAMA,sBALItmB,CAAAA,CAAIlC,GAAJkC,CAAQJ,OAARI,IAAmB3I,CAAAA,CAAKiG,UAALjG,CAAgB2I,CAAAA,CAAIlC,GAAJkC,CAAQJ,OAARI,CAAgB3J,GAAhCgB,CAAnB2I,IAA2DA,CAAAA,CAAIlC,GAAJkC,CAAQJ,OAARI,CAAgB3J,GAAhB2J,CAAoB,kBAApBA,CAA3DA,GACFsmB,CAAAA,GAAqBtmB,CAAAA,CAAIlC,GAAJkC,CAAQJ,OAARI,CAAgB3J,GAAhB2J,CAAoB,kBAApBA,CADnBA,GAEO3I,CAAAA,CAAKiG,UAALjG,CAAgB2I,CAAAA,CAAIlC,GAAJkC,CAAQumB,iBAAxBlvB,MACTivB,CAAAA,GAAqBtmB,CAAAA,CAAIlC,GAAJkC,CAAQumB,iBAARvmB,CAA0B,kBAA1BA,CADZ3I,CAFP2I,EAKAsmB,CAAJ,EAAwB;AACtB,wBAAIE,CAAAA,GAAeF,CAAAA,CAAmB1sB,KAAnB0sB,CAAyB,eAAzBA,KAAyB,EAA5C;AAAA,wBACIG,CAAAA,GAA0BH,CAAAA,CAAmB1sB,KAAnB0sB,CAAyB,2BAAzBA,KAAyB,EADvD;AAAA,wBAEI5iB,CAAAA,GAAQ8iB,CAAAA,CAAa,CAAbA,CAFZ;AAAA,wBAGIE,CAAAA,GAAmBD,CAAAA,CAAwB,CAAxBA,CAHvB;AAII/iB,oBAAAA,CAAAA,IAASgjB,CAAThjB,KACF1D,CAAAA,GAAM,IAAIugB,CAAJ,CAAe7c,CAAf,EAAsBgjB,CAAtB,CADJhjB;AAC0BgjB;AAIlC;;AAAA,sBAAM1mB,CAAN;AAjDJ,eAmBS4D,CAnBT,CAAA;;AAAA,iBAAA,EAAA;AAAA,iBAAA,KAAA;AAAA,qBAAA,CAAA,CAAA,IAAA,EAAA;AAAA;AAAA,SAAA,EAAA,CAAA,CAAA;AAAA,OvBk0HE7M,CAFeC,CAAfC,EA0FOA,CAAAA,CAAaC,KAAbD,CAAmB9B,IAAnB8B,EAAyBE,SAAzBF,CA1FPA;AA1vBF;;AAAA,QAAIF,CAAAA,GAAsB1B,CAAAA,CAAoB,CAApBA,CAA1B;AAAA,QAEI2B,CAAAA,GAAoB3B,CAAAA,CAAoB,CAApBA,CAFxB;AAAA,QuBj0HIuO,CAAAA,GAAgBtF,CAAAA,CAAQ,CAARA,CvBi0HpB;AAAA,QuBh0HIjH,CAAAA,GAAgBiH,CAAAA,CAAQ,CAARA,CvBg0HpB;AAAA,QuB/zHI+U,CAAAA,GAAgB/U,CAAAA,CAAQ,EAARA,CvB+zHpB;AAAA,QuB9zHIgiB,CAAAA,GAAgBhiB,CAAAA,CAAQ,EAARA,CvB8zHpB;AAAA,QuB7zHIV,CAAAA,GAAgBU,CAAAA,CAAQ,CAARA,CvB6zHpB;AAAA,QuB5zHIiiB,CAAAA,GAAgBjiB,CAAAA,CAAQ,EAARA,CvB4zHpB;AAAA,QuB3zHIE,CAAAA,GAAgBF,CAAAA,CAAQ,CAARA,CvB2zHpB;AAAA,QuB1zHIc,CAAAA,GAAgBd,CAAAA,CAAQ,CAARA,CAAAA,CAAoCW,OvB0zHxD;AAAA,QuBzzHIuhB,CAAAA,GAAgBliB,CAAAA,CAAQ,EAARA,CvByzHpB;;AuBjhGAvJ,IAAAA,CAAAA,CAAOD,OAAPC,GAAOD;AACL6gB,MAAAA,WAAAA,EAAaA,CADR7gB;AAELstB,MAAAA,QAAAA,EAAUA,CAFLttB;AAGLugB,MAAAA,gBAAAA,EAAkBA,CAHbvgB;AAILwgB,MAAAA,YAAAA,EAAcA,CAJTxgB;AAKLygB,MAAAA,eAAAA,EAAiBA,CALZzgB;AAML0gB,MAAAA,YAAAA,EAAcA,CANT1gB;AAOL2gB,MAAAA,WAAAA,EAAaA,CAPR3gB;AAQL+gB,MAAAA,UAAAA,EAAYA,CARP/gB;AASLghB,MAAAA,WAAAA,EAAaA,CATRhhB;AAULkhB,MAAAA,WAAAA,EAAaA,CAVRlhB;AAWLytB,MAAAA,mBAAAA,EAAqBA,CAXhBztB;AAYLkvB,MAAAA,kBAAAA,EAAoBA;AAZflvB,KAAPC;AAYsBivB,GxB7wB+B,EC0nJ/C,UAAUjvB,CAAV,EAAkBD,CAAlB,EAA2BO,CAA3B,EAA2BA;AwBzqJjC,aAAS6rB,CAAT,CAAqB3pB,CAArB,EAAqBA;AACnB,UAAIe,CAAAA,GAAS,IAAIif,WAAJ,EAATjf,CAA2BquB,MAA3BruB,CAAkCf,CAAlCe,CAAJ;AACA,aAAO+e,MAAAA,CAAOC,MAAPD,CAAcuP,MAAdvP,CAAqB,SAArBA,EAAgC/e,CAAhC+e,EAAwClX,IAAxCkX,CAA6C,UAASpL,CAAT,EAASA;AAC3D,YAAI4a,CAAAA,GAAY,IAAItuB,UAAJ,CAAe0T,CAAf,CAAhB;AAAA,YACI6a,CAAAA,GAAYD,CAAAA,CAAU9tB,KAAV8tB,CAAgB,CAAhBA,EAAmB,EAAnBA,CADhB;AAAA,YAEI1F,CAAAA,GAAOzU,MAAAA,CAAOkC,YAAPlC,CAAoBxV,KAApBwV,CAA0B,IAA1BA,EAAgCoa,CAAhCpa,CAFX;AAGWrV,eAAAA,CAAAA,CAAKC,iBAALD,CAAuB8pB,CAAvB9pB,CAAAA;AAAuB8pB,OAJ7B9J,CAAP;AASF;;AAAA,aAASrB,CAAT,CAAqB7O,CAArB,EAA8BjN,CAA9B,EAA8BA;AAC5BA,MAAAA,CAAAA,GAAM7C,CAAAA,CAAK+D,KAAL/D,CAAW6C,CAAX7C,CAAN6C;AAEA,UACI6sB,CAAAA,GAAAA;AACFjxB,QAAAA,IAAAA,EAAM,mBADJixB;AAEF5F,QAAAA,IAAAA,EAAAA;AAAQrrB,UAAAA,IAAAA,EAAM;AAAdqrB;AAFE4F,OADJ;AAAA,UAMIC,CAAAA,GAAAA,CAAU,QAAVA,CANJ;AAaA,aAFO9sB,OAAAA,CAAAA,CAAI+sB,GAAJ/sB,EAEAmd,MAAAA,CAAOC,MAAPD,CAAc6P,SAAd7P,CAbM,KAaNA,EAELnd,CAFKmd,EAGL0P,CAHK1P,EAGL0P,CAXgB,CAQX1P,EAKL2P,CALK3P,EAONlX,IAPMkX,CAOD,UAAS8P,CAAT,EAASA;AACb,YAAIxG,CAAAA,GAAMxZ,CAAAA,CAAQkJ,KAARlJ,CAAc,GAAdA,CAAV;AAAA,YACI0Z,CAAAA,GAAUxpB,CAAAA,CAAKgB,cAALhB,CAAoBspB,CAAAA,CAAI,CAAJA,CAAAA,GAAS,GAATA,GAAeA,CAAAA,CAAI,CAAJA,CAAnCtpB,CADd;AAAA,YAEI+vB,CAAAA,GAAe/vB,CAAAA,CAAKoB,eAALpB,CAAqBspB,CAAAA,CAAI,CAAJA,CAArBtpB,CAFnB;AAAA,YAGIypB,CAAAA,GAAYzpB,CAAAA,CAAKgB,cAALhB,CAAoB+vB,CAApB/vB,CAHhB;AAKA,eAAOggB,MAAAA,CAAOC,MAAPD,CAActB,MAAdsB,CACL0P,CADK1P,EAEL8P,CAFK9P,EAGLyJ,CAHKzJ,EAILwJ,CAJKxJ,CAAP;AAIEwJ,OAjBGxJ,CAAP;AA7BF;;AAAA,QAAIhgB,CAAAA,GAAOiH,CAAAA,CAAQ,CAARA,CAAX;AAmDAvJ,IAAAA,CAAAA,CAAOD,OAAPC,GAAOD;AACLosB,MAAAA,WAAAA,EAAaA,CADRpsB;AAELkhB,MAAAA,WAAAA,EAAaA;AAFRlhB,KAAPC;AAEeihB,GzBJsC,ECsrJ/C,UAAUjhB,CAAV,EAAkBD,CAAlB,EAAkBA;AyBvuJxB,aAASyrB,CAAT,CAAoBviB,CAApB,EAA+BqpB,CAA/B,EAA+BA;AAC7BlyB,WAAKW,IAALX,GAAY,YAAZA,EACAA,KAAK4I,OAAL5I,GAAekyB,CADflyB,EAGAA,KAAK6I,SAAL7I,GAAiB6I,CAHjB7I,EAIAA,KAAK8I,YAAL9I,GAAoBkyB,CAJpBlyB;AAMForB;;AAAAA,IAAAA,CAAAA,CAAW7pB,SAAX6pB,GAAuB,IAAIliB,KAAJ,EAAvBkiB,EAEAxrB,CAAAA,CAAOD,OAAPC,GAAiBwrB,CAFjBA;AAEiBA,G1BwCoC,EC+sJ/C,UAAUxrB,CAAV,EAAkBD,CAAlB,EAA2BO,CAA3B,EAA2BA;A0BpvJjC,aAASmyB,CAAT,CAAkBC,CAAlB,EAAkBA;AAChB,aAAA,CAAQ,MAAMA,CAAAA,CAAIluB,QAAJkuB,CAAa,EAAbA,CAAd,EAAgCC,MAAhC,CAAgCA,CAAQ,CAAxC,CAAA;AAGF;;AAAA,aAASC,CAAT,CAAyB5vB,CAAzB,EAAyBA;AACvB,UAAI6vB,CAAAA,GAAI,IAAIrvB,UAAJ,CAAeoC,IAAAA,CAAKktB,IAALltB,CAAU5C,CAAAA,GAAS,CAAnB4C,CAAf,CAAR;AACA0c,aAAAA,MAAAA,CAAOyQ,eAAPzQ,CAAuBuQ,CAAvBvQ,GACUve,KAAAA,CAAMivB,IAANjvB,CAAW8uB,CAAX9uB,EAAc0uB,CAAd1uB,EAAuBwB,IAAvBxB,CAA4B,EAA5BA,EACCC,KADDD,CACO,CADPA,EACUf,CADVe,CADVue;AAKF;;AAAA,aAAS2N,CAAT,CAA0BgD,CAA1B,EAA0BA;AACxB,UAAIC,CAAAA,GAAWD,CAAAA,IAAU,EAAzB;AACIC,aAAAA,CAAAA,CAASlwB,MAATkwB,GAAkBX,CAAlBW,KACFA,CAAAA,IAAsBN,CAAAA,CAAgBL,CAAAA,GAAsBW,CAAAA,CAASlwB,MAA/C4vB,CADpBM,GAGG5tB,kBAAAA,CAAmB4tB,CAAnB5tB,CAAAA,CAA6BtB,KAA7BsB,CAAmC,CAAnCA,EAAsCktB,CAAtCltB,CAHH4tB;AAMN;;AAAA,aAAS1oB,CAAT,CAAoBb,CAApB,EAAoBA;AAClB,aAAOA,CAAAA,CAAIC,OAAJD,CAAYM,WAAZN,CAAwBiD,cAAxBjD,CAAuCA,CAAAA,CAAIC,OAAJD,CAAYU,OAAnDV,CAAP;AAGF;;AAAA,aAASumB,CAAT,CAAkBvmB,CAAlB,EAAuBsjB,CAAvB,EAAuBA;AACPziB,MAAAA,CAAAA,CAAWb,CAAXa,CAAAA,CACN0D,UADM1D,CACKyiB,CADLziB;AAIhB;;AAAA,aAAS0iB,CAAT,CAAkBvjB,CAAlB,EAAkBA;AACFa,aAAAA,CAAAA,CAAWb,CAAXa,CAAAA,CACIA,UADJA,EAAAA;AAKhB;;AAAA,aAAS+iB,CAAT,CAAmB5jB,CAAnB,EAAmBA;AACHa,MAAAA,CAAAA,CAAWb,CAAXa,CAAAA,CACN2D,YADM3D;AAKhB;;AAAA,aAAS2lB,CAAT,CAA0B3tB,CAA1B,EAA0BA;AACxB,UAAIe,CAAAA,GAAS,IAAIif,WAAJ,EAATjf,CAA2BquB,MAA3BruB,CAAkCf,CAAlCe,CAAJ;AACA,aAAO+e,MAAAA,CAAOC,MAAPD,CAAcuP,MAAdvP,CAAqB,SAArBA,EAAgC/e,CAAhC+e,EAAwClX,IAAxCkX,CAA6C,UAASpL,CAAT,EAASA;AAC3D,YAAIkV,CAAAA,GAAOzU,MAAAA,CAAOkC,YAAPlC,CAAoBxV,KAApBwV,CAA0B,IAA1BA,EAAgC,IAAInU,UAAJ,CAAe0T,CAAf,CAAhCS,CAAX;AACWrV,eAAAA,CAAAA,CAAKC,iBAALD,CAAuB8pB,CAAvB9pB,CAAAA;AAAuB8pB,OAF7B9J,CAAP;AAQF;;AAAA,aAAS6Q,CAAT,CAAyBC,CAAzB,EAAyBA;AAEvB,UAAA,CAAKA,CAAAA,CAAa3e,QAAlB,EACE,MAAM,IAAI5L,CAAJ,CAAiB,yEAAjB,CAAN;AAGF,UAAA,CAAKuqB,CAAAA,CAAanU,WAAlB,EACE,MAAM,IAAIpW,CAAJ,CAAiB,oEAAjB,CAAN;AAGF,UAAA,CAAKuqB,CAAAA,CAAarG,iBAAlB,EACE,MAAM,IAAIlkB,CAAJ,CAAiB,2EAAjB,CAAN;AAGF,UAAA,CAAKuqB,CAAAA,CAAahG,YAAlB,EACE,MAAM,IAAIvkB,CAAJ,CAAiB,+EAAjB,CAAN;AAIJ;;AAAA,aAASwqB,CAAT,CAAqBzpB,CAArB,EAAqBA;AAEnB,UAAIwH,CAAAA,GAAS9O,CAAAA,CAAK4D,UAAL5D,CAAK4D;AAChB,QAAA,SAAA,EAAa0D,CAAAA,CAAQ6K,QADLvO;AAEhB,QAAA,YAAA,EAAgB0D,CAAAA,CAAQqV,WAFR/Y;AAGhB,QAAA,UAAA,EAAc,oBAHEA;AAIhB,QAAA,IAAA,EAAQ0D,CAAAA,CAAQmjB,iBAJA7mB;AAKhB,QAAA,aAAA,EAAiB0D,CAAAA,CAAQwjB;AALTlnB,OAAL5D,CAAb;AAQA,aAAOA,CAAAA,CAAK4C,aAAL5C,CAAmB8O,CAAnB9O,EAA2B0B,KAA3B1B,CAAiC,CAAjCA,CAAP;AAIF;;AAAA,aAAS+qB,CAAT,CAAkB1jB,CAAlB,EAAuBypB,CAAvB,EAAqCpG,CAArC,EAAqCA;AACnCmG,MAAAA,CAAAA,CAAgBC,CAAhBD,CAAAA;AACA,UAAInoB,CAAAA,GAAOqoB,CAAAA,CAAYD,CAAZC,CAAX;AAEA,aAAOxkB,CAAAA,CAAKnF,WAALmF,CAAiBlF,CAAjBkF,EAAiBlF;AACtBvF,QAAAA,GAAAA,EAAK4oB,CAAAA,CAAK9X,QADYvL;AAEtBE,QAAAA,MAAAA,EAAQ,MAFcF;AAGtB1F,QAAAA,IAAAA,EAAM+G,CAHgBrB;AAItBK,QAAAA,eAAAA,EAAAA,CAAiB,CAJKL;AAKtBkB,QAAAA,OAAAA,EAAAA;AACE,0BAAgB;AADlBA;AALsBlB,OAAjBkF,CAAP;AAjGF;;AAAA,QAAIhG,CAAAA,GAAgBU,CAAAA,CAAQ,CAARA,CAApB;AAAA,QACIsF,CAAAA,GAAgBtF,CAAAA,CAAQ,CAARA,CADpB;AAAA,QAEIjH,CAAAA,GAAgBiH,CAAAA,CAAQ,CAARA,CAFpB;AAAA,QAMIgpB,CAAAA,GAAsB,EAN1B;AAAA,QAOIC,CAAAA,GAAsB,GAP1B;AA4GAxyB,IAAAA,CAAAA,CAAOD,OAAPC,GAAOD;AACLiwB,MAAAA,6BAAAA,EArGkC,MAoG7BjwB;AAELkwB,MAAAA,gBAAAA,EAAkBA,CAFblwB;AAGLwtB,MAAAA,SAAAA,EAAWA,CAHNxtB;AAILmwB,MAAAA,QAAAA,EAAUA,CAJLnwB;AAKLmtB,MAAAA,QAAAA,EAAUA,CALLntB;AAMLowB,MAAAA,gBAAAA,EAAkBA,CANbpwB;AAOLstB,MAAAA,QAAAA,EAAUA;AAPLttB,KAAPC;AAOYqtB,G3BpEyC,EC61J/C,UAAUrtB,CAAV,EAAkBD,CAAlB,EAA2BO,CAA3B,EAA2BA;A2B/3JjC,aAASozB,CAAT,CAAuBC,CAAvB,EAAqCnV,CAArC,EAAqCA;AAClBA,aAAAA,CAAAA,CAAM7T,SAAN6T,GAAkBmV,CAAAA,CAAa/pB,OAAb+pB,CAAqBF,kBAAvCjV;AAInB;;AAAA,aAASoV,CAAT,CAAoBD,CAApB,EAAkCnV,CAAlC,EAAkCA;AACfkV,aAAAA,CAAAA,CAAcC,CAAdD,EAA4BlV,CAA5BkV,CAAAA,IACIC,CAAAA,CAAaE,KAAbF,CAAmBjpB,GAAnBipB,EADJD;AAInB;;AAAA,aAASI,CAAT,CAAqBH,CAArB,EAAmCxuB,CAAnC,EAAwCqZ,CAAxC,EAAwCA;AACtCmV,MAAAA,CAAAA,CAAa9R,OAAb8R,CAAqBrJ,IAArBqJ,CAA0B,SAA1BA,EAAqCxuB,CAArCwuB,EAA0CnV,CAA1CmV;AAGF;;AAAA,aAASI,CAAT,CAAmBJ,CAAnB,EAAiChlB,CAAjC,EAAiCA;AAC/BglB,MAAAA,CAAAA,CAAa9R,OAAb8R,CAAqBrJ,IAArBqJ,CAA0B,OAA1BA,EAAmChlB,CAAnCglB;AAGF;;AAAA,aAASK,CAAT,CAAiCL,CAAjC,EAA+CxuB,CAA/C,EAA+CA;AAC7C0e,MAAAA,YAAAA,CAAa8P,CAAAA,CAAaM,cAAbN,CAA4BxuB,CAA5BwuB,CAAb9P,CAAAA,EAAyC1e,OAClCwuB,CAAAA,CAAaM,cAAbN,CAA4BxuB,CAA5BwuB,CADP9P,EACmC1e,OAG5BwuB,CAAAA,CAAaO,YAAbP,CAA0BxuB,CAA1BwuB,CAJP9P;AAOF;;AAAA,aAASsQ,CAAT,CAAoCR,CAApC,EAAoCA;AAClC,UAAIM,CAAAA,GAAiBN,CAAAA,CAAaM,cAAlC;;AACA,WAAK,IAAI9uB,CAAT,IAAgB8uB,CAAhB,EACOA,CAAAA,CAAeryB,cAAfqyB,CAA8B9uB,CAA9B8uB,KAGLD,CAAAA,CAAwBL,CAAxBK,EAAsC7uB,CAAtC6uB,CAHKC;AAOT;;AAAA,aAASG,CAAT,CAA+BzqB,CAA/B,EAAoCgqB,CAApC,EAAkDxuB,CAAlD,EAAuDqZ,CAAvD,EAAuDA;AACrD,UAAI6V,CAAAA,GAAaX,CAAAA,CAAcC,CAAdD,EAA4BlV,CAA5BkV,CAAjB;AAAA,UACIY,CAAAA,GAAuE,MAArD1uB,IAAAA,CAAK2uB,GAAL3uB,CAASyuB,CAAAA,GAAaV,CAAAA,CAAaE,KAAbF,CAAmBjpB,GAAnBipB,EAAtB/tB,EAAgD,CAAhDA,CADtB;AAIAouB,MAAAA,CAAAA,CAAwBL,CAAxBK,EAAsC7uB,CAAtC6uB,CAAAA;AAEA,UAAIQ,CAAAA,GAAqB5rB,UAAAA,CAAW,YAAA;AAClCkrB,QAAAA,CAAAA,CAAYH,CAAZG,EAA0B3uB,CAA1B2uB,EAA+BtV,CAA/BsV,CAAAA;AAA+BtV,OADR5V,EAEtB0rB,CAFsB1rB,CAAzB;AAKA+qB,MAAAA,CAAAA,CAAaM,cAAbN,CAA4BxuB,CAA5BwuB,IAAmCa,CAAnCb;AAGF;;AAAA,aAASc,CAAT,CAAkC9qB,CAAlC,EAAuCgqB,CAAvC,EAAqDzpB,CAArD,EAAqDA;AACnD,UAAA;AACE,YAAIwqB,CAAAA,GAAexqB,CAAAA,CAAQM,UAARN,EAAnB;AACA,OAFF,CAEE,OAAM7G,CAAN,EAAMA;AAIN,eADA0wB,KAAAA,CAAAA,CAAUJ,CAAVI,EAAwB1wB,CAAxB0wB,CACA;AAGF;;AAAA,WAAI,IAAI5uB,CAAR,IAAeuvB,CAAf,EACE,IAAKA,CAAAA,CAAa9yB,cAAb8yB,CAA4BvvB,CAA5BuvB,CAAL,EAAA;AAGA,YAAIlW,CAAAA,GAAQkW,CAAAA,CAAavvB,CAAbuvB,CAAZ;AACAN,QAAAA,CAAAA,CAAsBzqB,CAAtByqB,EAA2BT,CAA3BS,EAAyCjvB,CAAzCivB,EAA8C5V,CAA9C4V,CAAAA;AAA8C5V;AAIlD;;AAAA,aAASmW,CAAT,CAAahrB,CAAb,EAAkBgqB,CAAlB,EAAgCzpB,CAAhC,EAAyC/E,CAAzC,EAA8CqZ,CAA9C,EAA8CA;AAC5C,UAAIkW,CAAAA,GAAexqB,CAAAA,CAAQM,UAARN,EAAnB;AACA,UAAA,CAAK5H,CAAAA,CAAKmC,QAALnC,CAAckc,CAAdlc,CAAL,IAAmBkc,CACdA,CAAAA,CAAMnM,MADX,IACWA,CACLmM,CAAAA,CAAM7T,SADD0H,IACkC,MAApBmM,CAAAA,CAAM7T,SAF/B,IAE+BA,CACzB6T,CAAAA,CAAMpM,OADmBzH,IACnByH,CAAYoM,CAAAA,CAAMzU,WAH9B,EAIE,MAAM,IAAIlB,CAAJ,CAAiB,0FAAjB,CAAN;AAEF6rB,MAAAA,CAAAA,CAAavvB,CAAbuvB,CAAAA,GAAoBlW,CAApBkW,EACAxqB,CAAAA,CAAQgE,UAARhE,CAAmBwqB,CAAnBxqB,CADAwqB,EAEAN,CAAAA,CAAsBzqB,CAAtByqB,EAA2BT,CAA3BS,EAAyCjvB,CAAzCivB,EAA8C5V,CAA9C4V,CAFAM;AAKF;;AAAA,aAASpzB,CAAT,CAAa4I,CAAb,EAAsB/E,CAAtB,EAAsBA;AACD+E,aAAAA,CAAAA,CAAQM,UAARN,GACC/E,CADD+E,CAAAA;AAIrB;;AAAA,aAAS0qB,CAAT,CAAkBjrB,CAAlB,EAAuBgqB,CAAvB,EAAqCzpB,CAArC,EAA8C/E,CAA9C,EAA8CA;AAC5C,aAAO,IAAIuD,OAAJ,CAAY,UAASC,CAAT,EAASA;AAC1B,YAAI6V,CAAAA,GAAQld,CAAAA,CAAI4I,CAAJ5I,EAAa6D,CAAb7D,CAAZ;AACA,eAQOqH,CAAAA,CARF6V,CAAAA,IAAUoV,CAAAA,CAAWD,CAAXC,EAAyBpV,CAAzBoV,CAAVpV,GAIcmV,CAAAA,CAAa/pB,OAAb+pB,CAAqBH,SAArBG,GACf9S,CAAAA,CAAMlX,CAANkX,EAAW8S,CAAX9S,EAAyB3W,CAAzB2W,EAAkC1b,CAAlC0b,CADe8S,GAEfhmB,CAAAA,CAAOgmB,CAAPhmB,EAAqBzD,CAArByD,EAA8BxI,CAA9BwI,CANC6Q,GACYA,CAOV7V,CARP;AACiB6V,OAHZ,CAAP;AAcF;;AAAA,aAAS7Q,CAAT,CAAgBgmB,CAAhB,EAA8BzpB,CAA9B,EAAuC/E,CAAvC,EAAuCA;AAErC6uB,MAAAA,CAAAA,CAAwBL,CAAxBK,EAAsC7uB,CAAtC6uB,CAAAA;AAGA,UAAIU,CAAAA,GAAexqB,CAAAA,CAAQM,UAARN,EAAnB;AAA2BM,aACpBkqB,CAAAA,CAAavvB,CAAbuvB,CADoBlqB,EAE3BN,CAAAA,CAAQgE,UAARhE,CAAmBwqB,CAAnBxqB,CAF2BM;AAK7B;;AAAA,aAASqW,CAAT,CAAelX,CAAf,EAAoBgqB,CAApB,EAAkCzpB,CAAlC,EAA2C/E,CAA3C,EAA2CA;AAEzC,UAAI0vB,CAAAA,GAAkBlB,CAAAA,CAAaO,YAAbP,CAA0BxuB,CAA1BwuB,CAAtB;AACA,UAAIkB,CAAJ,EACE,OAAOA,CAAP;;AAGF,UAAA;AACE,YAAIrW,CAAAA,GAAQld,CAAAA,CAAI4I,CAAJ5I,EAAa6D,CAAb7D,CAAZ;AACA,YAAA,CAAKkd,CAAL,EACE,MAAM,IAAI3V,CAAJ,CAAiB,gDAAgD1D,CAAjE,CAAN;AAEF,OALF,CAKE,OAAO9B,CAAP,EAAOA;AACP,eAAOqF,OAAAA,CAAQ4F,MAAR5F,CAAerF,CAAfqF,CAAP;AAIFsrB;;AAAAA,aAAAA,CAAAA,CAAwBL,CAAxBK,EAAsC7uB,CAAtC6uB,CAAAA,EAGAL,CAAAA,CAAaO,YAAbP,CAA0BxuB,CAA1BwuB,IAAiChqB,CAAAA,CAAI6U,KAAJ7U,CAAUkX,KAAVlX,CAAgB6U,CAAhB7U,EAC9ByB,IAD8BzB,CACzB,UAASmrB,CAAT,EAASA;AACb,YAAIC,CAAAA,GAAWzzB,CAAAA,CAAI4I,CAAJ5I,EAAa6D,CAAb7D,CAAf;AACA,YAAKyzB,CAAL,EAMAJ,OAAAA,CAAAA,CAAIhrB,CAAJgrB,EAAShB,CAATgB,EAAuBzqB,CAAvByqB,EAAgCxvB,CAAhCwvB,EAAqCG,CAArCH,CAAAA,EACAhB,CAAAA,CAAa9R,OAAb8R,CAAqBrJ,IAArBqJ,CAA0B,SAA1BA,EAAqCxuB,CAArCwuB,EAA0CmB,CAA1CnB,EAAsDoB,CAAtDpB,CADAgB,EAEOG,CAFPH;AAEOG,OAXsBnrB,EAa9BkC,KAb8BlC,CAaxB,UAASsB,CAAT,EAASA;AAOd,cANiB,iBAAbA,CAAAA,CAAIlK,IAAS,IAA6B,mBAAbkK,CAAAA,CAAIlK,IAApB,KACf4M,CAAAA,CAAOgmB,CAAPhmB,EAAqBzD,CAArByD,EAA8BxI,CAA9BwI,CAAAA,EACA1C,CAAAA,CAAI+pB,QAAJ/pB,GAAe9F,CADfwI,EAEA1C,CAAAA,CAAIlB,WAAJkB,GAAIlB,CAAAA,CAAgByU,CAAAA,CAAMzU,WAF1B4D,EAGAomB,CAAAA,CAAUJ,CAAVI,EAAwB9oB,CAAxB8oB,CAJe,GAMX9oB,CAAN;AAAMA,OApBuBtB,EAsB9Bia,OAtB8Bja,CAsBtB,YAAA;AAAA,eAEAgqB,CAAAA,CAAaO,YAAbP,CAA0BxuB,CAA1BwuB,CAFA;AAE0BxuB,OAxBJwE,CAHjCqqB,EA8BOL,CAAAA,CAAaO,YAAbP,CAA0BxuB,CAA1BwuB,CA9BPK;AAiCF;;AAAA,aAASnR,CAAT,CAAe8Q,CAAf,EAA6BzpB,CAA7B,EAA6BA;AAC3BiqB,MAAAA,CAAAA,CAA2BR,CAA3BQ,CAAAA,EACAjqB,CAAAA,CAAQiE,YAARjE,EADAiqB;AAIF;;AAAA,aAAS1V,CAAT,CAAsB9U,CAAtB,EAA2BC,CAA3B,EAA2BA;AACzBA,MAAAA,CAAAA,GAAUtH,CAAAA,CAAKwD,MAALxD,CAAKwD,EAALxD,EAAgBixB,CAAhBjxB,EAAiCA,CAAAA,CAAK4D,UAAL5D,CAAgBsH,CAAhBtH,CAAjCA,CAAVsH,EAEwB,mBAApBA,CAAAA,CAAQM,OAAY,IAAmBD,CAAAA,CAAYsC,sBAAZtC,EAAnB,KACtB3H,CAAAA,CAAKuF,IAALvF,CAAU,yEAAVA,GACAsH,CAAAA,CAAQM,OAARN,GAAkB,gBAFI,CAFxBA,EAOwB,qBAApBA,CAAAA,CAAQM,OAAY,IAAqBD,CAAAA,CAAYyC,wBAAZzC,EAArB,KACtB3H,CAAAA,CAAKuF,IAALvF,CAAU,iFAAVA,GACAsH,CAAAA,CAAQM,OAARN,GAAkB,QAFI,CAPxBA;AAYA,UAAIqrB,CAAJ;AACA,UAA+B,aAA3B,CAAA,CAAOrrB,CAAAA,CAAQM,OAAf,CAAJ,EAEE+qB,CAAAA,GAAkBrrB,CAAAA,CAAQM,OAA1B+qB,CAFF,KAIE,QAAOrrB,CAAAA,CAAQM,OAAf;AACE,aAAK,cAAL;AACE+qB,UAAAA,CAAAA,GAAkBjoB,YAAlBioB;AACA;;AACF,aAAK,gBAAL;AACEA,UAAAA,CAAAA,GAAkBhoB,cAAlBgoB;AACA;;AACF,aAAK,QAAL;AACEA,UAAAA,CAAAA,GAAkBhrB,CAAAA,CAAY6C,gBAAZ7C,CAA6BN,CAAAA,CAAIC,OAAJD,CAAYU,OAAzCJ,CAAlBgrB;AACA;;AACF,aAAK,QAAL;AACEA,UAAAA,CAAAA,GAAkBhrB,CAAAA,CAAYqD,kBAAZrD,EAAlBgrB;AACA;;AACF;AACE,gBAAM,IAAIpsB,CAAJ,CAAiB,6BAAjB,CAAN;AAdJ;AAiBF,UAAIqsB,CAAAA,GAAatrB,CAAAA,CAAQsrB,UAARtrB,IAAsBH,CAAAA,CAAU0rB,kBAAjD;AAAA,UACIjrB,CAAAA,GAAUoC,CAAAA,CAAe2oB,CAAf3oB,EAAgC4oB,CAAhC5oB,CADd;AAAA,UAEIunB,CAAAA,GAAQP,CAAAA,CAASpX,MAAToX,CAAgB3pB,CAAhB2pB,EAAqB1pB,CAArB0pB,CAFZ;AAAA,UAGIK,CAAAA,GAAAA;AACFE,QAAAA,KAAAA,EAAOA,CADLF;AAEF/pB,QAAAA,OAAAA,EAASA,CAFP+pB;AAGF9R,QAAAA,OAAAA,EAASlY,CAAAA,CAAIkY,OAHX8R;AAIFM,QAAAA,cAAAA,EAAAA,EAJEN;AAKFO,QAAAA,YAAAA,EAAAA;AALEP,OAHJ;AAWAvzB,WAAKu0B,GAALv0B,GAAWkC,CAAAA,CAAKqB,IAALrB,CAAUqyB,CAAVryB,EAAelC,IAAfkC,EAAqBqH,CAArBrH,EAA0BqxB,CAA1BrxB,EAAwC4H,CAAxC5H,CAAXlC,EACAA,KAAKkB,GAALlB,GAAWkC,CAAAA,CAAKqB,IAALrB,CAAUsyB,CAAVtyB,EAAoBlC,IAApBkC,EAA0BqH,CAA1BrH,EAA+BqxB,CAA/BrxB,EAA6C4H,CAA7C5H,CADXlC,EAEAA,KAAKuN,MAALvN,GAAckC,CAAAA,CAAKqB,IAALrB,CAAUqL,CAAVrL,EAAkBlC,IAAlBkC,EAAwBqxB,CAAxBrxB,EAAsC4H,CAAtC5H,CAFdlC,EAGAA,KAAKyiB,KAALziB,GAAakC,CAAAA,CAAKqB,IAALrB,CAAUugB,CAAVvgB,EAAiBlC,IAAjBkC,EAAuBqxB,CAAvBrxB,EAAqC4H,CAArC5H,CAHblC,EAIAA,KAAKygB,KAALzgB,GAAakC,CAAAA,CAAKqB,IAALrB,CAAUue,CAAVve,EAAiBlC,IAAjBkC,EAAuBqH,CAAvBrH,EAA4BqxB,CAA5BrxB,EAA0C4H,CAA1C5H,CAJblC,EAKAA,KAAK2hB,EAAL3hB,GAAUkC,CAAAA,CAAKqB,IAALrB,CAAUqxB,CAAAA,CAAa9R,OAAb8R,CAAqB5R,EAA/Bzf,EAAmCqxB,CAAAA,CAAa9R,OAAhDvf,CALVlC,EAMAA,KAAKgqB,GAALhqB,GAAWkC,CAAAA,CAAKqB,IAALrB,CAAUqxB,CAAAA,CAAa9R,OAAb8R,CAAqBvJ,GAA/B9nB,EAAoCqxB,CAAAA,CAAa9R,OAAjDvf,CANXlC,EAQAq0B,CAAAA,CAAyB9qB,CAAzB8qB,EAA8Bd,CAA9Bc,EAA4CvqB,CAA5CuqB,CARAr0B;A3B2qJF;;AAAA,QAAI2B,CAAAA,GAAUzB,CAAAA,CAAoB,CAApBA,CAAd;AAAA,Q2B94JIgC,CAAAA,GAAOiH,CAAAA,CAAQ,CAARA,C3B84JX;AAAA,Q2B74JIV,CAAAA,GAAeU,CAAAA,CAAQ,CAARA,C3B64JnB;AAAA,Q2B54JIU,CAAAA,GAAcV,CAAAA,CAAQ,CAARA,C3B44JlB;AAAA,Q2B34JIE,CAAAA,GAAYF,CAAAA,CAAQ,CAARA,C3B24JhB;AAAA,Q2B14JI+C,CAAAA,GAAiB/C,CAAAA,CAAQ,CAARA,C3B04JrB;AAAA,Q2Bz4JI+pB,CAAAA,GAAW/pB,CAAAA,CAAQ,EAARA,C3By4Jf;AAAA,Q2Bv4JIgqB,CAAAA,GAAAA;AACFC,MAAAA,SAAAA,EAAAA,CAAW,CADTD;AAEFrpB,MAAAA,OAAAA,EAAS,cAFPqpB;AAGFE,MAAAA,kBAAAA,EAAoB;AAHlBF,K3Bu4JJ;A2BhqJAvzB,IAAAA,CAAAA,CAAOD,OAAPC,GAAiBye,CAAjBze;AAAiBye,G5B/LoC,ECumK/C,UAAUze,CAAV,EAAkBD,CAAlB,EAA2BO,CAA3B,EAA2BA;A4BlqKjC,aAASgzB,CAAT,CAAkB8B,CAAlB,EAAkBA;AAEhBh1B,WAAKg1B,WAALh1B,GAAmBi1B,QAAAA,CAASD,CAAAA,IAAe,CAAxBC,CAAnBj1B;AAJSmJ;;AAAAA,IAAAA,CAAAA,CAAQ,CAARA,CAAAA,CAONzD,MAPMyD,CAOC+pB,CAAAA,CAAS3xB,SAPV4H,EAOU5H;AAEnB+I,MAAAA,GAAAA,EAAK,YAAA;AAEH,eAAA,CADW3F,IAAAA,CAAK2F,GAAL3F,KAAa3E,KAAKg1B,WAC7B,IAD4C,GAC5C;AAD4C;AAH3BzzB,KAPV4H,GAgBX+pB,CAAAA,CAASpX,MAAToX,GAAkB,YAAA;AAGhB,aAAO,IAAIA,CAAJ,CADW,CACX,CAAP;AADkB,KAlBT/pB,EAsBXvJ,CAAAA,CAAOD,OAAPC,GAAiBszB,CAtBN/pB;AAsBM+pB,G7BuCoC,C,CDnDrD;A8BYiBA,C9BtBjB,C","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"OktaAuth\"] = factory();\n\telse\n\t\troot[\"OktaAuth\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ce5fbd9ba49ba2b631a9","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"OktaAuth\"] = factory();\n\telse\n\t\troot[\"OktaAuth\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 11);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* global window, document, btoa, atob, Uint8Array */\nvar util = module.exports; // converts a string to base64 (url/filename safe variant)\n\nutil.stringToBase64Url = function (str) {\n  var b64 = btoa(str);\n  return util.base64ToBase64Url(b64);\n}; // converts a standard base64-encoded string to a \"url/filename safe\" variant\n\n\nutil.base64ToBase64Url = function (b64) {\n  return b64.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n}; // converts a \"url/filename safe\" base64 string to a \"standard\" base64 string\n\n\nutil.base64UrlToBase64 = function (b64u) {\n  return b64u.replace(/-/g, '+').replace(/_/g, '/');\n};\n\nutil.base64UrlToString = function (b64u) {\n  var b64 = util.base64UrlToBase64(b64u);\n\n  switch (b64.length % 4) {\n    case 0:\n      break;\n\n    case 2:\n      b64 += '==';\n      break;\n\n    case 3:\n      b64 += '=';\n      break;\n\n    default:\n      throw 'Not a valid Base64Url';\n  }\n\n  var utf8 = atob(b64);\n\n  try {\n    return decodeURIComponent(escape(utf8));\n  } catch (e) {\n    return utf8;\n  }\n};\n\nutil.stringToBuffer = function (str) {\n  var buffer = new Uint8Array(str.length);\n\n  for (var i = 0; i < str.length; i++) {\n    buffer[i] = str.charCodeAt(i);\n  }\n\n  return buffer;\n};\n\nutil.base64UrlDecode = function (str) {\n  return atob(util.base64UrlToBase64(str));\n};\n\nutil.bind = function (fn, ctx) {\n  var additionalArgs = Array.prototype.slice.call(arguments, 2);\n  return function () {\n    var args = Array.prototype.slice.call(arguments);\n    args = additionalArgs.concat(args);\n    return fn.apply(ctx, args);\n  };\n};\n\nutil.isAbsoluteUrl = function (url) {\n  return /^(?:[a-z]+:)?\\/\\//i.test(url);\n};\n\nutil.isString = function (obj) {\n  return Object.prototype.toString.call(obj) === '[object String]';\n};\n\nutil.isObject = function (obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n};\n\nutil.isNumber = function (obj) {\n  return Object.prototype.toString.call(obj) === '[object Number]';\n};\n\nutil.isoToUTCString = function (str) {\n  var parts = str.match(/\\d+/g),\n      isoTime = Date.UTC(parts[0], parts[1] - 1, parts[2], parts[3], parts[4], parts[5]),\n      isoDate = new Date(isoTime);\n  return isoDate.toUTCString();\n};\n\nutil.toQueryParams = function (obj) {\n  var str = [];\n\n  if (obj !== null) {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] !== undefined && obj[key] !== null) {\n        str.push(key + '=' + encodeURIComponent(obj[key]));\n      }\n    }\n  }\n\n  if (str.length) {\n    return '?' + str.join('&');\n  } else {\n    return '';\n  }\n};\n\nutil.genRandomString = function (length) {\n  var randomCharset = 'abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n  var random = '';\n\n  for (var c = 0, cl = randomCharset.length; c < length; ++c) {\n    random += randomCharset[Math.floor(Math.random() * cl)];\n  }\n\n  return random;\n};\n\nutil.extend = function () {\n  // First object will be modified!\n  var obj1 = arguments[0]; // Properties from other objects will be copied over\n\n  var objArray = [].slice.call(arguments, 1);\n  objArray.forEach(function (obj) {\n    for (var prop in obj) {\n      // copy over all properties with defined values\n      if (obj.hasOwnProperty(prop) && obj[prop] !== undefined) {\n        obj1[prop] = obj[prop];\n      }\n    }\n  });\n  return obj1; // return the modified object\n};\n\nutil.removeNils = function (obj) {\n  var cleaned = {};\n\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      var value = obj[prop];\n\n      if (value !== null && value !== undefined) {\n        cleaned[prop] = value;\n      }\n    }\n  }\n\n  return cleaned;\n};\n\nutil.clone = function (obj) {\n  if (obj) {\n    var str = JSON.stringify(obj);\n\n    if (str) {\n      return JSON.parse(str);\n    }\n  }\n\n  return obj;\n}; // Analogous to _.omit\n\n\nutil.omit = function (obj) {\n  var props = Array.prototype.slice.call(arguments, 1);\n  var newobj = {};\n\n  for (var p in obj) {\n    if (obj.hasOwnProperty(p) && props.indexOf(p) == -1) {\n      newobj[p] = obj[p];\n    }\n  }\n\n  return util.clone(newobj);\n};\n\nutil.find = function (collection, searchParams) {\n  var c = collection.length;\n\n  while (c--) {\n    var item = collection[c];\n    var found = true;\n\n    for (var prop in searchParams) {\n      if (!searchParams.hasOwnProperty(prop)) {\n        continue;\n      }\n\n      if (item[prop] !== searchParams[prop]) {\n        found = false;\n        break;\n      }\n    }\n\n    if (found) {\n      return item;\n    }\n  }\n};\n\nutil.getLink = function (obj, linkName, altName) {\n  if (!obj || !obj._links) {\n    return;\n  }\n\n  var link = util.clone(obj._links[linkName]); // If a link has a name and we have an altName, return if they match\n\n  if (link && link.name && altName) {\n    if (link.name === altName) {\n      return link;\n    }\n  } else {\n    return link;\n  }\n};\n\nutil.getNativeConsole = function () {\n  if (typeof window !== 'undefined') {\n    return window.console;\n  } else if (typeof console !== 'undefined') {\n    return console;\n  } else {\n    return undefined;\n  }\n};\n\nutil.getConsole = function () {\n  var nativeConsole = util.getNativeConsole();\n\n  if (nativeConsole && nativeConsole.log) {\n    return nativeConsole;\n  }\n\n  return {\n    log: function log() {}\n  };\n};\n\nutil.warn = function (text) {\n  /* eslint-disable no-console */\n  util.getConsole().log('[okta-auth-sdk] WARN: ' + text);\n  /* eslint-enable */\n};\n\nutil.deprecate = function (text) {\n  /* eslint-disable no-console */\n  util.getConsole().log('[okta-auth-sdk] DEPRECATION: ' + text);\n  /* eslint-enable */\n};\n\nutil.deprecateWrap = function (text, fn) {\n  return function () {\n    util.deprecate(text);\n    return fn.apply(null, arguments);\n  };\n};\n\nutil.removeTrailingSlash = function (path) {\n  if (!path) {\n    return;\n  } // Remove any whitespace before or after string\n\n\n  var trimmed = path.replace(/^\\s+|\\s+$/gm, ''); // Remove trailing slash(es)\n\n  trimmed = trimmed.replace(/\\/+$/, '');\n  return trimmed;\n};\n\nutil.isIE11OrLess = function () {\n  return !!document.documentMode && document.documentMode <= 11;\n};\n\nutil.isFunction = function (fn) {\n  return !!fn && {}.toString.call(fn) === '[object Function]';\n};\n\nutil.delay = function (ms) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, ms);\n  });\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nfunction AuthSdkError(msg, xhr) {\n  this.name = 'AuthSdkError';\n  this.message = msg;\n  this.errorCode = 'INTERNAL';\n  this.errorSummary = msg;\n  this.errorLink = 'INTERNAL';\n  this.errorId = 'INTERNAL';\n  this.errorCauses = [];\n\n  if (xhr) {\n    this.xhr = xhr;\n  }\n}\n\nAuthSdkError.prototype = new Error();\nmodule.exports = AuthSdkError;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n  'STATE_TOKEN_KEY_NAME': 'oktaStateToken',\n  'DEFAULT_POLLING_DELAY': 500,\n  'DEFAULT_MAX_CLOCK_SKEW': 300,\n  'DEFAULT_CACHE_DURATION': 86400,\n  'REDIRECT_OAUTH_PARAMS_COOKIE_NAME': 'okta-oauth-redirect-params',\n  'REDIRECT_STATE_COOKIE_NAME': 'okta-oauth-state',\n  'REDIRECT_NONCE_COOKIE_NAME': 'okta-oauth-nonce',\n  'TOKEN_STORAGE_NAME': 'okta-token-storage',\n  'CACHE_STORAGE_NAME': 'okta-cache-storage',\n  'PKCE_STORAGE_NAME': 'okta-pkce-storage'\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity */\nvar util = __webpack_require__(0);\n\nvar AuthApiError = __webpack_require__(19);\n\nvar constants = __webpack_require__(2);\n\nfunction httpRequest(sdk, options) {\n  options = options || {};\n  var url = options.url,\n      method = options.method,\n      args = options.args,\n      saveAuthnState = options.saveAuthnState,\n      accessToken = options.accessToken,\n      withCredentials = options.withCredentials !== false,\n      // default value is true\n  storageUtil = sdk.options.storageUtil,\n      storage = storageUtil.storage,\n      httpCache = storageUtil.getHttpCache(sdk.options.cookies);\n\n  if (options.cacheResponse) {\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[url];\n\n    if (cachedResponse && Date.now() / 1000 < cachedResponse.expiresAt) {\n      return Promise.resolve(cachedResponse.response);\n    }\n  }\n\n  var headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'X-Okta-User-Agent-Extended': sdk.userAgent\n  };\n  util.extend(headers, sdk.options.headers, options.headers);\n\n  if (accessToken && util.isString(accessToken)) {\n    headers['Authorization'] = 'Bearer ' + accessToken;\n  }\n\n  var ajaxOptions = {\n    headers: headers,\n    data: args || undefined,\n    withCredentials: withCredentials\n  };\n  var err, res;\n  return sdk.options.httpRequestClient(method, url, ajaxOptions).then(function (resp) {\n    res = resp.responseText;\n\n    if (res && util.isString(res)) {\n      res = JSON.parse(res);\n    }\n\n    if (saveAuthnState) {\n      if (!res.stateToken) {\n        storage.delete(constants.STATE_TOKEN_KEY_NAME);\n      }\n    }\n\n    if (res && res.stateToken && res.expiresAt) {\n      storage.set(constants.STATE_TOKEN_KEY_NAME, res.stateToken, res.expiresAt, sdk.options.cookies);\n    }\n\n    if (res && options.cacheResponse) {\n      httpCache.updateStorage(url, {\n        expiresAt: Math.floor(Date.now() / 1000) + constants.DEFAULT_CACHE_DURATION,\n        response: res\n      });\n    }\n\n    return res;\n  }).catch(function (resp) {\n    var serverErr = resp.responseText || {};\n\n    if (util.isString(serverErr)) {\n      try {\n        serverErr = JSON.parse(serverErr);\n      } catch (e) {\n        serverErr = {\n          errorSummary: 'Unknown error'\n        };\n      }\n    }\n\n    if (resp.status >= 500) {\n      serverErr.errorSummary = 'Unknown error';\n    }\n\n    if (sdk.options.transformErrorXHR) {\n      resp = sdk.options.transformErrorXHR(util.clone(resp));\n    }\n\n    err = new AuthApiError(serverErr, resp);\n\n    if (err.errorCode === 'E0000011') {\n      storage.delete(constants.STATE_TOKEN_KEY_NAME);\n    }\n\n    throw err;\n  });\n}\n\nfunction get(sdk, url, options) {\n  url = util.isAbsoluteUrl(url) ? url : sdk.getIssuerOrigin() + url;\n  var getOptions = {\n    url: url,\n    method: 'GET'\n  };\n  util.extend(getOptions, options);\n  return httpRequest(sdk, getOptions);\n}\n\nfunction post(sdk, url, args, options) {\n  url = util.isAbsoluteUrl(url) ? url : sdk.getIssuerOrigin() + url;\n  var postOptions = {\n    url: url,\n    method: 'POST',\n    args: args,\n    saveAuthnState: true\n  };\n  util.extend(postOptions, options);\n  return httpRequest(sdk, postOptions);\n}\n\nmodule.exports = {\n  get: get,\n  post: post,\n  httpRequest: httpRequest\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* global localStorage, sessionStorage */\nvar Cookies = __webpack_require__(14);\n\nvar storageBuilder = __webpack_require__(6);\n\nvar constants = __webpack_require__(2);\n\nvar AuthSdkError = __webpack_require__(1); // Building this as an object allows us to mock the functions in our tests\n\n\nvar storageUtil = {}; // IE11 bug that Microsoft doesn't plan to fix\n// https://connect.microsoft.com/IE/Feedback/Details/1496040\n\nstorageUtil.browserHasLocalStorage = function () {\n  try {\n    var storage = storageUtil.getLocalStorage();\n    return storageUtil.testStorage(storage);\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.browserHasSessionStorage = function () {\n  try {\n    var storage = storageUtil.getSessionStorage();\n    return storageUtil.testStorage(storage);\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.getPKCEStorage = function (options) {\n  if (storageUtil.browserHasLocalStorage()) {\n    return storageBuilder(storageUtil.getLocalStorage(), constants.PKCE_STORAGE_NAME);\n  } else if (storageUtil.browserHasSessionStorage()) {\n    return storageBuilder(storageUtil.getSessionStorage(), constants.PKCE_STORAGE_NAME);\n  } else {\n    return storageBuilder(storageUtil.getCookieStorage(options), constants.PKCE_STORAGE_NAME);\n  }\n};\n\nstorageUtil.getHttpCache = function (options) {\n  if (storageUtil.browserHasLocalStorage()) {\n    return storageBuilder(storageUtil.getLocalStorage(), constants.CACHE_STORAGE_NAME);\n  } else if (storageUtil.browserHasSessionStorage()) {\n    return storageBuilder(storageUtil.getSessionStorage(), constants.CACHE_STORAGE_NAME);\n  } else {\n    return storageBuilder(storageUtil.getCookieStorage(options), constants.CACHE_STORAGE_NAME);\n  }\n};\n\nstorageUtil.getLocalStorage = function () {\n  return localStorage;\n};\n\nstorageUtil.getSessionStorage = function () {\n  return sessionStorage;\n}; // Provides webStorage-like interface for cookies\n\n\nstorageUtil.getCookieStorage = function (options) {\n  var secure = options.secure;\n  var sameSite = options.sameSite;\n\n  if (typeof secure === 'undefined' || typeof sameSite === 'undefined') {\n    throw new AuthSdkError('getCookieStorage: \"secure\" and \"sameSite\" options must be provided');\n  }\n\n  return {\n    getItem: storageUtil.storage.get,\n    setItem: function setItem(key, value) {\n      // Cookie shouldn't expire\n      storageUtil.storage.set(key, value, '2200-01-01T00:00:00.000Z', {\n        secure: secure,\n        sameSite: sameSite\n      });\n    }\n  };\n}; // Provides an in-memory solution\n\n\nstorageUtil.getInMemoryStorage = function () {\n  var store = {};\n  return {\n    getItem: function getItem(key) {\n      return store[key];\n    },\n    setItem: function setItem(key, value) {\n      store[key] = value;\n    }\n  };\n};\n\nstorageUtil.testStorage = function (storage) {\n  var key = 'okta-test-storage';\n\n  try {\n    storage.setItem(key, key);\n    storage.removeItem(key);\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.storage = {\n  set: function set(name, value, expiresAt, options) {\n    var secure = options.secure;\n    var sameSite = options.sameSite;\n\n    if (typeof secure === 'undefined' || typeof sameSite === 'undefined') {\n      throw new AuthSdkError('storage.set: \"secure\" and \"sameSite\" options must be provided');\n    }\n\n    var cookieOptions = {\n      path: options.path || '/',\n      secure: secure,\n      sameSite: sameSite\n    }; // eslint-disable-next-line no-extra-boolean-cast\n\n    if (!!Date.parse(expiresAt)) {\n      // Expires value can be converted to a Date object.\n      //\n      // If the 'expiresAt' value is not provided, or the value cannot be\n      // parsed as a Date object, the cookie will set as a session cookie.\n      cookieOptions.expires = new Date(expiresAt);\n    }\n\n    Cookies.set(name, value, cookieOptions);\n    return storageUtil.storage.get(name);\n  },\n  get: function get(name) {\n    return Cookies.get(name);\n  },\n  delete: function _delete(name) {\n    return Cookies.remove(name, {\n      path: '/'\n    });\n  }\n};\nmodule.exports = storageUtil;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nvar AuthSdkError = __webpack_require__(1); // storage must have getItem and setItem\n\n\nfunction storageBuilder(webstorage, storageName) {\n  if (typeof storageName !== 'string' || !storageName.length) {\n    throw new AuthSdkError('\"storageName\" is required');\n  }\n\n  function getStorage() {\n    var storageString = webstorage.getItem(storageName);\n    storageString = storageString || '{}';\n\n    try {\n      return JSON.parse(storageString);\n    } catch (e) {\n      throw new AuthSdkError('Unable to parse storage string: ' + storageName);\n    }\n  }\n\n  function setStorage(storage) {\n    try {\n      var storageString = JSON.stringify(storage);\n      webstorage.setItem(storageName, storageString);\n    } catch (e) {\n      throw new AuthSdkError('Unable to set storage: ' + storageName);\n    }\n  }\n\n  function clearStorage(key) {\n    if (!key) {\n      return setStorage({});\n    }\n\n    var storage = getStorage();\n    delete storage[key];\n    setStorage(storage);\n  }\n\n  function updateStorage(key, value) {\n    var storage = getStorage();\n    storage[key] = value;\n    setStorage(storage);\n  }\n\n  return {\n    getStorage: getStorage,\n    setStorage: setStorage,\n    clearStorage: clearStorage,\n    updateStorage: updateStorage\n  };\n}\n\nmodule.exports = storageBuilder;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(16);\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity, max-statements */\nvar http = __webpack_require__(3);\n\nvar util = __webpack_require__(0);\n\nvar AuthSdkError = __webpack_require__(1);\n\nvar AuthPollStopError = __webpack_require__(20);\n\nvar constants = __webpack_require__(2);\n\nfunction addStateToken(res, options) {\n  var builtArgs = {};\n  util.extend(builtArgs, options); // Add the stateToken if one isn't passed and we have one\n\n  if (!builtArgs.stateToken && res.stateToken) {\n    builtArgs.stateToken = res.stateToken;\n  }\n\n  return builtArgs;\n}\n\nfunction getStateToken(res) {\n  return addStateToken(res);\n}\n\nfunction transactionStatus(sdk, args) {\n  args = addStateToken(sdk, args);\n  return http.post(sdk, sdk.getIssuerOrigin() + '/api/v1/authn', args);\n}\n\nfunction resumeTransaction(sdk, args) {\n  if (!args || !args.stateToken) {\n    var stateToken = sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n\n    if (stateToken) {\n      args = {\n        stateToken: stateToken\n      };\n    } else {\n      return Promise.reject(new AuthSdkError('No transaction to resume'));\n    }\n  }\n\n  return sdk.tx.status(args).then(function (res) {\n    return new AuthTransaction(sdk, res);\n  });\n}\n\nfunction introspect(sdk, args) {\n  if (!args || !args.stateToken) {\n    var stateToken = sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n\n    if (stateToken) {\n      args = {\n        stateToken: stateToken\n      };\n    } else {\n      return Promise.reject(new AuthSdkError('No transaction to evaluate'));\n    }\n  }\n\n  return transactionStep(sdk, args).then(function (res) {\n    return new AuthTransaction(sdk, res);\n  });\n}\n\nfunction transactionStep(sdk, args) {\n  args = addStateToken(sdk, args); // v1 pipeline introspect API\n\n  return http.post(sdk, sdk.getIssuerOrigin() + '/api/v1/authn/introspect', args);\n}\n\nfunction transactionExists(sdk) {\n  // We have a cookie state token\n  return !!sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n}\n\nfunction postToTransaction(sdk, url, args, options) {\n  return http.post(sdk, url, args, options).then(function (res) {\n    return new AuthTransaction(sdk, res);\n  });\n}\n\nfunction getPollFn(sdk, res, ref) {\n  return function (options) {\n    var delay;\n    var rememberDevice;\n    var autoPush;\n    var transactionCallBack;\n\n    if (util.isNumber(options)) {\n      delay = options;\n    } else if (util.isObject(options)) {\n      delay = options.delay;\n      rememberDevice = options.rememberDevice;\n      autoPush = options.autoPush;\n      transactionCallBack = options.transactionCallBack;\n    }\n\n    if (!delay && delay !== 0) {\n      delay = constants.DEFAULT_POLLING_DELAY;\n    } // Get the poll function\n\n\n    var pollLink = util.getLink(res, 'next', 'poll');\n\n    function pollFn() {\n      var opts = {};\n\n      if (typeof autoPush === 'function') {\n        try {\n          opts.autoPush = !!autoPush();\n        } catch (e) {\n          return Promise.reject(new AuthSdkError('AutoPush resulted in an error.'));\n        }\n      } else if (autoPush !== undefined && autoPush !== null) {\n        opts.autoPush = !!autoPush;\n      }\n\n      if (typeof rememberDevice === 'function') {\n        try {\n          opts.rememberDevice = !!rememberDevice();\n        } catch (e) {\n          return Promise.reject(new AuthSdkError('RememberDevice resulted in an error.'));\n        }\n      } else if (rememberDevice !== undefined && rememberDevice !== null) {\n        opts.rememberDevice = !!rememberDevice;\n      }\n\n      var href = pollLink.href + util.toQueryParams(opts);\n      return http.post(sdk, href, getStateToken(res), {\n        saveAuthnState: false\n      });\n    }\n\n    ref.isPolling = true;\n    var retryCount = 0;\n\n    var recursivePoll = function recursivePoll() {\n      // If the poll was manually stopped during the delay\n      if (!ref.isPolling) {\n        return Promise.reject(new AuthPollStopError());\n      }\n\n      return pollFn().then(function (pollRes) {\n        // Reset our retry counter on success\n        retryCount = 0; // If we're still waiting\n\n        if (pollRes.factorResult && pollRes.factorResult === 'WAITING') {\n          // If the poll was manually stopped while the pollFn was called\n          if (!ref.isPolling) {\n            throw new AuthPollStopError();\n          }\n\n          if (typeof transactionCallBack === 'function') {\n            transactionCallBack(pollRes);\n          } // Continue poll\n\n\n          return util.delay(delay).then(recursivePoll);\n        } else {\n          // Any non-waiting result, even if polling was stopped\n          // during a request, will return\n          ref.isPolling = false;\n          return new AuthTransaction(sdk, pollRes);\n        }\n      }).catch(function (err) {\n        // Exponential backoff, up to 16 seconds\n        if (err.xhr && (err.xhr.status === 0 || err.xhr.status === 429) && retryCount <= 4) {\n          var delayLength = Math.pow(2, retryCount) * 1000;\n          retryCount++;\n          return util.delay(delayLength).then(recursivePoll);\n        }\n\n        throw err;\n      });\n    };\n\n    return recursivePoll().catch(function (err) {\n      ref.isPolling = false;\n      throw err;\n    });\n  };\n}\n\nfunction link2fn(sdk, res, obj, link, ref) {\n  if (Array.isArray(link)) {\n    return function (name, opts) {\n      if (!name) {\n        throw new AuthSdkError('Must provide a link name');\n      }\n\n      var lk = util.find(link, {\n        name: name\n      });\n\n      if (!lk) {\n        throw new AuthSdkError('No link found for that name');\n      }\n\n      return link2fn(sdk, res, obj, lk, ref)(opts);\n    };\n  } else if (link.hints && link.hints.allow && link.hints.allow.length === 1) {\n    var method = link.hints.allow[0];\n\n    switch (method) {\n      case 'GET':\n        return function () {\n          return http.get(sdk, link.href);\n        };\n\n      case 'POST':\n        return function (opts) {\n          if (ref && ref.isPolling) {\n            ref.isPolling = false;\n          }\n\n          var data = addStateToken(res, opts);\n\n          if (res.status === 'MFA_ENROLL' || res.status === 'FACTOR_ENROLL') {\n            // Add factorType and provider\n            util.extend(data, {\n              factorType: obj.factorType,\n              provider: obj.provider\n            });\n          }\n\n          var params = {};\n          var autoPush = data.autoPush;\n\n          if (autoPush !== undefined) {\n            if (typeof autoPush === 'function') {\n              try {\n                params.autoPush = !!autoPush();\n              } catch (e) {\n                return Promise.reject(new AuthSdkError('AutoPush resulted in an error.'));\n              }\n            } else if (autoPush !== null) {\n              params.autoPush = !!autoPush;\n            }\n\n            data = util.omit(data, 'autoPush');\n          }\n\n          var rememberDevice = data.rememberDevice;\n\n          if (rememberDevice !== undefined) {\n            if (typeof rememberDevice === 'function') {\n              try {\n                params.rememberDevice = !!rememberDevice();\n              } catch (e) {\n                return Promise.reject(new AuthSdkError('RememberDevice resulted in an error.'));\n              }\n            } else if (rememberDevice !== null) {\n              params.rememberDevice = !!rememberDevice;\n            }\n\n            data = util.omit(data, 'rememberDevice');\n          } else if (data.profile && data.profile.updatePhone !== undefined) {\n            if (data.profile.updatePhone) {\n              params.updatePhone = true;\n            }\n\n            data.profile = util.omit(data.profile, 'updatePhone');\n          }\n\n          var href = link.href + util.toQueryParams(params);\n          return postToTransaction(sdk, href, data);\n        };\n    }\n  }\n}\n\nfunction links2fns(sdk, res, obj, ref) {\n  var fns = {};\n\n  for (var linkName in obj._links) {\n    if (!obj._links.hasOwnProperty(linkName)) {\n      continue;\n    }\n\n    var link = obj._links[linkName];\n\n    if (linkName === 'next') {\n      linkName = link.name;\n    }\n\n    if (link.type) {\n      fns[linkName] = link;\n      continue;\n    }\n\n    switch (linkName) {\n      // poll is only found at the transaction\n      // level, so we don't need to pass the link\n      case 'poll':\n        fns.poll = getPollFn(sdk, res, ref);\n        break;\n\n      default:\n        var fn = link2fn(sdk, res, obj, link, ref);\n\n        if (fn) {\n          fns[linkName] = fn;\n        }\n\n    }\n  }\n\n  return fns;\n}\n\nfunction flattenEmbedded(sdk, res, obj, ref) {\n  obj = obj || res;\n  obj = util.clone(obj);\n\n  if (Array.isArray(obj)) {\n    var objArr = [];\n\n    for (var o = 0, ol = obj.length; o < ol; o++) {\n      objArr.push(flattenEmbedded(sdk, res, obj[o], ref));\n    }\n\n    return objArr;\n  }\n\n  var embedded = obj._embedded || {};\n\n  for (var key in embedded) {\n    if (!embedded.hasOwnProperty(key)) {\n      continue;\n    } // Flatten any nested _embedded objects\n\n\n    if (util.isObject(embedded[key]) || Array.isArray(embedded[key])) {\n      embedded[key] = flattenEmbedded(sdk, res, embedded[key], ref);\n    }\n  } // Convert any links on the embedded object\n\n\n  var fns = links2fns(sdk, res, obj, ref);\n  util.extend(embedded, fns);\n  obj = util.omit(obj, '_embedded', '_links');\n  util.extend(obj, embedded);\n  return obj;\n}\n\nfunction AuthTransaction(sdk, res) {\n  if (res) {\n    this.data = res;\n    util.extend(this, flattenEmbedded(sdk, res, res, {}));\n    delete this.stateToken; // RECOVERY_CHALLENGE has some responses without _links.\n    // Without _links, we emulate cancel to make it intuitive\n    // to return to the starting state. We may remove this\n    // when OKTA-75434 is resolved\n\n    if (res.status === 'RECOVERY_CHALLENGE' && !res._links) {\n      this.cancel = function () {\n        return Promise.resolve(new AuthTransaction(sdk));\n      };\n    }\n  }\n}\n\nmodule.exports = {\n  transactionStatus: transactionStatus,\n  resumeTransaction: resumeTransaction,\n  transactionExists: transactionExists,\n  postToTransaction: postToTransaction,\n  introspect: introspect\n};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* global window, document */\n\n/* eslint-disable complexity, max-statements */\nvar http = __webpack_require__(3);\n\nvar util = __webpack_require__(0);\n\nvar storageUtil = __webpack_require__(4);\n\nvar AuthSdkError = __webpack_require__(1);\n\nfunction generateState() {\n  return util.genRandomString(64);\n}\n\nfunction generateNonce() {\n  return util.genRandomString(64);\n}\n\nfunction isToken(obj) {\n  if (obj && (obj.accessToken || obj.idToken) && Array.isArray(obj.scopes)) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction addListener(eventTarget, name, fn) {\n  if (eventTarget.addEventListener) {\n    eventTarget.addEventListener(name, fn);\n  } else {\n    eventTarget.attachEvent('on' + name, fn);\n  }\n}\n\nfunction removeListener(eventTarget, name, fn) {\n  if (eventTarget.removeEventListener) {\n    eventTarget.removeEventListener(name, fn);\n  } else {\n    eventTarget.detachEvent('on' + name, fn);\n  }\n}\n\nfunction loadFrame(src) {\n  var iframe = document.createElement('iframe');\n  iframe.style.display = 'none';\n  iframe.src = src;\n  return document.body.appendChild(iframe);\n}\n\nfunction loadPopup(src, options) {\n  var title = options.popupTitle || 'External Identity Provider User Authentication';\n  var appearance = 'toolbar=no, scrollbars=yes, resizable=yes, ' + 'top=100, left=500, width=600, height=600';\n\n  if (util.isIE11OrLess()) {\n    // IE<=11 doesn't fully support postMessage at time of writting.\n    // the following simple solution happened to solve the issue\n    // without adding another proxy layer which makes flow more complecated.\n    var winEl = window.open('/', title, appearance);\n    winEl.location.href = src;\n    return winEl;\n  } else {\n    return window.open(src, title, appearance);\n  }\n}\n\nfunction getWellKnown(sdk, issuer) {\n  var authServerUri = issuer || sdk.options.issuer;\n  return http.get(sdk, authServerUri + '/.well-known/openid-configuration', {\n    cacheResponse: true\n  });\n}\n\nfunction getKey(sdk, issuer, kid) {\n  var httpCache = storageUtil.getHttpCache(sdk.options.cookies);\n  return getWellKnown(sdk, issuer).then(function (wellKnown) {\n    var jwksUri = wellKnown['jwks_uri']; // Check our kid against the cached version (if it exists and isn't expired)\n\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[jwksUri];\n\n    if (cachedResponse && Date.now() / 1000 < cachedResponse.expiresAt) {\n      var cachedKey = util.find(cachedResponse.response.keys, {\n        kid: kid\n      });\n\n      if (cachedKey) {\n        return cachedKey;\n      }\n    } // Remove cache for the key\n\n\n    httpCache.clearStorage(jwksUri); // Pull the latest keys if the key wasn't in the cache\n\n    return http.get(sdk, jwksUri, {\n      cacheResponse: true\n    }).then(function (res) {\n      var key = util.find(res.keys, {\n        kid: kid\n      });\n\n      if (key) {\n        return key;\n      }\n\n      throw new AuthSdkError('The key id, ' + kid + ', was not found in the server\\'s keys');\n    });\n  });\n}\n\nfunction validateClaims(sdk, claims, validationParams) {\n  var aud = validationParams.clientId;\n  var iss = validationParams.issuer;\n  var nonce = validationParams.nonce;\n\n  if (!claims || !iss || !aud) {\n    throw new AuthSdkError('The jwt, iss, and aud arguments are all required');\n  }\n\n  if (nonce && claims.nonce !== nonce) {\n    throw new AuthSdkError('OAuth flow response nonce doesn\\'t match request nonce');\n  }\n\n  var now = Math.floor(Date.now() / 1000);\n\n  if (claims.iss !== iss) {\n    throw new AuthSdkError('The issuer [' + claims.iss + '] ' + 'does not match [' + iss + ']');\n  }\n\n  if (claims.aud !== aud) {\n    throw new AuthSdkError('The audience [' + claims.aud + '] ' + 'does not match [' + aud + ']');\n  }\n\n  if (claims.iat > claims.exp) {\n    throw new AuthSdkError('The JWT expired before it was issued');\n  }\n\n  if (now - sdk.options.maxClockSkew > claims.exp) {\n    throw new AuthSdkError('The JWT expired and is no longer valid');\n  }\n\n  if (claims.iat > now + sdk.options.maxClockSkew) {\n    throw new AuthSdkError('The JWT was issued in the future');\n  }\n}\n\nfunction getOAuthUrls(sdk, options) {\n  if (arguments.length > 2) {\n    throw new AuthSdkError('As of version 3.0, \"getOAuthUrls\" takes only a single set of options');\n  }\n\n  options = options || {}; // Get user-supplied arguments\n\n  var authorizeUrl = util.removeTrailingSlash(options.authorizeUrl) || sdk.options.authorizeUrl;\n  var issuer = util.removeTrailingSlash(options.issuer) || sdk.options.issuer;\n  var userinfoUrl = util.removeTrailingSlash(options.userinfoUrl) || sdk.options.userinfoUrl;\n  var tokenUrl = util.removeTrailingSlash(options.tokenUrl) || sdk.options.tokenUrl;\n  var logoutUrl = util.removeTrailingSlash(options.logoutUrl) || sdk.options.logoutUrl;\n  var revokeUrl = util.removeTrailingSlash(options.revokeUrl) || sdk.options.revokeUrl;\n  var baseUrl = issuer.indexOf('/oauth2') > 0 ? issuer : issuer + '/oauth2';\n  authorizeUrl = authorizeUrl || baseUrl + '/v1/authorize';\n  userinfoUrl = userinfoUrl || baseUrl + '/v1/userinfo';\n  tokenUrl = tokenUrl || baseUrl + '/v1/token';\n  revokeUrl = revokeUrl || baseUrl + '/v1/revoke';\n  logoutUrl = logoutUrl || baseUrl + '/v1/logout';\n  return {\n    issuer: issuer,\n    authorizeUrl: authorizeUrl,\n    userinfoUrl: userinfoUrl,\n    tokenUrl: tokenUrl,\n    revokeUrl: revokeUrl,\n    logoutUrl: logoutUrl\n  };\n}\n\nfunction urlParamsToObject(hashOrSearch) {\n  // Predefine regexs for parsing hash\n  var plus2space = /\\+/g;\n  var paramSplit = /([^&=]+)=?([^&]*)/g;\n  var fragment = hashOrSearch; // Some hash based routers will automatically add a / character after the hash\n\n  if (fragment.charAt(0) === '#' && fragment.charAt(1) === '/') {\n    fragment = fragment.substring(2);\n  } // Remove the leading # or ?\n\n\n  if (fragment.charAt(0) === '#' || fragment.charAt(0) === '?') {\n    fragment = fragment.substring(1);\n  }\n\n  var obj = {}; // Loop until we have no more params\n\n  var param;\n\n  while (true) {\n    // eslint-disable-line no-constant-condition\n    param = paramSplit.exec(fragment);\n\n    if (!param) {\n      break;\n    }\n\n    var key = param[1];\n    var value = param[2]; // id_token should remain base64url encoded\n\n    if (key === 'id_token' || key === 'access_token' || key === 'code') {\n      obj[key] = value;\n    } else {\n      obj[key] = decodeURIComponent(value.replace(plus2space, ' '));\n    }\n  }\n\n  return obj;\n}\n\nmodule.exports = {\n  generateState: generateState,\n  generateNonce: generateNonce,\n  getWellKnown: getWellKnown,\n  getKey: getKey,\n  validateClaims: validateClaims,\n  getOAuthUrls: getOAuthUrls,\n  loadFrame: loadFrame,\n  loadPopup: loadPopup,\n  urlParamsToObject: urlParamsToObject,\n  isToken: isToken,\n  addListener: addListener,\n  removeListener: removeListener\n};\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nvar fetchRequest = __webpack_require__(12);\n\nvar storageUtil = __webpack_require__(4);\n\nmodule.exports = __webpack_require__(15)(storageUtil, fetchRequest);\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _typeof = __webpack_require__(5);\n\n/*!\n * Copyright (c) 2018-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nvar fetch = __webpack_require__(13);\n\nfunction readData(response) {\n  if (response.headers.get('Content-Type') && response.headers.get('Content-Type').toLowerCase().indexOf('application/json') >= 0) {\n    return response.json() // JSON parse can fail if response is not a valid object\n    .catch(function (e) {\n      return {\n        error: e,\n        errorSummary: 'Could not parse server response'\n      };\n    });\n  } else {\n    return response.text();\n  }\n}\n\nfunction formatResult(status, data) {\n  var isObject = _typeof(data) === 'object';\n  var result = {\n    responseText: isObject ? JSON.stringify(data) : data,\n    status: status\n  };\n\n  if (isObject) {\n    result.responseType = 'json';\n    result.responseJSON = data;\n  }\n\n  return result;\n}\n/* eslint-disable complexity */\n\n\nfunction fetchRequest(method, url, args) {\n  var body = args.data;\n  var headers = args.headers || {};\n  var contentType = headers['Content-Type'] || headers['content-type'] || ''; // JSON encode body (if appropriate)\n\n  if (contentType === 'application/json' && body && typeof body !== 'string') {\n    body = JSON.stringify(body);\n  }\n\n  var fetchPromise = fetch(url, {\n    method: method,\n    headers: args.headers,\n    body: body,\n    credentials: args.withCredentials ? 'include' : 'omit'\n  }).then(function (response) {\n    var error = !response.ok;\n    var status = response.status;\n    return readData(response).then(function (data) {\n      return formatResult(status, data);\n    }).then(function (result) {\n      if (error) {\n        // Throwing result object since error handling is done in http.js\n        throw result;\n      }\n\n      return result;\n    });\n  });\n  return fetchPromise;\n}\n\nmodule.exports = fetchRequest;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nvar __self__ = (function (root) {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = root.DOMException\n}\nF.prototype = root;\nreturn new F();\n})(typeof self !== 'undefined' ? self : this);\n(function(self) {\n\nvar irrelevant = (function (exports) {\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  return exports;\n\n}({}));\n})(__self__);\ndelete __self__.fetch.polyfill\nexports = __self__.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = __self__.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = __self__.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = __self__.Headers\nexports.Request = __self__.Request\nexports.Response = __self__.Response\nmodule.exports = exports\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (true) {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _regeneratorRuntime = __webpack_require__(7);\n\nvar _asyncToGenerator = __webpack_require__(8);\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint-disable complexity */\n\n/* eslint-disable max-statements */\n\n/* SDK_VERSION is defined in webpack config */\n\n/* global SDK_VERSION */\n\n/* global window, navigator, document, crypto */\nvar Emitter = __webpack_require__(17);\n\nvar AuthSdkError = __webpack_require__(1);\n\nvar builderUtil = __webpack_require__(18);\n\nvar constants = __webpack_require__(2);\n\nvar cookies = __webpack_require__(4).storage;\n\nvar http = __webpack_require__(3);\n\nvar oauthUtil = __webpack_require__(10);\n\nvar session = __webpack_require__(21);\n\nvar token = __webpack_require__(22);\n\nvar TokenManager = __webpack_require__(26);\n\nvar tx = __webpack_require__(9);\n\nvar util = __webpack_require__(0);\n\nfunction OktaAuthBuilder(args) {\n  var sdk = this;\n  builderUtil.assertValidConfig(args);\n  var cookieSettings = util.extend({\n    secure: true\n  }, args.cookies);\n  var isLocalhost = sdk.features.isLocalhost() && !sdk.features.isHTTPS();\n\n  if (isLocalhost) {\n    cookieSettings.secure = false; // Force secure=false if running on http://localhost\n  }\n\n  if (typeof cookieSettings.sameSite === 'undefined') {\n    // Chrome >= 80 will block cookies with SameSite=None unless they are also Secure\n    cookieSettings.sameSite = cookieSettings.secure ? 'none' : 'lax';\n  }\n\n  if (cookieSettings.secure && !sdk.features.isHTTPS()) {\n    throw new AuthSdkError('The current page is not being served with the HTTPS protocol.\\n' + 'For security reasons, we strongly recommend using HTTPS.\\n' + 'If you cannot use HTTPS, set \"cookies.secure\" option to false.');\n  }\n\n  this.options = {\n    clientId: args.clientId,\n    issuer: util.removeTrailingSlash(args.issuer),\n    authorizeUrl: util.removeTrailingSlash(args.authorizeUrl),\n    userinfoUrl: util.removeTrailingSlash(args.userinfoUrl),\n    tokenUrl: util.removeTrailingSlash(args.tokenUrl),\n    revokeUrl: util.removeTrailingSlash(args.revokeUrl),\n    logoutUrl: util.removeTrailingSlash(args.logoutUrl),\n    pkce: args.pkce === false ? false : true,\n    redirectUri: args.redirectUri,\n    postLogoutRedirectUri: args.postLogoutRedirectUri,\n    responseMode: args.responseMode,\n    httpRequestClient: args.httpRequestClient,\n    storageUtil: args.storageUtil,\n    transformErrorXHR: args.transformErrorXHR,\n    headers: args.headers,\n    onSessionExpired: args.onSessionExpired,\n    cookies: cookieSettings\n  };\n\n  if (this.options.pkce && !sdk.features.isPKCESupported()) {\n    var errorMessage = 'PKCE requires a modern browser with encryption support running in a secure context.';\n\n    if (!sdk.features.isHTTPS()) {\n      errorMessage += '\\nThe current page is not being served with HTTPS protocol. Try using HTTPS.';\n    }\n\n    if (!sdk.features.hasTextEncoder()) {\n      errorMessage += '\\n\"TextEncoder\" is not defined. You may need a polyfill/shim for this browser.';\n    }\n\n    throw new AuthSdkError(errorMessage);\n  }\n\n  this.userAgent = builderUtil.getUserAgent(args, \"3.1.0\") || 'okta-auth-js-' + \"3.1.0\"; // Digital clocks will drift over time, so the server\n  // can misalign with the time reported by the browser.\n  // The maxClockSkew allows relaxing the time-based\n  // validation of tokens (in seconds, not milliseconds).\n  // It currently defaults to 300, because 5 min is the\n  // default maximum tolerance allowed by Kerberos.\n  // (https://technet.microsoft.com/en-us/library/cc976357.aspx)\n\n  if (!args.maxClockSkew && args.maxClockSkew !== 0) {\n    this.options.maxClockSkew = constants.DEFAULT_MAX_CLOCK_SKEW;\n  } else {\n    this.options.maxClockSkew = args.maxClockSkew;\n  } // Give the developer the ability to disable token signature\n  // validation.\n\n\n  this.options.ignoreSignature = !!args.ignoreSignature;\n  sdk.session = {\n    close: util.bind(session.closeSession, null, sdk),\n    exists: util.bind(session.sessionExists, null, sdk),\n    get: util.bind(session.getSession, null, sdk),\n    refresh: util.bind(session.refreshSession, null, sdk),\n    setCookieAndRedirect: util.bind(session.setCookieAndRedirect, null, sdk)\n  };\n  sdk.tx = {\n    status: util.bind(tx.transactionStatus, null, sdk),\n    resume: util.bind(tx.resumeTransaction, null, sdk),\n    exists: util.bind(tx.transactionExists, null, sdk),\n    introspect: util.bind(tx.introspect, null, sdk)\n  }; // This is exposed so we can mock document.cookie in our tests\n\n  sdk.tx.exists._get = function (name) {\n    return cookies.get(name);\n  }; // This is exposed so we can mock window.location.href in our tests\n\n\n  sdk.idToken = {\n    authorize: {\n      _getLocationHref: function _getLocationHref() {\n        return window.location.href;\n      }\n    }\n  };\n  sdk.token = {\n    getWithoutPrompt: util.bind(token.getWithoutPrompt, null, sdk),\n    getWithPopup: util.bind(token.getWithPopup, null, sdk),\n    getWithRedirect: util.bind(token.getWithRedirect, null, sdk),\n    parseFromUrl: util.bind(token.parseFromUrl, null, sdk),\n    decode: token.decodeToken,\n    revoke: util.bind(token.revokeToken, null, sdk),\n    renew: util.bind(token.renewToken, null, sdk),\n    getUserInfo: util.bind(token.getUserInfo, null, sdk),\n    verify: util.bind(token.verifyToken, null, sdk)\n  }; // This is exposed so we can set window.location in our tests\n\n  sdk.token.getWithRedirect._setLocation = function (url) {\n    window.location = url;\n  }; // This is exposed so we can mock getting window.history in our tests\n\n\n  sdk.token.parseFromUrl._getHistory = function () {\n    return window.history;\n  }; // This is exposed so we can mock getting window.location in our tests\n\n\n  sdk.token.parseFromUrl._getLocation = function () {\n    return window.location;\n  }; // This is exposed so we can mock getting window.document in our tests\n\n\n  sdk.token.parseFromUrl._getDocument = function () {\n    return window.document;\n  };\n\n  sdk.fingerprint._getUserAgent = function () {\n    return navigator.userAgent;\n  };\n\n  var isWindowsPhone = /windows phone|iemobile|wpdesktop/i;\n\n  sdk.features.isFingerprintSupported = function () {\n    var agent = sdk.fingerprint._getUserAgent();\n\n    return agent && !isWindowsPhone.test(agent);\n  };\n\n  sdk.emitter = new Emitter();\n  sdk.tokenManager = new TokenManager(sdk, args.tokenManager);\n  sdk.tokenManager.on('error', this._onTokenManagerError, this);\n}\n\nvar proto = OktaAuthBuilder.prototype;\n\nproto._onTokenManagerError = function (error) {\n  var code = error.errorCode;\n\n  if (code === 'login_required' && error.accessToken) {\n    if (this.options.onSessionExpired) {\n      this.options.onSessionExpired();\n    } else {\n      // eslint-disable-next-line no-console\n      console.error('Session has expired or was closed outside the application.');\n    }\n  }\n};\n\nproto.features = {};\n\nproto.features.isPopupPostMessageSupported = function () {\n  var isIE8or9 = document.documentMode && document.documentMode < 10;\n\n  if (window.postMessage && !isIE8or9) {\n    return true;\n  }\n\n  return false;\n};\n\nproto.features.isTokenVerifySupported = function () {\n  return typeof crypto !== 'undefined' && crypto.subtle && typeof Uint8Array !== 'undefined';\n};\n\nproto.features.hasTextEncoder = function () {\n  return typeof TextEncoder !== 'undefined';\n};\n\nproto.features.isPKCESupported = function () {\n  return proto.features.isTokenVerifySupported() && proto.features.hasTextEncoder();\n};\n\nproto.features.isHTTPS = function () {\n  return window.location.protocol === 'https:';\n};\n\nproto.features.isLocalhost = function () {\n  return window.location.hostname === 'localhost';\n}; // { username, password, (relayState), (context) }\n\n\nproto.signIn = function (opts) {\n  var sdk = this;\n  opts = util.clone(opts || {});\n\n  function postToTransaction(options) {\n    delete opts.sendFingerprint;\n    return tx.postToTransaction(sdk, '/api/v1/authn', opts, options);\n  }\n\n  if (!opts.sendFingerprint) {\n    return postToTransaction();\n  }\n\n  return sdk.fingerprint().then(function (fingerprint) {\n    return postToTransaction({\n      headers: {\n        'X-Device-Fingerprint': fingerprint\n      }\n    });\n  });\n}; // Ends the current Okta SSO session without redirecting to Okta.\n\n\nproto.closeSession = function closeSession() {\n  var sdk = this; // Clear all local tokens\n\n  sdk.tokenManager.clear();\n  return sdk.session.close() // DELETE /api/v1/sessions/me\n  .catch(function (e) {\n    if (e.name === 'AuthApiError' && e.errorCode === 'E0000007') {\n      // Session does not exist or has already been closed\n      return;\n    }\n\n    throw e;\n  });\n}; // Revokes the access token for the application session\n\n\nproto.revokeAccessToken =\n/*#__PURE__*/\nfunction () {\n  var _revokeAccessToken = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(accessToken) {\n    var sdk;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            sdk = this;\n\n            if (accessToken) {\n              _context.next = 5;\n              break;\n            }\n\n            _context.next = 4;\n            return sdk.tokenManager.get('accessToken');\n\n          case 4:\n            accessToken = _context.sent;\n\n          case 5:\n            if (accessToken) {\n              _context.next = 7;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Promise.resolve());\n\n          case 7:\n            return _context.abrupt(\"return\", sdk.token.revoke(accessToken));\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  function revokeAccessToken(_x) {\n    return _revokeAccessToken.apply(this, arguments);\n  }\n\n  return revokeAccessToken;\n}(); // Revokes accessToken, clears all local tokens, then redirects to Okta to end the SSO session.\n\n\nproto.signOut =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(options) {\n    var defaultUri, postLogoutRedirectUri, accessToken, revokeAccessToken, idToken, sdk, logoutUrl, state, idTokenHint, logoutUri;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            options = util.extend({}, options); // postLogoutRedirectUri must be whitelisted in Okta Admin UI\n\n            defaultUri = window.location.origin;\n            postLogoutRedirectUri = options.postLogoutRedirectUri || this.options.postLogoutRedirectUri || defaultUri;\n            accessToken = options.accessToken;\n            revokeAccessToken = options.revokeAccessToken !== false;\n            idToken = options.idToken;\n            sdk = this;\n            logoutUrl = oauthUtil.getOAuthUrls(sdk).logoutUrl;\n\n            if (!(typeof idToken === 'undefined')) {\n              _context2.next = 12;\n              break;\n            }\n\n            _context2.next = 11;\n            return sdk.tokenManager.get('idToken');\n\n          case 11:\n            idToken = _context2.sent;\n\n          case 12:\n            if (!(revokeAccessToken && typeof accessToken === 'undefined')) {\n              _context2.next = 16;\n              break;\n            }\n\n            _context2.next = 15;\n            return sdk.tokenManager.get('token');\n\n          case 15:\n            accessToken = _context2.sent;\n\n          case 16:\n            // Clear all local tokens\n            sdk.tokenManager.clear();\n\n            if (!(revokeAccessToken && accessToken)) {\n              _context2.next = 20;\n              break;\n            }\n\n            _context2.next = 20;\n            return sdk.revokeAccessToken(accessToken);\n\n          case 20:\n            if (idToken) {\n              _context2.next = 22;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", sdk.closeSession() // can throw if the user cannot be signed out\n            .then(function () {\n              if (postLogoutRedirectUri === defaultUri) {\n                window.location.reload();\n              } else {\n                window.location.assign(postLogoutRedirectUri);\n              }\n            }));\n\n          case 22:\n            // logout redirect using the idToken.\n            state = options.state;\n            idTokenHint = idToken.idToken; // a string\n\n            logoutUri = logoutUrl + '?id_token_hint=' + encodeURIComponent(idTokenHint) + '&post_logout_redirect_uri=' + encodeURIComponent(postLogoutRedirectUri); // State allows option parameters to be passed to logout redirect uri\n\n            if (state) {\n              logoutUri += '&state=' + encodeURIComponent(state);\n            }\n\n            window.location.assign(logoutUri);\n\n          case 27:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function (_x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nbuilderUtil.addSharedPrototypes(proto); // { resource, (rel), (requestContext)}\n\nproto.webfinger = function (opts) {\n  var url = '/.well-known/webfinger' + util.toQueryParams(opts);\n  var options = {\n    headers: {\n      'Accept': 'application/jrd+json'\n    }\n  };\n  return http.get(this, url, options);\n};\n\nproto.fingerprint = function (options) {\n  options = options || {};\n  var sdk = this;\n\n  if (!sdk.features.isFingerprintSupported()) {\n    return Promise.reject(new AuthSdkError('Fingerprinting is not supported on this device'));\n  }\n\n  var timeout;\n  var iframe;\n  var listener;\n  var promise = new Promise(function (resolve, reject) {\n    iframe = document.createElement('iframe');\n    iframe.style.display = 'none';\n\n    listener = function listener(e) {\n      if (!e || !e.data || e.origin !== sdk.getIssuerOrigin()) {\n        return;\n      }\n\n      try {\n        var msg = JSON.parse(e.data);\n      } catch (err) {\n        return reject(new AuthSdkError('Unable to parse iframe response'));\n      }\n\n      if (!msg) {\n        return;\n      }\n\n      if (msg.type === 'FingerprintAvailable') {\n        return resolve(msg.fingerprint);\n      }\n\n      if (msg.type === 'FingerprintServiceReady') {\n        e.source.postMessage(JSON.stringify({\n          type: 'GetFingerprint'\n        }), e.origin);\n      }\n    };\n\n    oauthUtil.addListener(window, 'message', listener);\n    iframe.src = sdk.getIssuerOrigin() + '/auth/services/devicefingerprint';\n    document.body.appendChild(iframe);\n    timeout = setTimeout(function () {\n      reject(new AuthSdkError('Fingerprinting timed out'));\n    }, options.timeout || 15000);\n  });\n  return promise.finally(function () {\n    clearTimeout(timeout);\n    oauthUtil.removeListener(window, 'message', listener);\n\n    if (document.body.contains(iframe)) {\n      iframe.parentElement.removeChild(iframe);\n    }\n  });\n};\n\nmodule.exports = builderUtil.buildOktaAuth(OktaAuthBuilder);\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   true ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\nfunction E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2018-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nvar AuthSdkError = __webpack_require__(1);\n\nvar tx = __webpack_require__(9);\n\nvar util = __webpack_require__(0); // TODO: use @okta/configuration-validation (move module to this monorepo?)\n// eslint-disable-next-line complexity\n\n\nfunction assertValidConfig(args) {\n  if (!args) {\n    throw new AuthSdkError('No arguments passed to constructor. ' + 'Required usage: new OktaAuth(args)');\n  }\n\n  var issuer = args.issuer;\n\n  if (!issuer) {\n    throw new AuthSdkError('No issuer passed to constructor. ' + 'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n\n  var isUrlRegex = new RegExp('^http?s?://.+');\n\n  if (!isUrlRegex.test(args.issuer)) {\n    throw new AuthSdkError('Issuer must be a valid URL. ' + 'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n\n  if (issuer.indexOf('-admin.') !== -1) {\n    throw new AuthSdkError('Issuer URL passed to constructor contains \"-admin\" in subdomain. ' + 'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com})');\n  }\n\n  var userAgent = args.userAgent;\n  var userAgentTemplateWithNoPlaceholder = userAgent && userAgent.template && userAgent.template.indexOf('$OKTA_AUTH_JS') === -1;\n\n  if (userAgentTemplateWithNoPlaceholder) {\n    throw new AuthSdkError('UserAgentTemplate must include \"$OKTA_AUTH_JS\" placeholder. ' + 'Required usage: new OktaAuth({userAgentTemplate: \"xxx $OKTA_AUTH_JS xxx\"})');\n  }\n}\n\nfunction addSharedPrototypes(proto) {\n  proto.getIssuerOrigin = function () {\n    // Infer the URL from the issuer URL, omitting the /oauth2/{authServerId}\n    return this.options.issuer.split('/oauth2/')[0];\n  }; // { username, (relayState) }\n\n\n  proto.forgotPassword = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/password', opts);\n  }; // { username, (relayState) }\n\n\n  proto.unlockAccount = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/unlock', opts);\n  }; // { recoveryToken }\n\n\n  proto.verifyRecoveryToken = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/token', opts);\n  };\n}\n\nfunction buildOktaAuth(OktaAuthBuilder) {\n  return function (storageUtil, httpRequestClient) {\n    function OktaAuth(args) {\n      if (!(this instanceof OktaAuth)) {\n        return new OktaAuth(args);\n      }\n\n      if (args) {\n        args.storageUtil = storageUtil;\n\n        if (args.ajaxRequest) {\n          util.deprecate('ajaxRequest is being deprecated, use httpRequestClient attribute instead.');\n          args.httpRequestClient = args.ajaxRequest;\n        } else if (!args.httpRequestClient) {\n          args.httpRequestClient = httpRequestClient;\n        }\n      }\n\n      util.bind(OktaAuthBuilder, this)(args);\n    }\n\n    OktaAuth.prototype = OktaAuthBuilder.prototype;\n    OktaAuth.prototype.constructor = OktaAuth; // Hoist feature detection functions to static type\n\n    OktaAuth.features = OktaAuthBuilder.prototype.features;\n    return OktaAuth;\n  };\n}\n\nfunction getUserAgent(args, sdkVersion) {\n  var userAgent = args.userAgent;\n\n  if (!userAgent) {\n    return '';\n  }\n\n  if (userAgent.value) {\n    return userAgent.value;\n  }\n\n  if (userAgent.template) {\n    return userAgent.template.replace('$OKTA_AUTH_JS', \"okta-auth-js/\".concat(sdkVersion));\n  }\n\n  return '';\n}\n\nmodule.exports = {\n  addSharedPrototypes: addSharedPrototypes,\n  buildOktaAuth: buildOktaAuth,\n  assertValidConfig: assertValidConfig,\n  getUserAgent: getUserAgent\n};\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nfunction AuthApiError(err, xhr) {\n  this.name = 'AuthApiError';\n  this.message = err.errorSummary;\n  this.errorSummary = err.errorSummary;\n  this.errorCode = err.errorCode;\n  this.errorLink = err.errorLink;\n  this.errorId = err.errorId;\n  this.errorCauses = err.errorCauses;\n\n  if (xhr) {\n    this.xhr = xhr;\n  }\n}\n\nAuthApiError.prototype = new Error();\nmodule.exports = AuthApiError;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nfunction AuthPollStopError() {\n  this.name = 'AuthPollStopError';\n  this.message = 'The poll was stopped by the sdk';\n}\n\nAuthPollStopError.prototype = new Error();\nmodule.exports = AuthPollStopError;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* global window */\nvar util = __webpack_require__(0);\n\nvar http = __webpack_require__(3);\n\nfunction sessionExists(sdk) {\n  return sdk.session.get().then(function (res) {\n    if (res.status === 'ACTIVE') {\n      return true;\n    }\n\n    return false;\n  }).catch(function () {\n    return false;\n  });\n}\n\nfunction getSession(sdk) {\n  return http.get(sdk, '/api/v1/sessions/me').then(function (session) {\n    var res = util.omit(session, '_links');\n\n    res.refresh = function () {\n      return http.post(sdk, util.getLink(session, 'refresh').href);\n    };\n\n    res.user = function () {\n      return http.get(sdk, util.getLink(session, 'user').href);\n    };\n\n    return res;\n  }).catch(function () {\n    // Return INACTIVE status on failure\n    return {\n      status: 'INACTIVE'\n    };\n  });\n}\n\nfunction closeSession(sdk) {\n  return http.httpRequest(sdk, {\n    url: sdk.getIssuerOrigin() + '/api/v1/sessions/me',\n    method: 'DELETE'\n  });\n}\n\nfunction refreshSession(sdk) {\n  return http.post(sdk, '/api/v1/sessions/me/lifecycle/refresh');\n}\n\nfunction setCookieAndRedirect(sdk, sessionToken, redirectUrl) {\n  redirectUrl = redirectUrl || window.location.href;\n  window.location = sdk.getIssuerOrigin() + '/login/sessionCookieRedirect' + util.toQueryParams({\n    checkAccountSetupComplete: true,\n    token: sessionToken,\n    redirectUrl: redirectUrl\n  });\n}\n\nmodule.exports = {\n  sessionExists: sessionExists,\n  getSession: getSession,\n  closeSession: closeSession,\n  refreshSession: refreshSession,\n  setCookieAndRedirect: setCookieAndRedirect\n};\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _regeneratorRuntime = __webpack_require__(7);\n\nvar _asyncToGenerator = __webpack_require__(8);\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* global window, document, btoa */\n\n/* eslint-disable complexity, max-statements */\nvar http = __webpack_require__(3);\n\nvar util = __webpack_require__(0);\n\nvar oauthUtil = __webpack_require__(10);\n\nvar sdkCrypto = __webpack_require__(23);\n\nvar AuthSdkError = __webpack_require__(1);\n\nvar OAuthError = __webpack_require__(24);\n\nvar constants = __webpack_require__(2);\n\nvar cookies = __webpack_require__(4).storage;\n\nvar PKCE = __webpack_require__(25); // Only the access token can be revoked in SPA applications\n\n\nfunction revokeToken(sdk, token) {\n  return Promise.resolve().then(function () {\n    if (!token || !token.accessToken) {\n      throw new AuthSdkError('A valid access token object is required');\n    }\n\n    var clientId = sdk.options.clientId;\n\n    if (!clientId) {\n      throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to revoke a token');\n    }\n\n    var revokeUrl = oauthUtil.getOAuthUrls(sdk).revokeUrl;\n    var accessToken = token.accessToken;\n    var args = util.toQueryParams({\n      // eslint-disable-next-line camelcase\n      token_type_hint: 'access_token',\n      token: accessToken\n    }).slice(1);\n    var creds = btoa(clientId);\n    return http.post(sdk, revokeUrl, args, {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Authorization': 'Basic ' + creds\n      }\n    });\n  });\n}\n\nfunction decodeToken(token) {\n  var jwt = token.split('.');\n  var decodedToken;\n\n  try {\n    decodedToken = {\n      header: JSON.parse(util.base64UrlToString(jwt[0])),\n      payload: JSON.parse(util.base64UrlToString(jwt[1])),\n      signature: jwt[2]\n    };\n  } catch (e) {\n    throw new AuthSdkError('Malformed token');\n  }\n\n  return decodedToken;\n} // Verify the id token\n\n\nfunction verifyToken(sdk, token, validationParams) {\n  return Promise.resolve().then(function () {\n    if (!token || !token.idToken) {\n      throw new AuthSdkError('Only idTokens may be verified');\n    }\n\n    var jwt = decodeToken(token.idToken);\n    var validationOptions = {\n      clientId: sdk.options.clientId,\n      issuer: sdk.options.issuer,\n      ignoreSignature: sdk.options.ignoreSignature\n    };\n    util.extend(validationOptions, validationParams); // Standard claim validation\n\n    oauthUtil.validateClaims(sdk, jwt.payload, validationOptions); // If the browser doesn't support native crypto or we choose not\n    // to verify the signature, bail early\n\n    if (validationOptions.ignoreSignature == true || !sdk.features.isTokenVerifySupported()) {\n      return token;\n    }\n\n    return oauthUtil.getKey(sdk, token.issuer, jwt.header.kid).then(function (key) {\n      return sdkCrypto.verifyToken(token.idToken, key);\n    }).then(function (valid) {\n      if (!valid) {\n        throw new AuthSdkError('The token signature is not valid');\n      }\n\n      if (validationParams.accessToken && token.claims.at_hash) {\n        return sdkCrypto.getOidcHash(validationParams.accessToken).then(function (hash) {\n          if (hash !== token.claims.at_hash) {\n            throw new AuthSdkError('Token hash verification failed');\n          }\n        });\n      }\n    }).then(function () {\n      return token;\n    });\n  });\n}\n\nfunction addPostMessageListener(sdk, timeout, state) {\n  var responseHandler;\n  var timeoutId;\n  var msgReceivedOrTimeout = new Promise(function (resolve, reject) {\n    responseHandler = function responseHandler(e) {\n      if (!e.data || e.data.state !== state) {\n        // A message not meant for us\n        return;\n      } // Configuration mismatch between saved token and current app instance\n      // This may happen if apps with different issuers are running on the same host url\n      // If they share the same storage key, they may read and write tokens in the same location.\n      // Common when developing against http://localhost\n\n\n      if (e.origin !== sdk.getIssuerOrigin()) {\n        return reject(new AuthSdkError('The request does not match client configuration'));\n      }\n\n      resolve(e.data);\n    };\n\n    oauthUtil.addListener(window, 'message', responseHandler);\n    timeoutId = setTimeout(function () {\n      reject(new AuthSdkError('OAuth flow timed out'));\n    }, timeout || 120000);\n  });\n  return msgReceivedOrTimeout.finally(function () {\n    clearTimeout(timeoutId);\n    oauthUtil.removeListener(window, 'message', responseHandler);\n  });\n}\n\nfunction addFragmentListener(sdk, windowEl, timeout) {\n  var timeoutId;\n  var promise = new Promise(function (resolve, reject) {\n    function hashChangeHandler() {\n      /*\n        We are only able to access window.location.hash on a window\n        that has the same domain. A try/catch is necessary because\n        there's no other way to determine that the popup is in\n        another domain. When we try to access a window on another\n        domain, an error is thrown.\n      */\n      try {\n        if (windowEl && windowEl.location && windowEl.location.hash) {\n          resolve(oauthUtil.hashToObject(windowEl.location.hash));\n        } else if (windowEl && !windowEl.closed) {\n          setTimeout(hashChangeHandler, 500);\n        }\n      } catch (err) {\n        setTimeout(hashChangeHandler, 500);\n      }\n    }\n\n    hashChangeHandler();\n    timeoutId = setTimeout(function () {\n      reject(new AuthSdkError('OAuth flow timed out'));\n    }, timeout || 120000);\n  });\n  return promise.finally(function () {\n    clearTimeout(timeoutId);\n  });\n}\n\nfunction exchangeCodeForToken(sdk, oauthParams, authorizationCode, urls) {\n  // PKCE authorization_code flow\n  // Retrieve saved values and build oauthParams for call to /token\n  var meta = PKCE.loadMeta(sdk);\n  var getTokenParams = {\n    clientId: oauthParams.clientId,\n    authorizationCode: authorizationCode,\n    codeVerifier: meta.codeVerifier,\n    redirectUri: meta.redirectUri\n  };\n  return PKCE.getToken(sdk, getTokenParams, urls).then(function (res) {\n    validateResponse(res, getTokenParams);\n    return res;\n  }).finally(function () {\n    PKCE.clearMeta(sdk);\n  });\n}\n\nfunction validateResponse(res, oauthParams) {\n  if (res['error'] || res['error_description']) {\n    throw new OAuthError(res['error'], res['error_description']);\n  }\n\n  if (res.state !== oauthParams.state) {\n    throw new AuthSdkError('OAuth flow response state doesn\\'t match request state');\n  }\n}\n\nfunction handleOAuthResponse(sdk, oauthParams, res, urls) {\n  urls = urls || {};\n  var responseType = oauthParams.responseType;\n\n  if (!Array.isArray(responseType)) {\n    responseType = [responseType];\n  }\n\n  var scopes = util.clone(oauthParams.scopes);\n  var clientId = oauthParams.clientId || sdk.options.clientId;\n  var pkce = sdk.options.pkce !== false;\n  return Promise.resolve().then(function () {\n    validateResponse(res, oauthParams); // PKCE flow\n    // We do not support \"hybrid\" scenarios where the response includes both a code and a token.\n    // If the response contains a code it is used immediately to obtain new tokens.\n\n    if (res.code && pkce) {\n      responseType = ['token', 'id_token']; // what we expect the code to provide us\n\n      return exchangeCodeForToken(sdk, oauthParams, res.code, urls);\n    }\n\n    return res;\n  }).then(function (res) {\n    var tokenDict = {};\n    var expiresIn = res.expires_in;\n    var tokenType = res.token_type;\n    var accessToken = res.access_token;\n    var idToken = res.id_token;\n\n    if (accessToken) {\n      tokenDict.accessToken = {\n        value: accessToken,\n        accessToken: accessToken,\n        expiresAt: Number(expiresIn) + Math.floor(Date.now() / 1000),\n        tokenType: tokenType,\n        scopes: scopes,\n        authorizeUrl: urls.authorizeUrl,\n        userinfoUrl: urls.userinfoUrl\n      };\n    }\n\n    if (idToken) {\n      var jwt = sdk.token.decode(idToken);\n      var idTokenObj = {\n        value: idToken,\n        idToken: idToken,\n        claims: jwt.payload,\n        expiresAt: jwt.payload.exp,\n        scopes: scopes,\n        authorizeUrl: urls.authorizeUrl,\n        issuer: urls.issuer,\n        clientId: clientId\n      };\n      var validationParams = {\n        clientId: clientId,\n        issuer: urls.issuer,\n        nonce: oauthParams.nonce,\n        accessToken: accessToken\n      };\n\n      if (oauthParams.ignoreSignature !== undefined) {\n        validationParams.ignoreSignature = oauthParams.ignoreSignature;\n      }\n\n      return verifyToken(sdk, idTokenObj, validationParams).then(function () {\n        tokenDict.idToken = idTokenObj;\n        return tokenDict;\n      });\n    }\n\n    return tokenDict;\n  }).then(function (tokenDict) {\n    // Validate received tokens against requested response types \n    if (responseType.indexOf('token') !== -1 && !tokenDict.accessToken) {\n      // eslint-disable-next-line max-len\n      throw new AuthSdkError('Unable to parse OAuth flow response: response type \"token\" was requested but \"access_token\" was not returned.');\n    }\n\n    if (responseType.indexOf('id_token') !== -1 && !tokenDict.idToken) {\n      // eslint-disable-next-line max-len\n      throw new AuthSdkError('Unable to parse OAuth flow response: response type \"id_token\" was requested but \"id_token\" was not returned.');\n    }\n\n    return {\n      tokens: tokenDict,\n      state: res.state,\n      code: res.code\n    };\n  });\n}\n\nfunction getDefaultOAuthParams(sdk) {\n  return {\n    pkce: sdk.options.pkce,\n    clientId: sdk.options.clientId,\n    redirectUri: sdk.options.redirectUri || window.location.href,\n    responseType: ['token', 'id_token'],\n    responseMode: sdk.options.responseMode,\n    state: oauthUtil.generateState(),\n    nonce: oauthUtil.generateNonce(),\n    scopes: ['openid', 'email'],\n    ignoreSignature: sdk.options.ignoreSignature\n  };\n}\n\nfunction convertOAuthParamsToQueryParams(oauthParams) {\n  // Quick validation\n  if (!oauthParams.clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to get a token');\n  }\n\n  if (util.isString(oauthParams.responseType) && oauthParams.responseType.indexOf(' ') !== -1) {\n    throw new AuthSdkError('Multiple OAuth responseTypes must be defined as an array');\n  } // Convert our params to their actual OAuth equivalents\n\n\n  var oauthQueryParams = util.removeNils({\n    'client_id': oauthParams.clientId,\n    'code_challenge': oauthParams.codeChallenge,\n    'code_challenge_method': oauthParams.codeChallengeMethod,\n    'display': oauthParams.display,\n    'idp': oauthParams.idp,\n    'idp_scope': oauthParams.idpScope,\n    'login_hint': oauthParams.loginHint,\n    'max_age': oauthParams.maxAge,\n    'nonce': oauthParams.nonce,\n    'prompt': oauthParams.prompt,\n    'redirect_uri': oauthParams.redirectUri,\n    'response_mode': oauthParams.responseMode,\n    'response_type': oauthParams.responseType,\n    'sessionToken': oauthParams.sessionToken,\n    'state': oauthParams.state\n  });\n  ['idp_scope', 'response_type'].forEach(function (mayBeArray) {\n    if (Array.isArray(oauthQueryParams[mayBeArray])) {\n      oauthQueryParams[mayBeArray] = oauthQueryParams[mayBeArray].join(' ');\n    }\n  });\n\n  if (oauthParams.responseType.indexOf('id_token') !== -1 && oauthParams.scopes.indexOf('openid') === -1) {\n    throw new AuthSdkError('openid scope must be specified in the scopes argument when requesting an id_token');\n  } else {\n    oauthQueryParams.scope = oauthParams.scopes.join(' ');\n  }\n\n  return oauthQueryParams;\n}\n\nfunction buildAuthorizeParams(oauthParams) {\n  var oauthQueryParams = convertOAuthParamsToQueryParams(oauthParams);\n  return util.toQueryParams(oauthQueryParams);\n}\n/*\n * Retrieve an idToken from an Okta or a third party idp\n *\n * Two main flows:\n *\n *  1) Exchange a sessionToken for a token\n *\n *    Required:\n *      clientId: passed via the OktaAuth constructor or into getToken\n *      sessionToken: 'yourtoken'\n *\n *    Optional:\n *      redirectUri: defaults to window.location.href\n *      scopes: defaults to ['openid', 'email']\n *\n *    Forced:\n *      prompt: 'none'\n *      responseMode: 'okta_post_message'\n *      display: undefined\n *\n *  2) Get a token from an idp\n *\n *    Required:\n *      clientId: passed via the OktaAuth constructor or into getToken\n *\n *    Optional:\n *      redirectUri: defaults to window.location.href\n *      scopes: defaults to ['openid', 'email']\n *      idp: defaults to Okta as an idp\n *      prompt: no default. Pass 'none' to throw an error if user is not signed in\n *\n *    Forced:\n *      display: 'popup'\n *\n *  Only common optional params shown. Any OAuth parameters not explicitly forced are available to override\n *\n * @param {Object} oauthOptions\n * @param {String} [oauthOptions.clientId] ID of this client\n * @param {String} [oauthOptions.redirectUri] URI that the iframe or popup will go to once authenticated\n * @param {String[]} [oauthOptions.scopes] OAuth 2.0 scopes to request (openid must be specified)\n * @param {String} [oauthOptions.idp] ID of an external IdP to use for user authentication\n * @param {String} [oauthOptions.sessionToken] Bootstrap Session Token returned by the Okta Authentication API\n * @param {String} [oauthOptions.prompt] Determines whether the Okta login will be displayed on failure.\n *                                       Use 'none' to prevent this behavior\n *\n * @param {Object} options\n * @param {Integer} [options.timeout] Time in ms before the flow is automatically terminated. Defaults to 120000\n * @param {String} [options.popupTitle] Title dispayed in the popup.\n *                                      Defaults to 'External Identity Provider User Authentication'\n */\n\n\nfunction getToken(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getToken\" takes only a single set of options'));\n  }\n\n  options = options || {};\n  return prepareOauthParams(sdk, options).then(function (oauthParams) {\n    // Start overriding any options that don't make sense\n    var sessionTokenOverrides = {\n      prompt: 'none',\n      responseMode: 'okta_post_message',\n      display: null\n    };\n    var idpOverrides = {\n      display: 'popup'\n    };\n\n    if (options.sessionToken) {\n      util.extend(oauthParams, sessionTokenOverrides);\n    } else if (options.idp) {\n      util.extend(oauthParams, idpOverrides);\n    } // Use the query params to build the authorize url\n\n\n    var requestUrl, endpoint, urls; // Get authorizeUrl and issuer\n\n    urls = oauthUtil.getOAuthUrls(sdk, oauthParams);\n    endpoint = options.codeVerifier ? urls.tokenUrl : urls.authorizeUrl;\n    requestUrl = endpoint + buildAuthorizeParams(oauthParams); // Determine the flow type\n\n    var flowType;\n\n    if (oauthParams.sessionToken || oauthParams.display === null) {\n      flowType = 'IFRAME';\n    } else if (oauthParams.display === 'popup') {\n      flowType = 'POPUP';\n    } else {\n      flowType = 'IMPLICIT';\n    }\n\n    function getOrigin(url) {\n      /* eslint-disable-next-line no-useless-escape */\n      var originRegex = /^(https?\\:\\/\\/)?([^:\\/?#]*(?:\\:[0-9]+)?)/;\n      return originRegex.exec(url)[0];\n    } // Execute the flow type\n\n\n    switch (flowType) {\n      case 'IFRAME':\n        var iframePromise = addPostMessageListener(sdk, options.timeout, oauthParams.state);\n        var iframeEl = oauthUtil.loadFrame(requestUrl);\n        return iframePromise.then(function (res) {\n          return handleOAuthResponse(sdk, oauthParams, res, urls);\n        }).finally(function () {\n          if (document.body.contains(iframeEl)) {\n            iframeEl.parentElement.removeChild(iframeEl);\n          }\n        });\n\n      case 'POPUP':\n        var oauthPromise; // resolves with OAuth response\n        // Add listener on postMessage before window creation, so\n        // postMessage isn't triggered before we're listening\n\n        if (oauthParams.responseMode === 'okta_post_message') {\n          if (!sdk.features.isPopupPostMessageSupported()) {\n            throw new AuthSdkError('This browser doesn\\'t have full postMessage support');\n          }\n\n          oauthPromise = addPostMessageListener(sdk, options.timeout, oauthParams.state);\n        } // Create the window\n\n\n        var windowOptions = {\n          popupTitle: options.popupTitle\n        };\n        var windowEl = oauthUtil.loadPopup(requestUrl, windowOptions); // Poll until we get a valid hash fragment\n\n        if (oauthParams.responseMode === 'fragment') {\n          var windowOrigin = getOrigin(sdk.idToken.authorize._getLocationHref());\n          var redirectUriOrigin = getOrigin(oauthParams.redirectUri);\n\n          if (windowOrigin !== redirectUriOrigin) {\n            throw new AuthSdkError('Using fragment, the redirectUri origin (' + redirectUriOrigin + ') must match the origin of this page (' + windowOrigin + ')');\n          }\n\n          oauthPromise = addFragmentListener(sdk, windowEl, options.timeout);\n        } // The popup may be closed without receiving an OAuth response. Setup a poller to monitor the window.\n\n\n        var popupPromise = new Promise(function (resolve, reject) {\n          var closePoller = setInterval(function () {\n            if (!windowEl || windowEl.closed) {\n              clearInterval(closePoller);\n              reject(new AuthSdkError('Unable to parse OAuth flow response'));\n            }\n          }, 100); // Proxy the OAuth promise results\n\n          oauthPromise.then(function (res) {\n            clearInterval(closePoller);\n            resolve(res);\n          }).catch(function (err) {\n            clearInterval(closePoller);\n            reject(err);\n          });\n        });\n        return popupPromise.then(function (res) {\n          return handleOAuthResponse(sdk, oauthParams, res, urls);\n        }).finally(function () {\n          if (windowEl && !windowEl.closed) {\n            windowEl.close();\n          }\n        });\n\n      default:\n        throw new AuthSdkError('The full page redirect flow is not supported');\n    }\n  });\n}\n\nfunction getWithoutPrompt(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithoutPrompt\" takes only a single set of options'));\n  }\n\n  options = util.clone(options) || {};\n  util.extend(options, {\n    prompt: 'none',\n    responseMode: 'okta_post_message',\n    display: null\n  });\n  return getToken(sdk, options);\n}\n\nfunction getWithPopup(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithPopup\" takes only a single set of options'));\n  }\n\n  options = util.clone(options) || {};\n  util.extend(options, {\n    display: 'popup',\n    responseMode: 'okta_post_message'\n  });\n  return getToken(sdk, options);\n}\n\nfunction prepareOauthParams(sdk, options) {\n  // clone and prepare options\n  options = util.clone(options) || {}; // build params using defaults + options\n\n  var oauthParams = getDefaultOAuthParams(sdk);\n  util.extend(oauthParams, options);\n\n  if (oauthParams.pkce === false) {\n    return Promise.resolve(oauthParams);\n  } // PKCE flow\n\n\n  if (!sdk.features.isPKCESupported()) {\n    return Promise.reject(new AuthSdkError('This browser doesn\\'t support PKCE'));\n  } // set default code challenge method, if none provided\n\n\n  if (!oauthParams.codeChallengeMethod) {\n    oauthParams.codeChallengeMethod = PKCE.DEFAULT_CODE_CHALLENGE_METHOD;\n  } // responseType is forced\n\n\n  oauthParams.responseType = 'code';\n  return oauthUtil.getWellKnown(sdk, null).then(function (res) {\n    var methods = res['code_challenge_methods_supported'] || [];\n\n    if (methods.indexOf(oauthParams.codeChallengeMethod) === -1) {\n      throw new AuthSdkError('Invalid code_challenge_method');\n    }\n  }).then(function () {\n    // PKCE authorization_code flow\n    var codeVerifier = PKCE.generateVerifier(oauthParams.codeVerifier); // We will need these values after redirect when we call /token\n\n    var meta = {\n      codeVerifier: codeVerifier,\n      redirectUri: oauthParams.redirectUri\n    };\n    PKCE.saveMeta(sdk, meta);\n    return PKCE.computeChallenge(codeVerifier);\n  }).then(function (codeChallenge) {\n    // Clone/copy the params. Set codeChallenge\n    var clonedParams = util.clone(oauthParams) || {};\n    util.extend(clonedParams, oauthParams, {\n      codeChallenge: codeChallenge\n    });\n    return clonedParams;\n  });\n}\n\nfunction getWithRedirect(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithRedirect\" takes only a single set of options'));\n  }\n\n  options = util.clone(options) || {};\n  return prepareOauthParams(sdk, options).then(function (oauthParams) {\n    var urls = oauthUtil.getOAuthUrls(sdk, options);\n    var requestUrl = urls.authorizeUrl + buildAuthorizeParams(oauthParams); // Set session cookie to store the oauthParams\n\n    cookies.set(constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME, JSON.stringify({\n      responseType: oauthParams.responseType,\n      state: oauthParams.state,\n      nonce: oauthParams.nonce,\n      scopes: oauthParams.scopes,\n      clientId: oauthParams.clientId,\n      urls: urls,\n      ignoreSignature: oauthParams.ignoreSignature\n    }), null, sdk.options.cookies); // Set nonce cookie for servers to validate nonce in id_token\n\n    cookies.set(constants.REDIRECT_NONCE_COOKIE_NAME, oauthParams.nonce, null, sdk.options.cookies); // Set state cookie for servers to validate state\n\n    cookies.set(constants.REDIRECT_STATE_COOKIE_NAME, oauthParams.state, null, sdk.options.cookies);\n\n    sdk.token.getWithRedirect._setLocation(requestUrl);\n  });\n}\n\nfunction renewToken(sdk, token) {\n  if (!oauthUtil.isToken(token)) {\n    return Promise.reject(new AuthSdkError('Renew must be passed a token with ' + 'an array of scopes and an accessToken or idToken'));\n  }\n\n  var responseType;\n\n  if (sdk.options.pkce) {\n    responseType = 'code';\n  } else if (token.accessToken) {\n    responseType = 'token';\n  } else {\n    responseType = 'id_token';\n  }\n\n  return sdk.token.getWithoutPrompt({\n    responseType: responseType,\n    scopes: token.scopes,\n    authorizeUrl: token.authorizeUrl,\n    userinfoUrl: token.userinfoUrl,\n    issuer: token.issuer\n  }).then(function (res) {\n    // Multiple tokens may have come back. Return only the token which was requested.\n    var tokens = res.tokens;\n    return token.idToken ? tokens.idToken : tokens.accessToken;\n  });\n}\n\nfunction removeHash(sdk) {\n  var nativeHistory = sdk.token.parseFromUrl._getHistory();\n\n  var nativeDoc = sdk.token.parseFromUrl._getDocument();\n\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n\n  if (nativeHistory && nativeHistory.replaceState) {\n    nativeHistory.replaceState(null, nativeDoc.title, nativeLoc.pathname + nativeLoc.search);\n  } else {\n    nativeLoc.hash = '';\n  }\n}\n\nfunction removeSearch(sdk) {\n  var nativeHistory = sdk.token.parseFromUrl._getHistory();\n\n  var nativeDoc = sdk.token.parseFromUrl._getDocument();\n\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n\n  if (nativeHistory && nativeHistory.replaceState) {\n    nativeHistory.replaceState(null, nativeDoc.title, nativeLoc.pathname + nativeLoc.hash);\n  } else {\n    nativeLoc.search = '';\n  }\n}\n\nfunction parseFromUrl(sdk, options) {\n  options = options || {};\n\n  if (util.isString(options)) {\n    options = {\n      url: options\n    };\n  } // https://openid.net/specs/openid-connect-core-1_0.html#Authentication\n\n\n  var defaultResponseMode = sdk.options.pkce ? 'query' : 'fragment';\n  var url = options.url;\n  var responseMode = options.responseMode || sdk.options.responseMode || defaultResponseMode;\n\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n\n  var paramStr;\n\n  if (responseMode === 'query') {\n    paramStr = url ? url.substring(url.indexOf('?')) : nativeLoc.search;\n  } else {\n    paramStr = url ? url.substring(url.indexOf('#')) : nativeLoc.hash;\n  }\n\n  if (!paramStr) {\n    return Promise.reject(new AuthSdkError('Unable to parse a token from the url'));\n  }\n\n  var oauthParamsCookie = cookies.get(constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME);\n\n  if (!oauthParamsCookie) {\n    return Promise.reject(new AuthSdkError('Unable to retrieve OAuth redirect params cookie'));\n  }\n\n  try {\n    var oauthParams = JSON.parse(oauthParamsCookie);\n    var urls = oauthParams.urls;\n    delete oauthParams.urls;\n    cookies.delete(constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME);\n  } catch (e) {\n    return Promise.reject(new AuthSdkError('Unable to parse the ' + constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME + ' cookie: ' + e.message));\n  }\n\n  return Promise.resolve(oauthUtil.urlParamsToObject(paramStr)).then(function (res) {\n    if (!url) {\n      // Clean hash or search from the url\n      responseMode === 'query' ? removeSearch(sdk) : removeHash(sdk);\n    }\n\n    return handleOAuthResponse(sdk, oauthParams, res, urls);\n  });\n}\n\nfunction getUserInfo(_x, _x2, _x3) {\n  return _getUserInfo.apply(this, arguments);\n}\n\nfunction _getUserInfo() {\n  _getUserInfo = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(sdk, accessTokenObject, idTokenObject) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (accessTokenObject) {\n              _context.next = 4;\n              break;\n            }\n\n            _context.next = 3;\n            return sdk.tokenManager.get('accessToken');\n\n          case 3:\n            accessTokenObject = _context.sent;\n\n          case 4:\n            if (idTokenObject) {\n              _context.next = 8;\n              break;\n            }\n\n            _context.next = 7;\n            return sdk.tokenManager.get('idToken');\n\n          case 7:\n            idTokenObject = _context.sent;\n\n          case 8:\n            if (!(!accessTokenObject || !oauthUtil.isToken(accessTokenObject) && !accessTokenObject.accessToken && !accessTokenObject.userinfoUrl)) {\n              _context.next = 10;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Promise.reject(new AuthSdkError('getUserInfo requires an access token object')));\n\n          case 10:\n            if (!(!idTokenObject || !oauthUtil.isToken(idTokenObject) && !idTokenObject.idToken)) {\n              _context.next = 12;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Promise.reject(new AuthSdkError('getUserInfo requires an ID token object')));\n\n          case 12:\n            return _context.abrupt(\"return\", http.httpRequest(sdk, {\n              url: accessTokenObject.userinfoUrl,\n              method: 'GET',\n              accessToken: accessTokenObject.accessToken\n            }).then(function (userInfo) {\n              // Only return the userinfo response if subjects match to mitigate token substitution attacks\n              if (userInfo.sub === idTokenObject.claims.sub) {\n                return userInfo;\n              }\n\n              return Promise.reject(new AuthSdkError('getUserInfo request was rejected due to token mismatch'));\n            }).catch(function (err) {\n              if (err.xhr && (err.xhr.status === 401 || err.xhr.status === 403)) {\n                var authenticateHeader;\n\n                if (err.xhr.headers && util.isFunction(err.xhr.headers.get) && err.xhr.headers.get('WWW-Authenticate')) {\n                  authenticateHeader = err.xhr.headers.get('WWW-Authenticate');\n                } else if (util.isFunction(err.xhr.getResponseHeader)) {\n                  authenticateHeader = err.xhr.getResponseHeader('WWW-Authenticate');\n                }\n\n                if (authenticateHeader) {\n                  var errorMatches = authenticateHeader.match(/error=\"(.*?)\"/) || [];\n                  var errorDescriptionMatches = authenticateHeader.match(/error_description=\"(.*?)\"/) || [];\n                  var error = errorMatches[1];\n                  var errorDescription = errorDescriptionMatches[1];\n\n                  if (error && errorDescription) {\n                    err = new OAuthError(error, errorDescription);\n                  }\n                }\n              }\n\n              throw err;\n            }));\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getUserInfo.apply(this, arguments);\n}\n\nmodule.exports = {\n  revokeToken: revokeToken,\n  getToken: getToken,\n  getWithoutPrompt: getWithoutPrompt,\n  getWithPopup: getWithPopup,\n  getWithRedirect: getWithRedirect,\n  parseFromUrl: parseFromUrl,\n  decodeToken: decodeToken,\n  renewToken: renewToken,\n  getUserInfo: getUserInfo,\n  verifyToken: verifyToken,\n  handleOAuthResponse: handleOAuthResponse,\n  prepareOauthParams: prepareOauthParams\n};\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* global crypto, Uint8Array, TextEncoder */\nvar util = __webpack_require__(0);\n\nfunction getOidcHash(str) {\n  var buffer = new TextEncoder().encode(str);\n  return crypto.subtle.digest('SHA-256', buffer).then(function (arrayBuffer) {\n    var intBuffer = new Uint8Array(arrayBuffer);\n    var firstHalf = intBuffer.slice(0, 16);\n    var hash = String.fromCharCode.apply(null, firstHalf);\n    var b64u = util.stringToBase64Url(hash); // url-safe base64 variant\n\n    return b64u;\n  });\n}\n\nfunction verifyToken(idToken, key) {\n  key = util.clone(key);\n  var format = 'jwk';\n  var algo = {\n    name: 'RSASSA-PKCS1-v1_5',\n    hash: {\n      name: 'SHA-256'\n    }\n  };\n  var extractable = true;\n  var usages = ['verify']; // https://connect.microsoft.com/IE/feedback/details/2242108/webcryptoapi-importing-jwk-with-use-field-fails\n  // This is a metadata tag that specifies the intent of how the key should be used.\n  // It's not necessary to properly verify the jwt's signature.\n\n  delete key.use;\n  return crypto.subtle.importKey(format, key, algo, extractable, usages).then(function (cryptoKey) {\n    var jwt = idToken.split('.');\n    var payload = util.stringToBuffer(jwt[0] + '.' + jwt[1]);\n    var b64Signature = util.base64UrlDecode(jwt[2]);\n    var signature = util.stringToBuffer(b64Signature);\n    return crypto.subtle.verify(algo, cryptoKey, signature, payload);\n  });\n}\n\nmodule.exports = {\n  getOidcHash: getOidcHash,\n  verifyToken: verifyToken\n};\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nfunction OAuthError(errorCode, summary) {\n  this.name = 'OAuthError';\n  this.message = summary;\n  this.errorCode = errorCode;\n  this.errorSummary = summary;\n}\n\nOAuthError.prototype = new Error();\nmodule.exports = OAuthError;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2019-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* global crypto */\n\n/* eslint-disable complexity, max-statements */\nvar AuthSdkError = __webpack_require__(1);\n\nvar http = __webpack_require__(3);\n\nvar util = __webpack_require__(0); // Code verifier: Random URL-safe string with a minimum length of 43 characters.\n// Code challenge: Base64 URL-encoded SHA-256 hash of the code verifier.\n\n\nvar MIN_VERIFIER_LENGTH = 43;\nvar MAX_VERIFIER_LENGTH = 128;\nvar DEFAULT_CODE_CHALLENGE_METHOD = 'S256';\n\nfunction dec2hex(dec) {\n  return ('0' + dec.toString(16)).substr(-2);\n}\n\nfunction getRandomString(length) {\n  var a = new Uint8Array(Math.ceil(length / 2));\n  crypto.getRandomValues(a);\n  var str = Array.from(a, dec2hex).join('');\n  return str.slice(0, length);\n}\n\nfunction generateVerifier(prefix) {\n  var verifier = prefix || '';\n\n  if (verifier.length < MIN_VERIFIER_LENGTH) {\n    verifier = verifier + getRandomString(MIN_VERIFIER_LENGTH - verifier.length);\n  }\n\n  return encodeURIComponent(verifier).slice(0, MAX_VERIFIER_LENGTH);\n}\n\nfunction getStorage(sdk) {\n  return sdk.options.storageUtil.getPKCEStorage(sdk.options.cookies);\n}\n\nfunction saveMeta(sdk, meta) {\n  var storage = getStorage(sdk);\n  storage.setStorage(meta);\n}\n\nfunction loadMeta(sdk) {\n  var storage = getStorage(sdk);\n  var obj = storage.getStorage();\n  return obj;\n}\n\nfunction clearMeta(sdk) {\n  var storage = getStorage(sdk);\n  storage.clearStorage();\n}\n/* global Uint8Array, TextEncoder */\n\n\nfunction computeChallenge(str) {\n  var buffer = new TextEncoder().encode(str);\n  return crypto.subtle.digest('SHA-256', buffer).then(function (arrayBuffer) {\n    var hash = String.fromCharCode.apply(null, new Uint8Array(arrayBuffer));\n    var b64u = util.stringToBase64Url(hash); // url-safe base64 variant\n\n    return b64u;\n  });\n}\n\nfunction validateOptions(oauthOptions) {\n  // Quick validation\n  if (!oauthOptions.clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to get a token');\n  }\n\n  if (!oauthOptions.redirectUri) {\n    throw new AuthSdkError('The redirectUri passed to /authorize must also be passed to /token');\n  }\n\n  if (!oauthOptions.authorizationCode) {\n    throw new AuthSdkError('An authorization code (returned from /authorize) must be passed to /token');\n  }\n\n  if (!oauthOptions.codeVerifier) {\n    throw new AuthSdkError('The \"codeVerifier\" (generated and saved by your app) must be passed to /token');\n  }\n}\n\nfunction getPostData(options) {\n  // Convert options to OAuth params\n  var params = util.removeNils({\n    'client_id': options.clientId,\n    'redirect_uri': options.redirectUri,\n    'grant_type': 'authorization_code',\n    'code': options.authorizationCode,\n    'code_verifier': options.codeVerifier\n  }); // Encode as URL string\n\n  return util.toQueryParams(params).slice(1);\n} // exchange authorization code for an access token\n\n\nfunction getToken(sdk, oauthOptions, urls) {\n  validateOptions(oauthOptions);\n  var data = getPostData(oauthOptions);\n  return http.httpRequest(sdk, {\n    url: urls.tokenUrl,\n    method: 'POST',\n    args: data,\n    withCredentials: false,\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }\n  });\n}\n\nmodule.exports = {\n  DEFAULT_CODE_CHALLENGE_METHOD: DEFAULT_CODE_CHALLENGE_METHOD,\n  generateVerifier: generateVerifier,\n  clearMeta: clearMeta,\n  saveMeta: saveMeta,\n  loadMeta: loadMeta,\n  computeChallenge: computeChallenge,\n  getToken: getToken\n};\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _typeof = __webpack_require__(5);\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* global localStorage, sessionStorage */\n\n/* eslint complexity:[0,8] max-statements:[0,21] */\nvar util = __webpack_require__(0);\n\nvar AuthSdkError = __webpack_require__(1);\n\nvar storageUtil = __webpack_require__(4);\n\nvar constants = __webpack_require__(2);\n\nvar storageBuilder = __webpack_require__(6);\n\nvar SdkClock = __webpack_require__(27);\n\nvar DEFAULT_OPTIONS = {\n  autoRenew: true,\n  storage: 'localStorage',\n  expireEarlySeconds: 30\n};\n\nfunction getExpireTime(tokenMgmtRef, token) {\n  var expireTime = token.expiresAt - tokenMgmtRef.options.expireEarlySeconds;\n  return expireTime;\n}\n\nfunction hasExpired(tokenMgmtRef, token) {\n  var expireTime = getExpireTime(tokenMgmtRef, token);\n  return expireTime <= tokenMgmtRef.clock.now();\n}\n\nfunction emitExpired(tokenMgmtRef, key, token) {\n  tokenMgmtRef.emitter.emit('expired', key, token);\n}\n\nfunction emitError(tokenMgmtRef, error) {\n  tokenMgmtRef.emitter.emit('error', error);\n}\n\nfunction clearExpireEventTimeout(tokenMgmtRef, key) {\n  clearTimeout(tokenMgmtRef.expireTimeouts[key]);\n  delete tokenMgmtRef.expireTimeouts[key]; // Remove the renew promise (if it exists)\n\n  delete tokenMgmtRef.renewPromise[key];\n}\n\nfunction clearExpireEventTimeoutAll(tokenMgmtRef) {\n  var expireTimeouts = tokenMgmtRef.expireTimeouts;\n\n  for (var key in expireTimeouts) {\n    if (!expireTimeouts.hasOwnProperty(key)) {\n      continue;\n    }\n\n    clearExpireEventTimeout(tokenMgmtRef, key);\n  }\n}\n\nfunction setExpireEventTimeout(sdk, tokenMgmtRef, key, token) {\n  var expireTime = getExpireTime(tokenMgmtRef, token);\n  var expireEventWait = Math.max(expireTime - tokenMgmtRef.clock.now(), 0) * 1000; // Clear any existing timeout\n\n  clearExpireEventTimeout(tokenMgmtRef, key);\n  var expireEventTimeout = setTimeout(function () {\n    emitExpired(tokenMgmtRef, key, token);\n  }, expireEventWait); // Add a new timeout\n\n  tokenMgmtRef.expireTimeouts[key] = expireEventTimeout;\n}\n\nfunction setExpireEventTimeoutAll(sdk, tokenMgmtRef, storage) {\n  try {\n    var tokenStorage = storage.getStorage();\n  } catch (e) {\n    // Any errors thrown on instantiation will not be caught,\n    // because there are no listeners yet\n    emitError(tokenMgmtRef, e);\n    return;\n  }\n\n  for (var key in tokenStorage) {\n    if (!tokenStorage.hasOwnProperty(key)) {\n      continue;\n    }\n\n    var token = tokenStorage[key];\n    setExpireEventTimeout(sdk, tokenMgmtRef, key, token);\n  }\n}\n\nfunction add(sdk, tokenMgmtRef, storage, key, token) {\n  var tokenStorage = storage.getStorage();\n\n  if (!util.isObject(token) || !token.scopes || !token.expiresAt && token.expiresAt !== 0 || !token.idToken && !token.accessToken) {\n    throw new AuthSdkError('Token must be an Object with scopes, expiresAt, and an idToken or accessToken properties');\n  }\n\n  tokenStorage[key] = token;\n  storage.setStorage(tokenStorage);\n  setExpireEventTimeout(sdk, tokenMgmtRef, key, token);\n}\n\nfunction get(storage, key) {\n  var tokenStorage = storage.getStorage();\n  return tokenStorage[key];\n}\n\nfunction getAsync(sdk, tokenMgmtRef, storage, key) {\n  return new Promise(function (resolve) {\n    var token = get(storage, key);\n\n    if (!token || !hasExpired(tokenMgmtRef, token)) {\n      return resolve(token);\n    }\n\n    var tokenPromise = tokenMgmtRef.options.autoRenew ? renew(sdk, tokenMgmtRef, storage, key) : remove(tokenMgmtRef, storage, key);\n    return resolve(tokenPromise);\n  });\n}\n\nfunction remove(tokenMgmtRef, storage, key) {\n  // Clear any listener for this token\n  clearExpireEventTimeout(tokenMgmtRef, key); // Remove it from storage\n\n  var tokenStorage = storage.getStorage();\n  delete tokenStorage[key];\n  storage.setStorage(tokenStorage);\n}\n\nfunction renew(sdk, tokenMgmtRef, storage, key) {\n  // Multiple callers may receive the same promise. They will all resolve or reject from the same request.\n  var existingPromise = tokenMgmtRef.renewPromise[key];\n\n  if (existingPromise) {\n    return existingPromise;\n  }\n\n  try {\n    var token = get(storage, key);\n\n    if (!token) {\n      throw new AuthSdkError('The tokenManager has no token for the key: ' + key);\n    }\n  } catch (e) {\n    return Promise.reject(e);\n  } // Remove existing autoRenew timeout for this key\n\n\n  clearExpireEventTimeout(tokenMgmtRef, key); // Store the renew promise state, to avoid renewing again\n\n  tokenMgmtRef.renewPromise[key] = sdk.token.renew(token).then(function (freshToken) {\n    var oldToken = get(storage, key);\n\n    if (!oldToken) {\n      // It is possible to enter a state where the tokens have been cleared\n      // after a renewal request was triggered. To ensure we do not store a\n      // renewed token, we verify the promise key doesn't exist and return.\n      return;\n    }\n\n    add(sdk, tokenMgmtRef, storage, key, freshToken);\n    tokenMgmtRef.emitter.emit('renewed', key, freshToken, oldToken);\n    return freshToken;\n  }).catch(function (err) {\n    if (err.name === 'OAuthError' || err.name === 'AuthSdkError') {\n      remove(tokenMgmtRef, storage, key);\n      err.tokenKey = key;\n      err.accessToken = !!token.accessToken;\n      emitError(tokenMgmtRef, err);\n    }\n\n    throw err;\n  }).finally(function () {\n    // Remove existing promise key\n    delete tokenMgmtRef.renewPromise[key];\n  });\n  return tokenMgmtRef.renewPromise[key];\n}\n\nfunction clear(tokenMgmtRef, storage) {\n  clearExpireEventTimeoutAll(tokenMgmtRef);\n  storage.clearStorage();\n}\n\nfunction TokenManager(sdk, options) {\n  options = util.extend({}, DEFAULT_OPTIONS, util.removeNils(options));\n\n  if (options.storage === 'localStorage' && !storageUtil.browserHasLocalStorage()) {\n    util.warn('This browser doesn\\'t support localStorage. Switching to sessionStorage.');\n    options.storage = 'sessionStorage';\n  }\n\n  if (options.storage === 'sessionStorage' && !storageUtil.browserHasSessionStorage()) {\n    util.warn('This browser doesn\\'t support sessionStorage. Switching to cookie-based storage.');\n    options.storage = 'cookie';\n  }\n\n  var storageProvider;\n\n  if (_typeof(options.storage) === 'object') {\n    // A custom storage provider must implement getItem(key) and setItem(key, val)\n    storageProvider = options.storage;\n  } else {\n    switch (options.storage) {\n      case 'localStorage':\n        storageProvider = localStorage;\n        break;\n\n      case 'sessionStorage':\n        storageProvider = sessionStorage;\n        break;\n\n      case 'cookie':\n        storageProvider = storageUtil.getCookieStorage(sdk.options.cookies);\n        break;\n\n      case 'memory':\n        storageProvider = storageUtil.getInMemoryStorage();\n        break;\n\n      default:\n        throw new AuthSdkError('Unrecognized storage option');\n    }\n  }\n\n  var storageKey = options.storageKey || constants.TOKEN_STORAGE_NAME;\n  var storage = storageBuilder(storageProvider, storageKey);\n  var clock = SdkClock.create(sdk, options);\n  var tokenMgmtRef = {\n    clock: clock,\n    options: options,\n    emitter: sdk.emitter,\n    expireTimeouts: {},\n    renewPromise: {}\n  };\n  this.add = util.bind(add, this, sdk, tokenMgmtRef, storage);\n  this.get = util.bind(getAsync, this, sdk, tokenMgmtRef, storage);\n  this.remove = util.bind(remove, this, tokenMgmtRef, storage);\n  this.clear = util.bind(clear, this, tokenMgmtRef, storage);\n  this.renew = util.bind(renew, this, sdk, tokenMgmtRef, storage);\n  this.on = util.bind(tokenMgmtRef.emitter.on, tokenMgmtRef.emitter);\n  this.off = util.bind(tokenMgmtRef.emitter.off, tokenMgmtRef.emitter);\n  setExpireEventTimeoutAll(sdk, tokenMgmtRef, storage);\n}\n\nmodule.exports = TokenManager;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar util = __webpack_require__(0);\n\nfunction SdkClock(localOffset) {\n  // Calculated local clock offset from server time (in milliseconds). Can be positive or negative.\n  this.localOffset = parseInt(localOffset || 0);\n}\n\nutil.extend(SdkClock.prototype, {\n  // Return the current time (in seconds)\n  now: function now() {\n    var now = (Date.now() + this.localOffset) / 1000;\n    return now;\n  }\n}); // factory method. Create an instance of a clock from current context.\n\nSdkClock.create = function ()\n/* sdk, options */\n{\n  // TODO: calculate localOffset\n  var localOffset = 0;\n  return new SdkClock(localOffset);\n};\n\nmodule.exports = SdkClock;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// okta-auth-js.min.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* global window, document, btoa, atob, Uint8Array */\n\nvar util = module.exports;\n\n// converts a string to base64 (url/filename safe variant)\nutil.stringToBase64Url = function(str) {\n  var b64 = btoa(str);\n  return util.base64ToBase64Url(b64);\n};\n\n// converts a standard base64-encoded string to a \"url/filename safe\" variant\nutil.base64ToBase64Url = function(b64) {\n  return b64.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n};\n\n// converts a \"url/filename safe\" base64 string to a \"standard\" base64 string\nutil.base64UrlToBase64 = function(b64u) {\n  return b64u.replace(/-/g, '+').replace(/_/g, '/');\n};\n\nutil.base64UrlToString = function(b64u) {\n  var b64 = util.base64UrlToBase64(b64u);\n  switch (b64.length % 4) {\n    case 0:\n      break;\n    case 2:\n      b64 += '==';\n      break;\n    case 3:\n      b64 += '=';\n      break;\n    default:\n      throw 'Not a valid Base64Url';\n  }\n  var utf8 = atob(b64);\n  try {\n    return decodeURIComponent(escape(utf8));\n  } catch (e) {\n    return utf8;\n  }\n};\n\nutil.stringToBuffer = function(str) {\n  var buffer = new Uint8Array(str.length);\n  for (var i = 0; i < str.length; i++) {\n    buffer[i] = str.charCodeAt(i);\n  }\n  return buffer;\n};\n\nutil.base64UrlDecode = function(str) {\n  return atob(util.base64UrlToBase64(str));\n};\n\nutil.bind = function(fn, ctx) {\n  var additionalArgs = Array.prototype.slice.call(arguments, 2);\n  return function() {\n    var args = Array.prototype.slice.call(arguments);\n    args = additionalArgs.concat(args);\n    return fn.apply(ctx, args);\n  };\n};\n\nutil.isAbsoluteUrl = function(url) {\n  return /^(?:[a-z]+:)?\\/\\//i.test(url);\n};\n\nutil.isString = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object String]';\n};\n\nutil.isObject = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n};\n\nutil.isNumber = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object Number]';\n};\n\nutil.isoToUTCString = function(str) {\n  var parts = str.match(/\\d+/g),\n      isoTime = Date.UTC(parts[0], parts[1] - 1, parts[2], parts[3], parts[4], parts[5]),\n      isoDate = new Date(isoTime);\n\n  return isoDate.toUTCString();\n};\n\nutil.toQueryParams = function(obj) {\n  var str = [];\n  if (obj !== null) {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) &&\n          obj[key] !== undefined &&\n          obj[key] !== null) {\n        str.push(key + '=' + encodeURIComponent(obj[key]));\n      }\n    }\n  }\n  if (str.length) {\n    return '?' + str.join('&');\n  } else {\n    return '';\n  }\n};\n\nutil.genRandomString = function(length) {\n  var randomCharset = 'abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n  var random = '';\n  for (var c = 0, cl = randomCharset.length; c < length; ++c) {\n    random += randomCharset[Math.floor(Math.random() * cl)];\n  }\n  return random;\n};\n\nutil.extend = function() {\n  // First object will be modified!\n  var obj1 = arguments[0];\n  // Properties from other objects will be copied over\n  var objArray = [].slice.call(arguments, 1);\n  objArray.forEach(function(obj) {\n    for (var prop in obj) {\n      // copy over all properties with defined values\n      if (obj.hasOwnProperty(prop) && obj[prop] !== undefined) {\n        obj1[prop] = obj[prop];\n      }\n    }\n  });\n  return obj1; // return the modified object\n};\n\nutil.removeNils = function(obj) {\n  var cleaned = {};\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      var value = obj[prop];\n      if (value !== null && value !== undefined) {\n        cleaned[prop] = value;\n      }\n    }\n  }\n  return cleaned;\n};\n\nutil.clone = function(obj) {\n  if (obj) {\n    var str = JSON.stringify(obj);\n    if (str) {\n      return JSON.parse(str);\n    }\n  }\n  return obj;\n};\n\n// Analogous to _.omit\nutil.omit = function(obj) {\n  var props = Array.prototype.slice.call(arguments, 1);\n  var newobj = {};\n  for (var p in obj) {\n    if (obj.hasOwnProperty(p) && props.indexOf(p) == -1) {\n      newobj[p] = obj[p];\n    }\n  }\n  return util.clone(newobj);\n};\n\nutil.find = function(collection, searchParams) {\n  var c = collection.length;\n  while (c--) {\n    var item = collection[c];\n    var found = true;\n    for (var prop in searchParams) {\n      if (!searchParams.hasOwnProperty(prop)) {\n        continue;\n      }\n      if (item[prop] !== searchParams[prop]) {\n        found = false;\n        break;\n      }\n    }\n    if (found) {\n      return item;\n    }\n  }\n};\n\nutil.getLink = function(obj, linkName, altName) {\n  if (!obj || !obj._links) {\n    return;\n  }\n\n  var link = util.clone(obj._links[linkName]);\n\n  // If a link has a name and we have an altName, return if they match\n  if (link && link.name && altName) {\n    if (link.name === altName) {\n      return link;\n    }\n  } else {\n    return link;\n  }\n};\n\nutil.getNativeConsole = function() {\n  if (typeof window !== 'undefined') {\n    return window.console;\n  } else if (typeof console !== 'undefined') {\n    return console;\n  } else {\n    return undefined;\n  }\n};\n\nutil.getConsole = function() {\n  var nativeConsole = util.getNativeConsole();\n  if (nativeConsole && nativeConsole.log) {\n    return nativeConsole;\n  }\n  return {\n    log: function() {}\n  };\n};\n\nutil.warn = function(text) {\n  /* eslint-disable no-console */\n  util.getConsole().log('[okta-auth-sdk] WARN: ' + text);\n  /* eslint-enable */\n};\n\nutil.deprecate = function(text) {\n  /* eslint-disable no-console */\n  util.getConsole().log('[okta-auth-sdk] DEPRECATION: ' + text);\n  /* eslint-enable */\n};\n\nutil.deprecateWrap = function(text, fn) {\n  return function() {\n    util.deprecate(text);\n    return fn.apply(null, arguments);\n  };\n};\n\nutil.removeTrailingSlash = function(path) {\n  if (!path) {\n    return;\n  }\n  // Remove any whitespace before or after string\n  var trimmed = path.replace(/^\\s+|\\s+$/gm,'');\n  // Remove trailing slash(es)\n  trimmed = trimmed.replace(/\\/+$/, '');\n\n  return trimmed;\n};\n\nutil.isIE11OrLess = function() {\n  return !!document.documentMode && document.documentMode <= 11;\n};\n\nutil.isFunction = function(fn) {\n  return !!fn && {}.toString.call(fn) === '[object Function]';\n};\n\nutil.delay = function(ms) {\n  return new Promise(function(resolve) {\n    setTimeout(resolve, ms);\n  });\n};\n\n\n// WEBPACK FOOTER //\n// ./lib/util.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction AuthSdkError(msg, xhr) {\n  this.name = 'AuthSdkError';\n  this.message = msg;\n\n  this.errorCode = 'INTERNAL';\n  this.errorSummary = msg;\n  this.errorLink = 'INTERNAL';\n  this.errorId = 'INTERNAL';\n  this.errorCauses = [];\n  if (xhr) {\n    this.xhr = xhr;\n  }\n}\nAuthSdkError.prototype = new Error();\n\nmodule.exports = AuthSdkError;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/errors/AuthSdkError.js","module.exports = {\n  'STATE_TOKEN_KEY_NAME': 'oktaStateToken',\n  'DEFAULT_POLLING_DELAY': 500,\n  'DEFAULT_MAX_CLOCK_SKEW': 300,\n  'DEFAULT_CACHE_DURATION': 86400,\n  'REDIRECT_OAUTH_PARAMS_COOKIE_NAME': 'okta-oauth-redirect-params',\n  'REDIRECT_STATE_COOKIE_NAME': 'okta-oauth-state',\n  'REDIRECT_NONCE_COOKIE_NAME': 'okta-oauth-nonce',\n  'TOKEN_STORAGE_NAME': 'okta-token-storage',\n  'CACHE_STORAGE_NAME': 'okta-cache-storage',\n  'PKCE_STORAGE_NAME': 'okta-pkce-storage'\n};\n\n\n// WEBPACK FOOTER //\n// ./lib/constants.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity */\nvar util = require('./util');\nvar AuthApiError = require('./errors/AuthApiError');\nvar constants = require('./constants');\n\nfunction httpRequest(sdk, options) {\n  options = options || {};\n  var url = options.url,\n      method = options.method,\n      args = options.args,\n      saveAuthnState = options.saveAuthnState,\n      accessToken = options.accessToken,\n      withCredentials = options.withCredentials !== false, // default value is true\n      storageUtil = sdk.options.storageUtil,\n      storage = storageUtil.storage,\n      httpCache = storageUtil.getHttpCache(sdk.options.cookies);\n\n  if (options.cacheResponse) {\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[url];\n    if (cachedResponse && Date.now()/1000 < cachedResponse.expiresAt) {\n      return Promise.resolve(cachedResponse.response);\n    }\n  }\n\n  var headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'X-Okta-User-Agent-Extended': sdk.userAgent\n  };\n  util.extend(headers, sdk.options.headers, options.headers);\n\n  if (accessToken && util.isString(accessToken)) {\n    headers['Authorization'] = 'Bearer ' + accessToken;\n  }\n\n  var ajaxOptions = {\n    headers: headers,\n    data: args || undefined,\n    withCredentials: withCredentials\n  };\n\n  var err, res;\n  return sdk.options.httpRequestClient(method, url, ajaxOptions)\n    .then(function(resp) {\n      res = resp.responseText;\n      if (res && util.isString(res)) {\n        res = JSON.parse(res);\n      }\n\n      if (saveAuthnState) {\n        if (!res.stateToken) {\n          storage.delete(constants.STATE_TOKEN_KEY_NAME);\n        }\n      }\n\n      if (res && res.stateToken && res.expiresAt) {\n        storage.set(constants.STATE_TOKEN_KEY_NAME, res.stateToken, res.expiresAt, sdk.options.cookies);\n      }\n\n      if (res && options.cacheResponse) {\n        httpCache.updateStorage(url, {\n          expiresAt: Math.floor(Date.now()/1000) + constants.DEFAULT_CACHE_DURATION,\n          response: res\n        });\n      }\n\n      return res;\n    })\n    .catch(function(resp) {\n      var serverErr = resp.responseText || {};\n      if (util.isString(serverErr)) {\n        try {\n          serverErr = JSON.parse(serverErr);\n        } catch (e) {\n          serverErr = {\n            errorSummary: 'Unknown error'\n          };\n        }\n      }\n\n      if (resp.status >= 500) {\n        serverErr.errorSummary = 'Unknown error';\n      }\n\n      if (sdk.options.transformErrorXHR) {\n        resp = sdk.options.transformErrorXHR(util.clone(resp));\n      }\n\n      err = new AuthApiError(serverErr, resp);\n\n      if (err.errorCode === 'E0000011') {\n        storage.delete(constants.STATE_TOKEN_KEY_NAME);\n      }\n\n      throw err;\n    });\n}\n\nfunction get(sdk, url, options) {\n  url = util.isAbsoluteUrl(url) ? url : sdk.getIssuerOrigin() + url;\n  var getOptions = {\n    url: url,\n    method: 'GET'\n  };\n  util.extend(getOptions, options);\n  return httpRequest(sdk, getOptions);\n}\n\nfunction post(sdk, url, args, options) {\n  url = util.isAbsoluteUrl(url) ? url : sdk.getIssuerOrigin() + url;\n  var postOptions = {\n    url: url,\n    method: 'POST',\n    args: args,\n    saveAuthnState: true\n  };\n  util.extend(postOptions, options);\n  return httpRequest(sdk, postOptions);\n}\n\nmodule.exports = {\n  get: get,\n  post: post,\n  httpRequest: httpRequest\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/http.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global localStorage, sessionStorage */\nvar Cookies = require('js-cookie');\nvar storageBuilder = require('../storageBuilder');\nvar constants = require('../constants');\nvar AuthSdkError = require('../errors/AuthSdkError');\n\n// Building this as an object allows us to mock the functions in our tests\nvar storageUtil = {};\n\n// IE11 bug that Microsoft doesn't plan to fix\n// https://connect.microsoft.com/IE/Feedback/Details/1496040\nstorageUtil.browserHasLocalStorage = function() {\n  try {\n    var storage = storageUtil.getLocalStorage();\n    return storageUtil.testStorage(storage);\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.browserHasSessionStorage = function() {\n  try {\n    var storage = storageUtil.getSessionStorage();\n    return storageUtil.testStorage(storage);\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.getPKCEStorage = function(options) {\n  if (storageUtil.browserHasLocalStorage()) {\n    return storageBuilder(storageUtil.getLocalStorage(), constants.PKCE_STORAGE_NAME);\n  } else if (storageUtil.browserHasSessionStorage()) {\n    return storageBuilder(storageUtil.getSessionStorage(), constants.PKCE_STORAGE_NAME);\n  } else {\n    return storageBuilder(storageUtil.getCookieStorage(options), constants.PKCE_STORAGE_NAME);\n  }\n};\n\nstorageUtil.getHttpCache = function(options) {\n  if (storageUtil.browserHasLocalStorage()) {\n    return storageBuilder(storageUtil.getLocalStorage(), constants.CACHE_STORAGE_NAME);\n  } else if (storageUtil.browserHasSessionStorage()) {\n    return storageBuilder(storageUtil.getSessionStorage(), constants.CACHE_STORAGE_NAME);\n  } else {\n    return storageBuilder(storageUtil.getCookieStorage(options), constants.CACHE_STORAGE_NAME);\n  }\n};\n\nstorageUtil.getLocalStorage = function() {\n  return localStorage;\n};\n\nstorageUtil.getSessionStorage = function() {\n  return sessionStorage;\n};\n\n// Provides webStorage-like interface for cookies\nstorageUtil.getCookieStorage = function(options) {\n  const secure = options.secure;\n  const sameSite = options.sameSite;\n  if (typeof secure === 'undefined' || typeof sameSite === 'undefined') {\n    throw new AuthSdkError('getCookieStorage: \"secure\" and \"sameSite\" options must be provided');\n  }\n  return {\n    getItem: storageUtil.storage.get,\n    setItem: function(key, value) {\n      // Cookie shouldn't expire\n      storageUtil.storage.set(key, value, '2200-01-01T00:00:00.000Z', {\n        secure: secure, \n        sameSite: sameSite\n      });\n    }\n  };\n};\n\n// Provides an in-memory solution\nstorageUtil.getInMemoryStorage = function() {\n  var store = {};\n  return {\n    getItem: function(key) {\n      return store[key];\n    },\n    setItem: function(key, value) {\n      store[key] = value;\n    }\n  };\n};\n\nstorageUtil.testStorage = function(storage) {\n  var key = 'okta-test-storage';\n  try {\n    storage.setItem(key, key);\n    storage.removeItem(key);\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.storage = {\n  set: function(name, value, expiresAt, options) {\n    const secure = options.secure;\n    const sameSite = options.sameSite;\n    if (typeof secure === 'undefined' || typeof sameSite === 'undefined') {\n      throw new AuthSdkError('storage.set: \"secure\" and \"sameSite\" options must be provided');\n    }\n    var cookieOptions = {\n      path: options.path || '/',\n      secure,\n      sameSite\n    };\n\n    // eslint-disable-next-line no-extra-boolean-cast\n    if (!!(Date.parse(expiresAt))) {\n      // Expires value can be converted to a Date object.\n      //\n      // If the 'expiresAt' value is not provided, or the value cannot be\n      // parsed as a Date object, the cookie will set as a session cookie.\n      cookieOptions.expires = new Date(expiresAt);\n    }\n\n    Cookies.set(name, value, cookieOptions);\n    return storageUtil.storage.get(name);\n  },\n\n  get: function(name) {\n    return Cookies.get(name);\n  },\n\n  delete: function(name) {\n    return Cookies.remove(name, { path: '/' });\n  }\n};\n\nmodule.exports = storageUtil;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/browser/browserStorage.js","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/@babel/runtime/helpers/typeof.js\n// module id = 5\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nvar AuthSdkError = require('./errors/AuthSdkError');\n\n// storage must have getItem and setItem\nfunction storageBuilder(webstorage, storageName) {\n  if (typeof storageName !== 'string' || !storageName.length) {\n    throw new AuthSdkError('\"storageName\" is required');\n  }\n\n  function getStorage() {\n    var storageString = webstorage.getItem(storageName);\n    storageString = storageString || '{}';\n    try {\n      return JSON.parse(storageString);\n    } catch(e) {\n      throw new AuthSdkError('Unable to parse storage string: ' + storageName);\n    }\n  }\n\n  function setStorage(storage) {\n    try {\n      var storageString = JSON.stringify(storage);\n      webstorage.setItem(storageName, storageString);\n    } catch(e) {\n      throw new AuthSdkError('Unable to set storage: ' + storageName);\n    }\n  }\n\n  function clearStorage(key) {\n    if (!key) {\n      return setStorage({});\n    }\n    var storage = getStorage();\n    delete storage[key];\n    setStorage(storage);\n  }\n\n  function updateStorage(key, value) {\n    var storage = getStorage();\n    storage[key] = value;\n    setStorage(storage);\n  }\n\n  return {\n    getStorage: getStorage,\n    setStorage: setStorage,\n    clearStorage: clearStorage,\n    updateStorage: updateStorage\n  };\n}\n\nmodule.exports = storageBuilder;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/storageBuilder.js","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/@babel/runtime/regenerator/index.js\n// module id = 7\n// module chunks = 0","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/@babel/runtime/helpers/asyncToGenerator.js\n// module id = 8\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity, max-statements */\nvar http              = require('./http');\nvar util              = require('./util');\nvar AuthSdkError      = require('./errors/AuthSdkError');\nvar AuthPollStopError = require('./errors/AuthPollStopError');\nvar constants         = require('./constants');\n\nfunction addStateToken(res, options) {\n  var builtArgs = {};\n  util.extend(builtArgs, options);\n\n  // Add the stateToken if one isn't passed and we have one\n  if (!builtArgs.stateToken && res.stateToken) {\n    builtArgs.stateToken = res.stateToken;\n  }\n\n  return builtArgs;\n}\n\nfunction getStateToken(res) {\n  return addStateToken(res);\n}\n\nfunction transactionStatus(sdk, args) {\n  args = addStateToken(sdk, args);\n  return http.post(sdk, sdk.getIssuerOrigin() + '/api/v1/authn', args);\n}\n\nfunction resumeTransaction(sdk, args) {\n  if (!args || !args.stateToken) {\n    var stateToken = sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n    if (stateToken) {\n      args = {\n        stateToken: stateToken\n      };\n    } else {\n      return Promise.reject(new AuthSdkError('No transaction to resume'));\n    }\n  }\n  return sdk.tx.status(args)\n    .then(function(res) {\n      return new AuthTransaction(sdk, res);\n    });\n}\n\nfunction introspect (sdk, args) {\n  if (!args || !args.stateToken) {\n    var stateToken = sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n    if (stateToken) {\n      args = {\n        stateToken: stateToken\n      };\n    } else {\n      return Promise.reject(new AuthSdkError('No transaction to evaluate'));\n    }\n  }\n  return transactionStep(sdk, args)\n    .then(function (res) {\n      return new AuthTransaction(sdk, res);\n    });\n}\n\nfunction transactionStep(sdk, args) {\n  args = addStateToken(sdk, args);\n  // v1 pipeline introspect API\n  return http.post(sdk, sdk.getIssuerOrigin() + '/api/v1/authn/introspect', args);\n}\n\nfunction transactionExists(sdk) {\n  // We have a cookie state token\n  return !!sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n}\n\nfunction postToTransaction(sdk, url, args, options) {\n  return http.post(sdk, url, args, options)\n    .then(function(res) {\n      return new AuthTransaction(sdk, res);\n    });\n}\n\nfunction getPollFn(sdk, res, ref) {\n  return function (options) {\n    var delay;\n    var rememberDevice;\n    var autoPush;\n    var transactionCallBack;\n\n    if (util.isNumber(options)) {\n      delay = options;\n    } else if (util.isObject(options)) {\n      delay = options.delay;\n      rememberDevice = options.rememberDevice;\n      autoPush = options.autoPush;\n      transactionCallBack = options.transactionCallBack;\n    }\n\n    if (!delay && delay !== 0) {\n      delay = constants.DEFAULT_POLLING_DELAY;\n    }\n\n    // Get the poll function\n    var pollLink = util.getLink(res, 'next', 'poll');\n    function pollFn() {\n      var opts = {};\n      if (typeof autoPush === 'function') {\n        try {\n          opts.autoPush = !!autoPush();\n        }\n        catch (e) {\n          return Promise.reject(new AuthSdkError('AutoPush resulted in an error.'));\n        }\n      }\n      else if (autoPush !== undefined && autoPush !== null) {\n        opts.autoPush = !!autoPush;\n      }\n      if (typeof rememberDevice === 'function') {\n        try {\n          opts.rememberDevice = !!rememberDevice();\n        }\n        catch (e) {\n          return Promise.reject(new AuthSdkError('RememberDevice resulted in an error.'));\n        }\n      }\n      else if (rememberDevice !== undefined && rememberDevice !== null) {\n        opts.rememberDevice = !!rememberDevice;\n      }\n\n      var href = pollLink.href + util.toQueryParams(opts);\n      return http.post(sdk, href, getStateToken(res), {\n        saveAuthnState: false  \n      });\n    }\n\n    ref.isPolling = true;\n\n    var retryCount = 0;\n    var recursivePoll = function () {\n      // If the poll was manually stopped during the delay\n      if (!ref.isPolling) {\n        return Promise.reject(new AuthPollStopError());\n      }\n      return pollFn()\n        .then(function (pollRes) {\n          // Reset our retry counter on success\n          retryCount = 0;\n\n          // If we're still waiting\n          if (pollRes.factorResult && pollRes.factorResult === 'WAITING') {\n\n            // If the poll was manually stopped while the pollFn was called\n            if (!ref.isPolling) {\n              throw new AuthPollStopError();\n            }\n\n            if (typeof transactionCallBack === 'function') {\n              transactionCallBack(pollRes);\n            }\n\n            // Continue poll\n            return util.delay(delay).then(recursivePoll);\n\n          } else {\n            // Any non-waiting result, even if polling was stopped\n            // during a request, will return\n            ref.isPolling = false;\n            return new AuthTransaction(sdk, pollRes);\n          }\n        })\n        .catch(function(err) {\n          // Exponential backoff, up to 16 seconds\n          if (err.xhr &&\n              (err.xhr.status === 0 || err.xhr.status === 429) &&\n              retryCount <= 4) {\n            var delayLength = Math.pow(2, retryCount) * 1000;\n            retryCount++;\n            return util.delay(delayLength)\n              .then(recursivePoll);\n          }\n          throw err;\n        });\n    };\n    return recursivePoll()\n      .catch(function(err) {\n        ref.isPolling = false;\n        throw err;\n      });\n  };\n}\n\nfunction link2fn(sdk, res, obj, link, ref) {\n  if (Array.isArray(link)) {\n    return function(name, opts) {\n      if (!name) {\n        throw new AuthSdkError('Must provide a link name');\n      }\n\n      var lk = util.find(link, {name: name});\n      if (!lk) {\n        throw new AuthSdkError('No link found for that name');\n      }\n\n      return link2fn(sdk, res, obj, lk, ref)(opts);\n    };\n\n  } else if (link.hints &&\n      link.hints.allow &&\n      link.hints.allow.length === 1) {\n    var method = link.hints.allow[0];\n    switch (method) {\n\n      case 'GET':\n        return function() {\n          return http.get(sdk, link.href);\n        };\n\n      case 'POST':\n        return function(opts) {\n          if (ref && ref.isPolling) {\n            ref.isPolling = false;\n          }\n\n          var data = addStateToken(res, opts);\n\n          if (res.status === 'MFA_ENROLL' || res.status === 'FACTOR_ENROLL') {\n            // Add factorType and provider\n            util.extend(data, {\n              factorType: obj.factorType,\n              provider: obj.provider\n            });\n          }\n\n          var params = {};\n          var autoPush = data.autoPush;\n          if (autoPush !== undefined) {\n            if (typeof autoPush === 'function') {\n              try {\n                params.autoPush = !!autoPush();\n              }\n              catch (e) {\n                return Promise.reject(new AuthSdkError('AutoPush resulted in an error.'));\n              }\n            }\n            else if (autoPush !== null) {\n              params.autoPush = !!autoPush;\n            }\n            data = util.omit(data, 'autoPush');\n          }\n\n          var rememberDevice = data.rememberDevice;\n          if (rememberDevice !== undefined) {\n            if (typeof rememberDevice === 'function') {\n              try {\n                params.rememberDevice = !!rememberDevice();\n              }\n              catch (e) {\n                return Promise.reject(new AuthSdkError('RememberDevice resulted in an error.'));\n              }\n            }\n            else if (rememberDevice !== null) {\n              params.rememberDevice = !!rememberDevice;\n            }\n            data = util.omit(data, 'rememberDevice');\n\n          } else if (data.profile &&\n                    data.profile.updatePhone !== undefined) {\n            if (data.profile.updatePhone) {\n              params.updatePhone = true;\n            }\n            data.profile = util.omit(data.profile, 'updatePhone');\n          }\n          var href = link.href + util.toQueryParams(params);\n          return postToTransaction(sdk, href, data);\n        };\n    }\n  }\n}\n\nfunction links2fns(sdk, res, obj, ref) {\n  var fns = {};\n  for (var linkName in obj._links) {\n    if (!obj._links.hasOwnProperty(linkName)) {\n      continue;\n    }\n\n    var link = obj._links[linkName];\n    \n    if (linkName === 'next') {\n      linkName = link.name;\n    }\n\n    if (link.type) {\n      fns[linkName] = link;\n      continue;\n    }\n\n    switch (linkName) {\n      // poll is only found at the transaction\n      // level, so we don't need to pass the link\n      case 'poll':\n        fns.poll = getPollFn(sdk, res, ref);\n        break;\n\n      default:\n        var fn = link2fn(sdk, res, obj, link, ref);\n        if (fn) {\n          fns[linkName] = fn;\n        }\n    }\n  }\n  return fns;\n}\n\nfunction flattenEmbedded(sdk, res, obj, ref) {\n  obj = obj || res;\n  obj = util.clone(obj);\n\n  if (Array.isArray(obj)) {\n    var objArr = [];\n    for (var o = 0, ol = obj.length; o < ol; o++) {\n      objArr.push(flattenEmbedded(sdk, res, obj[o], ref));\n    }\n    return objArr;\n  }\n\n  var embedded = obj._embedded || {};\n\n  for (var key in embedded) {\n    if (!embedded.hasOwnProperty(key)) {\n      continue;\n    }\n\n    // Flatten any nested _embedded objects\n    if (util.isObject(embedded[key]) || Array.isArray(embedded[key])) {\n      embedded[key] = flattenEmbedded(sdk, res, embedded[key], ref);\n    }\n  }\n\n  // Convert any links on the embedded object\n  var fns = links2fns(sdk, res, obj, ref);\n  util.extend(embedded, fns);\n\n  obj = util.omit(obj, '_embedded', '_links');\n  util.extend(obj, embedded);\n  return obj;\n}\n\nfunction AuthTransaction(sdk, res) {\n  if (res) {\n    this.data = res;\n    util.extend(this, flattenEmbedded(sdk, res, res, {}));\n    delete this.stateToken;\n\n    // RECOVERY_CHALLENGE has some responses without _links.\n    // Without _links, we emulate cancel to make it intuitive\n    // to return to the starting state. We may remove this\n    // when OKTA-75434 is resolved\n    if (res.status === 'RECOVERY_CHALLENGE' && !res._links) {\n      this.cancel = function() {\n        return Promise.resolve(new AuthTransaction(sdk));\n      };\n    }\n  }\n}\n\nmodule.exports = {\n  transactionStatus: transactionStatus,\n  resumeTransaction: resumeTransaction,\n  transactionExists: transactionExists,\n  postToTransaction: postToTransaction,\n  introspect: introspect,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/tx.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global window, document */\n/* eslint-disable complexity, max-statements */\nvar http = require('./http');\nvar util = require('./util');\nvar storageUtil = require('./browser/browserStorage');\nvar AuthSdkError = require('./errors/AuthSdkError');\n\nfunction generateState() {\n  return util.genRandomString(64);\n}\n\nfunction generateNonce() {\n  return util.genRandomString(64);\n}\n\nfunction isToken(obj) {\n  if (obj &&\n      (obj.accessToken || obj.idToken) &&\n      Array.isArray(obj.scopes)) {\n    return true;\n  }\n  return false;\n}\n\nfunction addListener(eventTarget, name, fn) {\n  if (eventTarget.addEventListener) {\n    eventTarget.addEventListener(name, fn);\n  } else {\n    eventTarget.attachEvent('on' + name, fn);\n  }\n}\n\nfunction removeListener(eventTarget, name, fn) {\n  if (eventTarget.removeEventListener) {\n    eventTarget.removeEventListener(name, fn);\n  } else {\n    eventTarget.detachEvent('on' + name, fn);\n  }\n}\n\nfunction loadFrame(src) {\n  var iframe = document.createElement('iframe');\n  iframe.style.display = 'none';\n  iframe.src = src;\n\n  return document.body.appendChild(iframe);\n}\n\nfunction loadPopup(src, options) {\n  var title = options.popupTitle || 'External Identity Provider User Authentication';\n  var appearance = 'toolbar=no, scrollbars=yes, resizable=yes, ' +\n    'top=100, left=500, width=600, height=600';\n\n  if (util.isIE11OrLess()) {\n    // IE<=11 doesn't fully support postMessage at time of writting.\n    // the following simple solution happened to solve the issue\n    // without adding another proxy layer which makes flow more complecated.\n    var winEl = window.open('/', title, appearance);\n    winEl.location.href = src;\n    return winEl;\n  } else {\n    return window.open(src, title, appearance);\n  }\n}\n\nfunction getWellKnown(sdk, issuer) {\n  var authServerUri = (issuer || sdk.options.issuer);\n  return http.get(sdk, authServerUri + '/.well-known/openid-configuration', {\n    cacheResponse: true\n  });\n}\n\nfunction getKey(sdk, issuer, kid) {\n  var httpCache = storageUtil.getHttpCache(sdk.options.cookies);\n\n  return getWellKnown(sdk, issuer)\n  .then(function(wellKnown) {\n    var jwksUri = wellKnown['jwks_uri'];\n\n    // Check our kid against the cached version (if it exists and isn't expired)\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[jwksUri];\n    if (cachedResponse && Date.now()/1000 < cachedResponse.expiresAt) {\n      var cachedKey = util.find(cachedResponse.response.keys, {\n        kid: kid\n      });\n\n      if (cachedKey) {\n        return cachedKey;\n      }\n    }\n\n    // Remove cache for the key\n    httpCache.clearStorage(jwksUri);\n\n    // Pull the latest keys if the key wasn't in the cache\n    return http.get(sdk, jwksUri, {\n      cacheResponse: true\n    })\n    .then(function(res) {\n      var key = util.find(res.keys, {\n        kid: kid\n      });\n\n      if (key) {\n        return key;\n      }\n\n      throw new AuthSdkError('The key id, ' + kid + ', was not found in the server\\'s keys');\n    });\n  });\n}\n\nfunction validateClaims(sdk, claims, validationParams) {\n  var aud = validationParams.clientId;\n  var iss = validationParams.issuer;\n  var nonce = validationParams.nonce;\n\n  if (!claims || !iss || !aud) {\n    throw new AuthSdkError('The jwt, iss, and aud arguments are all required');\n  }\n\n  if (nonce && claims.nonce !== nonce) {\n    throw new AuthSdkError('OAuth flow response nonce doesn\\'t match request nonce');\n  }\n\n  var now = Math.floor(Date.now()/1000);\n\n  if (claims.iss !== iss) {\n    throw new AuthSdkError('The issuer [' + claims.iss + '] ' +\n      'does not match [' + iss + ']');\n  }\n\n  if (claims.aud !== aud) {\n    throw new AuthSdkError('The audience [' + claims.aud + '] ' +\n      'does not match [' + aud + ']');\n  }\n\n  if (claims.iat > claims.exp) {\n    throw new AuthSdkError('The JWT expired before it was issued');\n  }\n\n  if ((now - sdk.options.maxClockSkew) > claims.exp) {\n    throw new AuthSdkError('The JWT expired and is no longer valid');\n  }\n\n  if (claims.iat > (now + sdk.options.maxClockSkew)) {\n    throw new AuthSdkError('The JWT was issued in the future');\n  }\n}\n\nfunction getOAuthUrls(sdk, options) {\n  if (arguments.length > 2) {\n    throw new AuthSdkError('As of version 3.0, \"getOAuthUrls\" takes only a single set of options');\n  }\n  options = options || {};\n\n  // Get user-supplied arguments\n  var authorizeUrl = util.removeTrailingSlash(options.authorizeUrl) || sdk.options.authorizeUrl;\n  var issuer = util.removeTrailingSlash(options.issuer) || sdk.options.issuer;\n  var userinfoUrl = util.removeTrailingSlash(options.userinfoUrl) || sdk.options.userinfoUrl;\n  var tokenUrl = util.removeTrailingSlash(options.tokenUrl) || sdk.options.tokenUrl;\n  var logoutUrl = util.removeTrailingSlash(options.logoutUrl) || sdk.options.logoutUrl;\n  var revokeUrl = util.removeTrailingSlash(options.revokeUrl) || sdk.options.revokeUrl;\n\n  var baseUrl = issuer.indexOf('/oauth2') > 0 ? issuer : issuer + '/oauth2';\n\n  authorizeUrl = authorizeUrl || baseUrl + '/v1/authorize';\n  userinfoUrl = userinfoUrl || baseUrl + '/v1/userinfo';\n  tokenUrl = tokenUrl || baseUrl + '/v1/token';\n  revokeUrl = revokeUrl || baseUrl + '/v1/revoke';\n  logoutUrl = logoutUrl || baseUrl + '/v1/logout';\n\n  return {\n    issuer: issuer,\n    authorizeUrl: authorizeUrl,\n    userinfoUrl: userinfoUrl,\n    tokenUrl: tokenUrl,\n    revokeUrl: revokeUrl,\n    logoutUrl: logoutUrl\n  };\n}\n\nfunction urlParamsToObject(hashOrSearch) {\n  // Predefine regexs for parsing hash\n  var plus2space = /\\+/g;\n  var paramSplit = /([^&=]+)=?([^&]*)/g;\n  var fragment = hashOrSearch;\n\n  // Some hash based routers will automatically add a / character after the hash\n  if (fragment.charAt(0) === '#' && fragment.charAt(1) === '/') {\n    fragment = fragment.substring(2);\n  }\n\n  // Remove the leading # or ?\n  if (fragment.charAt(0) === '#' || fragment.charAt(0) === '?') {\n    fragment = fragment.substring(1);\n  }\n\n\n  var obj = {};\n\n  // Loop until we have no more params\n  var param;\n  while (true) { // eslint-disable-line no-constant-condition\n    param = paramSplit.exec(fragment);\n    if (!param) { break; }\n\n    var key = param[1];\n    var value = param[2];\n\n    // id_token should remain base64url encoded\n    if (key === 'id_token' || key === 'access_token' || key === 'code') {\n      obj[key] = value;\n    } else {\n      obj[key] = decodeURIComponent(value.replace(plus2space, ' '));\n    }\n  }\n  return obj;\n}\n\nmodule.exports = {\n  generateState: generateState,\n  generateNonce: generateNonce,\n  getWellKnown: getWellKnown,\n  getKey: getKey,\n  validateClaims: validateClaims,\n  getOAuthUrls: getOAuthUrls,\n  loadFrame: loadFrame,\n  loadPopup: loadPopup,\n  urlParamsToObject: urlParamsToObject,\n  isToken: isToken,\n  addListener: addListener,\n  removeListener: removeListener\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/oauthUtil.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nvar fetchRequest = require('../fetch/fetchRequest');\nvar storageUtil = require('./browserStorage');\n\nmodule.exports = require('./browser')(storageUtil, fetchRequest);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/browser/browserIndex.js","/*!\n * Copyright (c) 2018-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nvar fetch = require('cross-fetch');\n\n\nfunction readData(response) {\n  if (response.headers.get('Content-Type') &&\n    response.headers.get('Content-Type').toLowerCase().indexOf('application/json') >= 0) {\n  return response.json()\n    // JSON parse can fail if response is not a valid object\n    .catch(e => {\n      return {\n        error: e,\n        errorSummary: 'Could not parse server response'\n      };\n    });\n  } else {\n    return response.text();\n  }\n}\n\nfunction formatResult(status, data) {\n  const isObject = typeof data === 'object'; \n  const result = {\n    responseText: isObject ? JSON.stringify(data) : data,\n    status: status\n  };\n  if (isObject) {\n    result.responseType = 'json';\n    result.responseJSON = data;\n  }\n  return result;\n}\n\n/* eslint-disable complexity */\nfunction fetchRequest(method, url, args) {\n  var body = args.data;\n  var headers = args.headers || {};\n  var contentType = (headers['Content-Type'] || headers['content-type'] || '');\n\n  // JSON encode body (if appropriate)\n  if (contentType === 'application/json' && body && typeof body !== 'string') {\n    body = JSON.stringify(body);\n  }\n\n  var fetchPromise = fetch(url, {\n    method: method,\n    headers: args.headers,\n    body: body,\n    credentials: args.withCredentials ? 'include' : 'omit'\n  })\n  .then(function(response) {\n    var error = !response.ok;\n    var status = response.status;\n    return readData(response)\n      .then(data => {\n        return formatResult(status, data);\n      })\n      .then(result => {\n        if (error) {\n          // Throwing result object since error handling is done in http.js\n          throw result;\n        }\n        return result;\n      });\n  });\n  return fetchPromise;\n}\n\nmodule.exports = fetchRequest;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/fetch/fetchRequest.js","var __self__ = (function (root) {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = root.DOMException\n}\nF.prototype = root;\nreturn new F();\n})(typeof self !== 'undefined' ? self : this);\n(function(self) {\n\nvar irrelevant = (function (exports) {\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  return exports;\n\n}({}));\n})(__self__);\ndelete __self__.fetch.polyfill\nexports = __self__.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = __self__.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = __self__.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = __self__.Headers\nexports.Request = __self__.Request\nexports.Response = __self__.Response\nmodule.exports = exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/cross-fetch/dist/browser-ponyfill.js\n// module id = 13\n// module chunks = 0","/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/js-cookie/src/js.cookie.js\n// module id = 14\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* eslint-disable complexity */\n/* eslint-disable max-statements */\n/* SDK_VERSION is defined in webpack config */ \n/* global SDK_VERSION */\n/* global window, navigator, document, crypto */\nvar Emitter           = require('tiny-emitter');\nvar AuthSdkError      = require('../errors/AuthSdkError');\nvar builderUtil       = require('../builderUtil');\nvar constants         = require('../constants');\nvar cookies           = require('./browserStorage').storage;\nvar http              = require('../http');\nvar oauthUtil         = require('../oauthUtil');\nvar session           = require('../session');\nvar token             = require('../token');\nvar TokenManager      = require('../TokenManager');\nvar tx                = require('../tx');\nvar util              = require('../util');\n\nfunction OktaAuthBuilder(args) {\n  var sdk = this;\n\n  builderUtil.assertValidConfig(args);\n\n  var cookieSettings = util.extend({\n    secure: true\n  }, args.cookies);\n  var isLocalhost = (sdk.features.isLocalhost() && !sdk.features.isHTTPS());\n  if (isLocalhost) {\n    cookieSettings.secure = false; // Force secure=false if running on http://localhost\n  }\n  if (typeof cookieSettings.sameSite === 'undefined') {\n    // Chrome >= 80 will block cookies with SameSite=None unless they are also Secure\n    cookieSettings.sameSite = cookieSettings.secure ? 'none' : 'lax';\n  }\n  if (cookieSettings.secure && !sdk.features.isHTTPS()) {\n    throw new AuthSdkError(\n      'The current page is not being served with the HTTPS protocol.\\n' +\n      'For security reasons, we strongly recommend using HTTPS.\\n' +\n      'If you cannot use HTTPS, set \"cookies.secure\" option to false.'\n    );\n  }\n\n  this.options = {\n    clientId: args.clientId,\n    issuer: util.removeTrailingSlash(args.issuer),\n    authorizeUrl: util.removeTrailingSlash(args.authorizeUrl),\n    userinfoUrl: util.removeTrailingSlash(args.userinfoUrl),\n    tokenUrl: util.removeTrailingSlash(args.tokenUrl),\n    revokeUrl: util.removeTrailingSlash(args.revokeUrl),\n    logoutUrl: util.removeTrailingSlash(args.logoutUrl),\n    pkce: args.pkce === false ? false : true,\n    redirectUri: args.redirectUri,\n    postLogoutRedirectUri: args.postLogoutRedirectUri,\n    responseMode: args.responseMode,\n    httpRequestClient: args.httpRequestClient,\n    storageUtil: args.storageUtil,\n    transformErrorXHR: args.transformErrorXHR,\n    headers: args.headers,\n    onSessionExpired: args.onSessionExpired,\n    cookies: cookieSettings\n  };\n\n  if (this.options.pkce && !sdk.features.isPKCESupported()) {\n    var errorMessage = 'PKCE requires a modern browser with encryption support running in a secure context.';\n    if (!sdk.features.isHTTPS()) {\n      errorMessage += '\\nThe current page is not being served with HTTPS protocol. Try using HTTPS.';\n    }\n    if (!sdk.features.hasTextEncoder()) {\n      errorMessage += '\\n\"TextEncoder\" is not defined. You may need a polyfill/shim for this browser.';\n    }\n    throw new AuthSdkError(errorMessage);\n  }\n\n  this.userAgent = builderUtil.getUserAgent(args, SDK_VERSION) || 'okta-auth-js-' + SDK_VERSION;\n\n  // Digital clocks will drift over time, so the server\n  // can misalign with the time reported by the browser.\n  // The maxClockSkew allows relaxing the time-based\n  // validation of tokens (in seconds, not milliseconds).\n  // It currently defaults to 300, because 5 min is the\n  // default maximum tolerance allowed by Kerberos.\n  // (https://technet.microsoft.com/en-us/library/cc976357.aspx)\n  if (!args.maxClockSkew && args.maxClockSkew !== 0) {\n    this.options.maxClockSkew = constants.DEFAULT_MAX_CLOCK_SKEW;\n  } else {\n    this.options.maxClockSkew = args.maxClockSkew;\n  }\n\n  // Give the developer the ability to disable token signature\n  // validation.\n  this.options.ignoreSignature = !!args.ignoreSignature;\n\n  sdk.session = {\n    close: util.bind(session.closeSession, null, sdk),\n    exists: util.bind(session.sessionExists, null, sdk),\n    get: util.bind(session.getSession, null, sdk),\n    refresh: util.bind(session.refreshSession, null, sdk),\n    setCookieAndRedirect: util.bind(session.setCookieAndRedirect, null, sdk)\n  };\n\n  sdk.tx = {\n    status: util.bind(tx.transactionStatus, null, sdk),\n    resume: util.bind(tx.resumeTransaction, null, sdk),\n    exists: util.bind(tx.transactionExists, null, sdk),\n    introspect: util.bind(tx.introspect, null, sdk)\n  };\n\n  // This is exposed so we can mock document.cookie in our tests\n  sdk.tx.exists._get = function(name) {\n    return cookies.get(name);\n  };\n\n  // This is exposed so we can mock window.location.href in our tests\n  sdk.idToken = {\n    authorize: {\n      _getLocationHref: function() {\n        return window.location.href;\n      }\n    }\n  };\n\n  sdk.token = {\n    getWithoutPrompt: util.bind(token.getWithoutPrompt, null, sdk),\n    getWithPopup: util.bind(token.getWithPopup, null, sdk),\n    getWithRedirect: util.bind(token.getWithRedirect, null, sdk),\n    parseFromUrl: util.bind(token.parseFromUrl, null, sdk),\n    decode: token.decodeToken,\n    revoke: util.bind(token.revokeToken, null, sdk),\n    renew: util.bind(token.renewToken, null, sdk),\n    getUserInfo: util.bind(token.getUserInfo, null, sdk),\n    verify: util.bind(token.verifyToken, null, sdk)\n  };\n\n  // This is exposed so we can set window.location in our tests\n  sdk.token.getWithRedirect._setLocation = function(url) {\n    window.location = url;\n  };\n\n  // This is exposed so we can mock getting window.history in our tests\n  sdk.token.parseFromUrl._getHistory = function() {\n    return window.history;\n  };\n\n  // This is exposed so we can mock getting window.location in our tests\n  sdk.token.parseFromUrl._getLocation = function() {\n    return window.location;\n  };\n\n  // This is exposed so we can mock getting window.document in our tests\n  sdk.token.parseFromUrl._getDocument = function() {\n    return window.document;\n  };\n\n  sdk.fingerprint._getUserAgent = function() {\n    return navigator.userAgent;\n  };\n\n  var isWindowsPhone = /windows phone|iemobile|wpdesktop/i;\n  sdk.features.isFingerprintSupported = function() {\n    var agent = sdk.fingerprint._getUserAgent();\n    return agent && !isWindowsPhone.test(agent);\n  };\n\n  sdk.emitter = new Emitter();\n  sdk.tokenManager = new TokenManager(sdk, args.tokenManager);\n  sdk.tokenManager.on('error', this._onTokenManagerError, this);\n}\n\nvar proto = OktaAuthBuilder.prototype;\nproto._onTokenManagerError = function(error) {\n  var code = error.errorCode;\n  if (code === 'login_required' && error.accessToken) {\n    if (this.options.onSessionExpired) {\n      this.options.onSessionExpired();\n    } else {\n      // eslint-disable-next-line no-console\n      console.error('Session has expired or was closed outside the application.');\n    }\n  }\n};\n\nproto.features = {};\n\nproto.features.isPopupPostMessageSupported = function() {\n  var isIE8or9 = document.documentMode && document.documentMode < 10;\n  if (window.postMessage && !isIE8or9) {\n    return true;\n  }\n  return false;\n};\n\nproto.features.isTokenVerifySupported = function() {\n  return typeof crypto !== 'undefined' && crypto.subtle && typeof Uint8Array !== 'undefined';\n};\n\nproto.features.hasTextEncoder = function() {\n  return typeof TextEncoder !== 'undefined';\n};\n\nproto.features.isPKCESupported = function() {\n  return proto.features.isTokenVerifySupported() && proto.features.hasTextEncoder();\n};\n\nproto.features.isHTTPS = function() {\n  return window.location.protocol === 'https:';\n};\n\nproto.features.isLocalhost = function() {\n  return window.location.hostname === 'localhost';\n};\n// { username, password, (relayState), (context) }\nproto.signIn = function (opts) {\n  var sdk = this;\n  opts = util.clone(opts || {});\n  function postToTransaction(options) {\n    delete opts.sendFingerprint;\n    return tx.postToTransaction(sdk, '/api/v1/authn', opts, options);\n  }\n  if (!opts.sendFingerprint) {\n    return postToTransaction();\n  }\n  return sdk.fingerprint()\n  .then(function(fingerprint) {\n    return postToTransaction({\n      headers: {\n        'X-Device-Fingerprint': fingerprint\n      }\n    });\n  });\n};\n\n// Ends the current Okta SSO session without redirecting to Okta.\nproto.closeSession = function closeSession() {\n  var sdk = this;\n  \n  // Clear all local tokens\n  sdk.tokenManager.clear();\n\n  return sdk.session.close() // DELETE /api/v1/sessions/me\n  .catch(function(e) {\n    if (e.name === 'AuthApiError' && e.errorCode === 'E0000007') {\n      // Session does not exist or has already been closed\n      return;\n    }\n    throw e;\n  });\n};\n\n// Revokes the access token for the application session\nproto.revokeAccessToken = async function revokeAccessToken(accessToken) {\n  var sdk = this;\n  if (!accessToken) {\n    accessToken = await sdk.tokenManager.get('accessToken');\n  }\n  // Access token may have been removed. In this case, we will silently succeed.\n  if (!accessToken) {\n    return Promise.resolve();\n  }\n  return sdk.token.revoke(accessToken);\n};\n\n// Revokes accessToken, clears all local tokens, then redirects to Okta to end the SSO session.\nproto.signOut = async function (options) {\n  options = util.extend({}, options);\n\n  // postLogoutRedirectUri must be whitelisted in Okta Admin UI\n  var defaultUri = window.location.origin;\n  var postLogoutRedirectUri = options.postLogoutRedirectUri\n    || this.options.postLogoutRedirectUri\n    || defaultUri;\n\n  var accessToken = options.accessToken;\n  var revokeAccessToken = options.revokeAccessToken !== false;\n  var idToken = options.idToken;\n\n  var sdk = this;\n  var logoutUrl = oauthUtil.getOAuthUrls(sdk).logoutUrl;\n\n  if (typeof idToken === 'undefined') {\n    idToken = await sdk.tokenManager.get('idToken');\n  }\n\n  if (revokeAccessToken && typeof accessToken === 'undefined') {\n    accessToken = await sdk.tokenManager.get('token');\n  }\n\n  // Clear all local tokens\n  sdk.tokenManager.clear();\n\n  if (revokeAccessToken && accessToken) {\n    await sdk.revokeAccessToken(accessToken);\n  }\n\n  // No idToken? This can happen if the storage was cleared.\n  // Fallback to XHR signOut, then redirect to the post logout uri\n  if (!idToken) {\n    return sdk.closeSession() // can throw if the user cannot be signed out\n    .then(function() {\n      if (postLogoutRedirectUri === defaultUri) {\n        window.location.reload();\n      } else {\n        window.location.assign(postLogoutRedirectUri);\n      }\n    });\n  }\n\n  // logout redirect using the idToken.\n  var state = options.state;\n  var idTokenHint = idToken.idToken; // a string\n  var logoutUri = logoutUrl + '?id_token_hint=' + encodeURIComponent(idTokenHint) +\n    '&post_logout_redirect_uri=' + encodeURIComponent(postLogoutRedirectUri);\n\n  // State allows option parameters to be passed to logout redirect uri\n  if (state) {\n    logoutUri += '&state=' + encodeURIComponent(state);\n  }\n  \n  window.location.assign(logoutUri);\n};\n\nbuilderUtil.addSharedPrototypes(proto);\n\n// { resource, (rel), (requestContext)}\nproto.webfinger = function (opts) {\n  var url = '/.well-known/webfinger' + util.toQueryParams(opts);\n  var options = {\n    headers: {\n      'Accept': 'application/jrd+json'\n    }\n  };\n  return http.get(this, url, options);\n};\n\nproto.fingerprint = function(options) {\n  options = options || {};\n  var sdk = this;\n  if (!sdk.features.isFingerprintSupported()) {\n    return Promise.reject(new AuthSdkError('Fingerprinting is not supported on this device'));\n  }\n\n  var timeout;\n  var iframe;\n  var listener;\n  var promise = new Promise(function (resolve, reject) {\n    iframe = document.createElement('iframe');\n    iframe.style.display = 'none';\n\n    listener = function listener(e) {\n      if (!e || !e.data || e.origin !== sdk.getIssuerOrigin()) {\n        return;\n      }\n\n      try {\n        var msg = JSON.parse(e.data);\n      } catch (err) {\n        return reject(new AuthSdkError('Unable to parse iframe response'));\n      }\n\n      if (!msg) { return; }\n      if (msg.type === 'FingerprintAvailable') {\n        return resolve(msg.fingerprint);\n      }\n      if (msg.type === 'FingerprintServiceReady') {\n        e.source.postMessage(JSON.stringify({\n          type: 'GetFingerprint'\n        }), e.origin);\n      }\n    };\n    oauthUtil.addListener(window, 'message', listener);\n\n    iframe.src = sdk.getIssuerOrigin() + '/auth/services/devicefingerprint';\n    document.body.appendChild(iframe);\n\n    timeout = setTimeout(function() {\n      reject(new AuthSdkError('Fingerprinting timed out'));\n    }, options.timeout || 15000);\n  });\n\n  return promise.finally(function() {\n    clearTimeout(timeout);\n    oauthUtil.removeListener(window, 'message', listener);\n    if (document.body.contains(iframe)) {\n      iframe.parentElement.removeChild(iframe);\n    }\n  });\n};\n\nmodule.exports = builderUtil.buildOktaAuth(OktaAuthBuilder);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/browser/browser.js","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/regenerator-runtime/runtime.js\n// module id = 16\n// module chunks = 0","function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/tiny-emitter/index.js\n// module id = 17\n// module chunks = 0","/*!\n * Copyright (c) 2018-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nvar AuthSdkError = require('./errors/AuthSdkError');\nvar tx = require('./tx');\nvar util = require('./util');\n\n// TODO: use @okta/configuration-validation (move module to this monorepo?)\n// eslint-disable-next-line complexity\nfunction assertValidConfig(args) {\n  if (!args) {\n    throw new AuthSdkError('No arguments passed to constructor. ' +\n      'Required usage: new OktaAuth(args)');\n  }\n\n  var issuer = args.issuer;\n  if (!issuer) {\n    throw new AuthSdkError('No issuer passed to constructor. ' + \n      'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n\n  var isUrlRegex = new RegExp('^http?s?://.+');\n  if (!isUrlRegex.test(args.issuer)) {\n    throw new AuthSdkError('Issuer must be a valid URL. ' + \n      'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n\n  if (issuer.indexOf('-admin.') !== -1) {\n    throw new AuthSdkError('Issuer URL passed to constructor contains \"-admin\" in subdomain. ' +\n      'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com})');\n  }\n\n  var userAgent = args.userAgent;\n  var userAgentTemplateWithNoPlaceholder = \n    userAgent && userAgent.template && userAgent.template.indexOf('$OKTA_AUTH_JS') === -1;\n  if (userAgentTemplateWithNoPlaceholder) {\n    throw new AuthSdkError('UserAgentTemplate must include \"$OKTA_AUTH_JS\" placeholder. ' + \n      'Required usage: new OktaAuth({userAgentTemplate: \"xxx $OKTA_AUTH_JS xxx\"})');\n  }\n}\n\nfunction addSharedPrototypes(proto) {\n  proto.getIssuerOrigin = function() {\n    // Infer the URL from the issuer URL, omitting the /oauth2/{authServerId}\n    return this.options.issuer.split('/oauth2/')[0];\n  };\n\n  // { username, (relayState) }\n  proto.forgotPassword = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/password', opts);\n  };\n\n  // { username, (relayState) }\n  proto.unlockAccount = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/unlock', opts);\n  };\n\n  // { recoveryToken }\n  proto.verifyRecoveryToken = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/token', opts);\n  };\n}\n\nfunction buildOktaAuth(OktaAuthBuilder) {\n  return function(storageUtil, httpRequestClient) {\n    function OktaAuth(args) {\n      if (!(this instanceof OktaAuth)) {\n        return new OktaAuth(args);\n      }\n\n      if (args) {\n        args.storageUtil = storageUtil;\n\n        if (args.ajaxRequest) {\n          util.deprecate('ajaxRequest is being deprecated, use httpRequestClient attribute instead.');\n          args.httpRequestClient = args.ajaxRequest;\n        } else if (!args.httpRequestClient) {\n          args.httpRequestClient = httpRequestClient;\n        }\n      }\n\n      util.bind(OktaAuthBuilder, this)(args);\n    }\n    OktaAuth.prototype = OktaAuthBuilder.prototype;\n    OktaAuth.prototype.constructor = OktaAuth;\n\n    // Hoist feature detection functions to static type\n    OktaAuth.features = OktaAuthBuilder.prototype.features;\n\n    return OktaAuth;\n  };\n}\n\nfunction getUserAgent(args, sdkVersion) {\n  var userAgent = args.userAgent;\n\n  if (!userAgent) {\n    return '';\n  }\n\n  if (userAgent.value) {\n    return userAgent.value;\n  }\n\n  if (userAgent.template) {\n    return userAgent.template.replace('$OKTA_AUTH_JS', `okta-auth-js/${sdkVersion}`);\n  }\n\n  return '';\n}\n\nmodule.exports = {\n  addSharedPrototypes: addSharedPrototypes,\n  buildOktaAuth: buildOktaAuth,\n  assertValidConfig: assertValidConfig,\n  getUserAgent: getUserAgent\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/builderUtil.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction AuthApiError(err, xhr) {\n  this.name = 'AuthApiError';\n  this.message = err.errorSummary;\n  this.errorSummary = err.errorSummary;\n  this.errorCode = err.errorCode;\n  this.errorLink = err.errorLink;\n  this.errorId = err.errorId;\n  this.errorCauses = err.errorCauses;\n\n  if (xhr) {\n    this.xhr = xhr;\n  }\n}\nAuthApiError.prototype = new Error();\n\nmodule.exports = AuthApiError;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/errors/AuthApiError.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction AuthPollStopError() {\n  this.name = 'AuthPollStopError';\n  this.message = 'The poll was stopped by the sdk';\n}\nAuthPollStopError.prototype = new Error();\n\nmodule.exports = AuthPollStopError;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/errors/AuthPollStopError.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global window */\nvar util = require('./util');\nvar http = require('./http');\n\nfunction sessionExists(sdk) {\n  return sdk.session.get()\n    .then(function(res) {\n      if (res.status === 'ACTIVE') {\n        return true;\n      }\n      return false;\n    })\n    .catch(function() {\n      return false;\n    });\n}\n\nfunction getSession(sdk) { \n  return http.get(sdk, '/api/v1/sessions/me')\n  .then(function(session) {\n    var res = util.omit(session, '_links');\n\n    res.refresh = function() {\n      return http.post(sdk, util.getLink(session, 'refresh').href);\n    };\n\n    res.user = function() {\n      return http.get(sdk, util.getLink(session, 'user').href);\n    };\n\n    return res;\n  })\n  .catch(function() {\n    // Return INACTIVE status on failure\n    return {status: 'INACTIVE'};\n  });\n}\n\nfunction closeSession(sdk) {\n  return http.httpRequest(sdk, {\n    url: sdk.getIssuerOrigin() + '/api/v1/sessions/me',\n    method: 'DELETE'\n  });\n}\n\nfunction refreshSession(sdk) {\n  return http.post(sdk, '/api/v1/sessions/me/lifecycle/refresh');\n}\n\nfunction setCookieAndRedirect(sdk, sessionToken, redirectUrl) {\n  redirectUrl = redirectUrl || window.location.href;\n  window.location = sdk.getIssuerOrigin() + '/login/sessionCookieRedirect' +\n    util.toQueryParams({\n      checkAccountSetupComplete: true,\n      token: sessionToken,\n      redirectUrl: redirectUrl\n    });\n}\n\nmodule.exports = {\n  sessionExists: sessionExists,\n  getSession: getSession,\n  closeSession: closeSession,\n  refreshSession: refreshSession,\n  setCookieAndRedirect: setCookieAndRedirect\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/session.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global window, document, btoa */\n/* eslint-disable complexity, max-statements */\nvar http          = require('./http');\nvar util          = require('./util');\nvar oauthUtil     = require('./oauthUtil');\nvar sdkCrypto     = require('./crypto');\nvar AuthSdkError  = require('./errors/AuthSdkError');\nvar OAuthError    = require('./errors/OAuthError');\nvar constants     = require('./constants');\nvar cookies       = require('./browser/browserStorage').storage;\nvar PKCE          = require('./pkce');\n\n// Only the access token can be revoked in SPA applications\nfunction revokeToken(sdk, token) {\n  return Promise.resolve()\n  .then(function() {\n    if (!token || !token.accessToken) {\n      throw new AuthSdkError('A valid access token object is required');\n    }\n    var clientId = sdk.options.clientId;\n    if (!clientId) {\n      throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to revoke a token');\n    }\n    var revokeUrl = oauthUtil.getOAuthUrls(sdk).revokeUrl;\n    var accessToken = token.accessToken;\n    var args = util.toQueryParams({\n      // eslint-disable-next-line camelcase\n      token_type_hint: 'access_token',\n      token: accessToken\n    }).slice(1);\n    var creds = btoa(clientId);\n    return http.post(sdk, revokeUrl, args, {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Authorization': 'Basic ' + creds\n      }\n    });\n  });\n}\n\nfunction decodeToken(token) {\n  var jwt = token.split('.');\n  var decodedToken;\n\n  try {\n    decodedToken = {\n      header: JSON.parse(util.base64UrlToString(jwt[0])),\n      payload: JSON.parse(util.base64UrlToString(jwt[1])),\n      signature: jwt[2]\n    };\n  } catch(e) {\n    throw new AuthSdkError('Malformed token');\n  }\n\n  return decodedToken;\n}\n\n// Verify the id token\nfunction verifyToken(sdk, token, validationParams) {\n  return Promise.resolve()\n  .then(function() {\n    if (!token || !token.idToken) {\n      throw new AuthSdkError('Only idTokens may be verified');\n    }\n\n    var jwt = decodeToken(token.idToken);\n\n    var validationOptions = {\n      clientId: sdk.options.clientId,\n      issuer: sdk.options.issuer,\n      ignoreSignature: sdk.options.ignoreSignature\n    };\n\n    util.extend(validationOptions, validationParams);\n\n    // Standard claim validation\n    oauthUtil.validateClaims(sdk, jwt.payload, validationOptions);\n\n    // If the browser doesn't support native crypto or we choose not\n    // to verify the signature, bail early\n    if (validationOptions.ignoreSignature == true || !sdk.features.isTokenVerifySupported()) {\n      return token;\n    }\n\n    return oauthUtil.getKey(sdk, token.issuer, jwt.header.kid)\n    .then(function(key) {\n      return sdkCrypto.verifyToken(token.idToken, key);\n    })\n    .then(function(valid) {\n      if (!valid) {\n        throw new AuthSdkError('The token signature is not valid');\n      }\n      if (validationParams.accessToken && token.claims.at_hash) {\n        return sdkCrypto.getOidcHash(validationParams.accessToken)\n          .then(hash => {\n            if (hash !== token.claims.at_hash) {\n              throw new AuthSdkError('Token hash verification failed');\n            }\n          });\n      }\n    })\n    .then(() => {\n      return token;\n    });\n  });\n}\n\nfunction addPostMessageListener(sdk, timeout, state) {\n  var responseHandler;\n  var timeoutId;\n  var msgReceivedOrTimeout = new Promise(function(resolve, reject) {\n\n    responseHandler = function responseHandler(e) {\n      if (!e.data || e.data.state !== state) {\n        // A message not meant for us\n        return;\n      }\n\n      // Configuration mismatch between saved token and current app instance\n      // This may happen if apps with different issuers are running on the same host url\n      // If they share the same storage key, they may read and write tokens in the same location.\n      // Common when developing against http://localhost\n      if (e.origin !== sdk.getIssuerOrigin()) {\n        return reject(new AuthSdkError('The request does not match client configuration'));\n      }\n\n      resolve(e.data);\n    };\n\n    oauthUtil.addListener(window, 'message', responseHandler);\n\n    timeoutId = setTimeout(function() {\n      reject(new AuthSdkError('OAuth flow timed out'));\n    }, timeout || 120000);\n  });\n\n  return msgReceivedOrTimeout\n    .finally(function() {\n      clearTimeout(timeoutId);\n      oauthUtil.removeListener(window, 'message', responseHandler);\n    });\n}\n\nfunction addFragmentListener(sdk, windowEl, timeout) {\n  var timeoutId;\n  var promise = new Promise(function(resolve, reject) {\n    function hashChangeHandler() {\n      /*\n        We are only able to access window.location.hash on a window\n        that has the same domain. A try/catch is necessary because\n        there's no other way to determine that the popup is in\n        another domain. When we try to access a window on another\n        domain, an error is thrown.\n      */\n      try {\n        if (windowEl &&\n            windowEl.location &&\n            windowEl.location.hash) {\n          resolve(oauthUtil.hashToObject(windowEl.location.hash));\n        } else if (windowEl && !windowEl.closed) {\n          setTimeout(hashChangeHandler, 500);\n        }\n      } catch (err) {\n        setTimeout(hashChangeHandler, 500);\n      }\n    }\n  \n    hashChangeHandler();\n\n    timeoutId = setTimeout(function() {\n      reject(new AuthSdkError('OAuth flow timed out'));\n    }, timeout || 120000);\n  });\n\n  return promise.finally(function() {\n    clearTimeout(timeoutId);\n  });\n}\n\nfunction exchangeCodeForToken(sdk, oauthParams, authorizationCode, urls) {\n  // PKCE authorization_code flow\n  // Retrieve saved values and build oauthParams for call to /token\n  var meta = PKCE.loadMeta(sdk);\n  var getTokenParams = {\n    clientId: oauthParams.clientId,\n    authorizationCode: authorizationCode,\n    codeVerifier: meta.codeVerifier,\n    redirectUri: meta.redirectUri\n  };\n  return PKCE.getToken(sdk, getTokenParams, urls)\n  .then(function(res) {\n    validateResponse(res, getTokenParams);\n    return res;\n  })\n  .finally(function() {\n    PKCE.clearMeta(sdk);\n  });\n}\n\nfunction validateResponse(res, oauthParams) {\n  if (res['error'] || res['error_description']) {\n    throw new OAuthError(res['error'], res['error_description']);\n  }\n\n  if (res.state !== oauthParams.state) {\n    throw new AuthSdkError('OAuth flow response state doesn\\'t match request state');\n  }\n}\n\nfunction handleOAuthResponse(sdk, oauthParams, res, urls) {\n  urls = urls || {};\n\n  var responseType = oauthParams.responseType;\n  if (!Array.isArray(responseType)) {\n    responseType = [responseType];\n  }\n\n  var scopes = util.clone(oauthParams.scopes);\n  var clientId = oauthParams.clientId || sdk.options.clientId;\n  var pkce = sdk.options.pkce !== false;\n\n  return Promise.resolve()\n  .then(function() {\n    validateResponse(res, oauthParams);\n\n    // PKCE flow\n    // We do not support \"hybrid\" scenarios where the response includes both a code and a token.\n    // If the response contains a code it is used immediately to obtain new tokens.\n    if (res.code && pkce) {\n      responseType = ['token', 'id_token']; // what we expect the code to provide us\n      return exchangeCodeForToken(sdk, oauthParams, res.code, urls);\n    }\n    return res;\n  }).then(function(res) {\n    var tokenDict = {};\n    var expiresIn = res.expires_in;\n    var tokenType = res.token_type;\n    var accessToken = res.access_token;\n    var idToken = res.id_token;\n    \n    if (accessToken) {\n      tokenDict.accessToken = {\n        value: accessToken,\n        accessToken: accessToken,\n        expiresAt: Number(expiresIn) + Math.floor(Date.now()/1000),\n        tokenType: tokenType,\n        scopes: scopes,\n        authorizeUrl: urls.authorizeUrl,\n        userinfoUrl: urls.userinfoUrl\n      };\n    }\n\n    if (idToken) {\n      var jwt = sdk.token.decode(idToken);\n\n      var idTokenObj = {\n        value: idToken,\n        idToken: idToken,\n        claims: jwt.payload,\n        expiresAt: jwt.payload.exp,\n        scopes: scopes,\n        authorizeUrl: urls.authorizeUrl,\n        issuer: urls.issuer,\n        clientId: clientId\n      };\n\n      var validationParams = {\n        clientId: clientId,\n        issuer: urls.issuer,\n        nonce: oauthParams.nonce,\n        accessToken: accessToken\n      };\n\n      if (oauthParams.ignoreSignature !== undefined) {\n        validationParams.ignoreSignature = oauthParams.ignoreSignature;\n      }\n\n      return verifyToken(sdk, idTokenObj, validationParams)\n      .then(function() {\n        tokenDict.idToken = idTokenObj;\n        return tokenDict;\n      });\n    }\n\n    return tokenDict;\n  })\n  .then(function(tokenDict) {\n    // Validate received tokens against requested response types \n    if (responseType.indexOf('token') !== -1 && !tokenDict.accessToken) {\n      // eslint-disable-next-line max-len\n      throw new AuthSdkError('Unable to parse OAuth flow response: response type \"token\" was requested but \"access_token\" was not returned.');\n    }\n    if (responseType.indexOf('id_token') !== -1 && !tokenDict.idToken) {\n      // eslint-disable-next-line max-len\n      throw new AuthSdkError('Unable to parse OAuth flow response: response type \"id_token\" was requested but \"id_token\" was not returned.');\n    }\n\n    return {\n      tokens: tokenDict,\n      state: res.state,\n      code: res.code\n    };\n  });\n}\n\nfunction getDefaultOAuthParams(sdk) {\n  return {\n    pkce: sdk.options.pkce,\n    clientId: sdk.options.clientId,\n    redirectUri: sdk.options.redirectUri || window.location.href,\n    responseType: ['token', 'id_token'],\n    responseMode: sdk.options.responseMode,\n    state: oauthUtil.generateState(),\n    nonce: oauthUtil.generateNonce(),\n    scopes: ['openid', 'email'],\n    ignoreSignature: sdk.options.ignoreSignature\n  };\n}\n\nfunction convertOAuthParamsToQueryParams(oauthParams) {\n  // Quick validation\n  if (!oauthParams.clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to get a token');\n  }\n\n  if (util.isString(oauthParams.responseType) && oauthParams.responseType.indexOf(' ') !== -1) {\n    throw new AuthSdkError('Multiple OAuth responseTypes must be defined as an array');\n  }\n\n  // Convert our params to their actual OAuth equivalents\n  var oauthQueryParams = util.removeNils({\n    'client_id': oauthParams.clientId,\n    'code_challenge': oauthParams.codeChallenge,\n    'code_challenge_method': oauthParams.codeChallengeMethod,\n    'display': oauthParams.display,\n    'idp': oauthParams.idp,\n    'idp_scope': oauthParams.idpScope,\n    'login_hint': oauthParams.loginHint,\n    'max_age': oauthParams.maxAge,\n    'nonce': oauthParams.nonce,\n    'prompt': oauthParams.prompt,\n    'redirect_uri': oauthParams.redirectUri,\n    'response_mode': oauthParams.responseMode,\n    'response_type': oauthParams.responseType,\n    'sessionToken': oauthParams.sessionToken,\n    'state': oauthParams.state,\n  });\n\n  ['idp_scope', 'response_type'].forEach( function( mayBeArray ) { \n    if (Array.isArray(oauthQueryParams[mayBeArray])) {\n      oauthQueryParams[mayBeArray] = oauthQueryParams[mayBeArray].join(' ');\n    }\n  });\n\n  if (oauthParams.responseType.indexOf('id_token') !== -1 &&\n      oauthParams.scopes.indexOf('openid') === -1) {\n    throw new AuthSdkError('openid scope must be specified in the scopes argument when requesting an id_token');\n  } else {\n    oauthQueryParams.scope = oauthParams.scopes.join(' ');\n  }\n\n  return oauthQueryParams;\n}\n\nfunction buildAuthorizeParams(oauthParams) {\n  var oauthQueryParams = convertOAuthParamsToQueryParams(oauthParams);\n  return util.toQueryParams(oauthQueryParams);\n}\n\n/*\n * Retrieve an idToken from an Okta or a third party idp\n *\n * Two main flows:\n *\n *  1) Exchange a sessionToken for a token\n *\n *    Required:\n *      clientId: passed via the OktaAuth constructor or into getToken\n *      sessionToken: 'yourtoken'\n *\n *    Optional:\n *      redirectUri: defaults to window.location.href\n *      scopes: defaults to ['openid', 'email']\n *\n *    Forced:\n *      prompt: 'none'\n *      responseMode: 'okta_post_message'\n *      display: undefined\n *\n *  2) Get a token from an idp\n *\n *    Required:\n *      clientId: passed via the OktaAuth constructor or into getToken\n *\n *    Optional:\n *      redirectUri: defaults to window.location.href\n *      scopes: defaults to ['openid', 'email']\n *      idp: defaults to Okta as an idp\n *      prompt: no default. Pass 'none' to throw an error if user is not signed in\n *\n *    Forced:\n *      display: 'popup'\n *\n *  Only common optional params shown. Any OAuth parameters not explicitly forced are available to override\n *\n * @param {Object} oauthOptions\n * @param {String} [oauthOptions.clientId] ID of this client\n * @param {String} [oauthOptions.redirectUri] URI that the iframe or popup will go to once authenticated\n * @param {String[]} [oauthOptions.scopes] OAuth 2.0 scopes to request (openid must be specified)\n * @param {String} [oauthOptions.idp] ID of an external IdP to use for user authentication\n * @param {String} [oauthOptions.sessionToken] Bootstrap Session Token returned by the Okta Authentication API\n * @param {String} [oauthOptions.prompt] Determines whether the Okta login will be displayed on failure.\n *                                       Use 'none' to prevent this behavior\n *\n * @param {Object} options\n * @param {Integer} [options.timeout] Time in ms before the flow is automatically terminated. Defaults to 120000\n * @param {String} [options.popupTitle] Title dispayed in the popup.\n *                                      Defaults to 'External Identity Provider User Authentication'\n */\nfunction getToken(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getToken\" takes only a single set of options'));\n  }\n  options = options || {};\n\n  return prepareOauthParams(sdk, options)\n  .then(function(oauthParams) {\n\n    // Start overriding any options that don't make sense\n    var sessionTokenOverrides = {\n      prompt: 'none',\n      responseMode: 'okta_post_message',\n      display: null\n    };\n\n    var idpOverrides = {\n      display: 'popup'\n    };\n\n    if (options.sessionToken) {\n      util.extend(oauthParams, sessionTokenOverrides);\n    } else if (options.idp) {\n      util.extend(oauthParams, idpOverrides);\n    }\n\n    // Use the query params to build the authorize url\n    var requestUrl,\n        endpoint,\n        urls;\n\n    // Get authorizeUrl and issuer\n    urls = oauthUtil.getOAuthUrls(sdk, oauthParams);\n    endpoint = options.codeVerifier ? urls.tokenUrl : urls.authorizeUrl;\n    requestUrl = endpoint + buildAuthorizeParams(oauthParams);\n\n    // Determine the flow type\n    var flowType;\n    if (oauthParams.sessionToken || oauthParams.display === null) {\n      flowType = 'IFRAME';\n    } else if (oauthParams.display === 'popup') {\n      flowType = 'POPUP';\n    } else {\n      flowType = 'IMPLICIT';\n    }\n\n    function getOrigin(url) {\n      /* eslint-disable-next-line no-useless-escape */\n      var originRegex = /^(https?\\:\\/\\/)?([^:\\/?#]*(?:\\:[0-9]+)?)/;\n      return originRegex.exec(url)[0];\n    }\n\n    // Execute the flow type\n    switch (flowType) {\n      case 'IFRAME':\n        var iframePromise = addPostMessageListener(sdk, options.timeout, oauthParams.state);\n        var iframeEl = oauthUtil.loadFrame(requestUrl);\n        return iframePromise\n          .then(function(res) {\n            return handleOAuthResponse(sdk, oauthParams, res, urls);\n          })\n          .finally(function() {\n            if (document.body.contains(iframeEl)) {\n              iframeEl.parentElement.removeChild(iframeEl);\n            }\n          });\n\n      case 'POPUP':\n        var oauthPromise; // resolves with OAuth response\n\n        // Add listener on postMessage before window creation, so\n        // postMessage isn't triggered before we're listening\n        if (oauthParams.responseMode === 'okta_post_message') {\n          if (!sdk.features.isPopupPostMessageSupported()) {\n            throw new AuthSdkError('This browser doesn\\'t have full postMessage support');\n          }\n          oauthPromise = addPostMessageListener(sdk, options.timeout, oauthParams.state);\n        }\n\n        // Create the window\n        var windowOptions = {\n          popupTitle: options.popupTitle\n        };\n        var windowEl = oauthUtil.loadPopup(requestUrl, windowOptions);\n\n        // Poll until we get a valid hash fragment\n        if (oauthParams.responseMode === 'fragment') {\n          var windowOrigin = getOrigin(sdk.idToken.authorize._getLocationHref());\n          var redirectUriOrigin = getOrigin(oauthParams.redirectUri);\n          if (windowOrigin !== redirectUriOrigin) {\n            throw new AuthSdkError('Using fragment, the redirectUri origin (' + redirectUriOrigin +\n              ') must match the origin of this page (' + windowOrigin + ')');\n          }\n          oauthPromise = addFragmentListener(sdk, windowEl, options.timeout);\n        }\n\n        // The popup may be closed without receiving an OAuth response. Setup a poller to monitor the window.\n        var popupPromise = new Promise(function(resolve, reject) {\n          var closePoller = setInterval(function() {\n            if (!windowEl || windowEl.closed) {\n              clearInterval(closePoller);\n              reject(new AuthSdkError('Unable to parse OAuth flow response'));\n            }\n          }, 100);\n\n          // Proxy the OAuth promise results\n          oauthPromise\n          .then(function(res) {\n            clearInterval(closePoller);\n            resolve(res);\n          })\n          .catch(function(err) {\n            clearInterval(closePoller);\n            reject(err);\n          });\n        });\n\n        return popupPromise\n          .then(function(res) {\n            return handleOAuthResponse(sdk, oauthParams, res, urls);\n          })\n          .finally(function() {\n            if (windowEl && !windowEl.closed) {\n              windowEl.close();\n            }\n          });\n\n      default:\n        throw new AuthSdkError('The full page redirect flow is not supported');\n    }\n  });\n}\n\nfunction getWithoutPrompt(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithoutPrompt\" takes only a single set of options'));\n  }\n  options = util.clone(options) || {};\n  util.extend(options, {\n    prompt: 'none',\n    responseMode: 'okta_post_message',\n    display: null\n  });\n  return getToken(sdk, options);\n}\n\nfunction getWithPopup(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithPopup\" takes only a single set of options'));\n  }\n  options = util.clone(options) || {};\n  util.extend(options, {\n    display: 'popup',\n    responseMode: 'okta_post_message'\n  });\n  return getToken(sdk, options);\n}\n\nfunction prepareOauthParams(sdk, options) {\n  // clone and prepare options\n  options = util.clone(options) || {};\n\n  // build params using defaults + options\n  var oauthParams = getDefaultOAuthParams(sdk);\n  util.extend(oauthParams, options);\n\n  if (oauthParams.pkce === false) {\n    return Promise.resolve(oauthParams);\n  }\n\n  // PKCE flow\n  if (!sdk.features.isPKCESupported()) {\n    return Promise.reject(new AuthSdkError('This browser doesn\\'t support PKCE'));\n  }\n\n  // set default code challenge method, if none provided\n  if (!oauthParams.codeChallengeMethod) {\n    oauthParams.codeChallengeMethod = PKCE.DEFAULT_CODE_CHALLENGE_METHOD;\n  }\n\n  // responseType is forced\n  oauthParams.responseType = 'code';\n\n  return oauthUtil.getWellKnown(sdk, null)\n    .then(function(res) {\n      var methods = res['code_challenge_methods_supported'] || [];\n      if (methods.indexOf(oauthParams.codeChallengeMethod) === -1) {\n        throw new AuthSdkError('Invalid code_challenge_method');\n      }\n    })\n    .then(function() {\n      // PKCE authorization_code flow\n      var codeVerifier = PKCE.generateVerifier(oauthParams.codeVerifier);\n\n      // We will need these values after redirect when we call /token\n      var meta = {\n        codeVerifier: codeVerifier,\n        redirectUri: oauthParams.redirectUri\n      };\n      PKCE.saveMeta(sdk, meta);\n\n      return PKCE.computeChallenge(codeVerifier);\n    })\n    .then(function(codeChallenge) {\n\n      // Clone/copy the params. Set codeChallenge\n      var clonedParams = util.clone(oauthParams) || {};\n      util.extend(clonedParams, oauthParams, {\n        codeChallenge: codeChallenge,\n      });\n      return clonedParams;\n    });\n}\n\nfunction getWithRedirect(sdk, options) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithRedirect\" takes only a single set of options'));\n  }\n  options = util.clone(options) || {};\n\n  return prepareOauthParams(sdk, options)\n    .then(function(oauthParams) {\n      var urls = oauthUtil.getOAuthUrls(sdk, options);\n      var requestUrl = urls.authorizeUrl + buildAuthorizeParams(oauthParams);\n\n      // Set session cookie to store the oauthParams\n      cookies.set(constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME, JSON.stringify({\n        responseType: oauthParams.responseType,\n        state: oauthParams.state,\n        nonce: oauthParams.nonce,\n        scopes: oauthParams.scopes,\n        clientId: oauthParams.clientId,\n        urls: urls,\n        ignoreSignature: oauthParams.ignoreSignature\n      }), null, sdk.options.cookies);\n\n      // Set nonce cookie for servers to validate nonce in id_token\n      cookies.set(constants.REDIRECT_NONCE_COOKIE_NAME, oauthParams.nonce, null, sdk.options.cookies);\n\n      // Set state cookie for servers to validate state\n      cookies.set(constants.REDIRECT_STATE_COOKIE_NAME, oauthParams.state, null, sdk.options.cookies);\n\n      sdk.token.getWithRedirect._setLocation(requestUrl);\n    });\n}\n\nfunction renewToken(sdk, token) {\n  if (!oauthUtil.isToken(token)) {\n    return Promise.reject(new AuthSdkError('Renew must be passed a token with ' +\n      'an array of scopes and an accessToken or idToken'));\n  }\n\n  var responseType;\n  if (sdk.options.pkce) {\n    responseType = 'code';\n  } else if (token.accessToken) {\n    responseType = 'token';\n  } else {\n    responseType = 'id_token';\n  }\n\n  return sdk.token.getWithoutPrompt({\n    responseType: responseType,\n    scopes: token.scopes,\n    authorizeUrl: token.authorizeUrl,\n    userinfoUrl: token.userinfoUrl,\n    issuer: token.issuer\n  })\n  .then(function(res) {\n    // Multiple tokens may have come back. Return only the token which was requested.\n    var tokens = res.tokens;\n    return token.idToken ? tokens.idToken : tokens.accessToken;\n  });\n}\n\nfunction removeHash(sdk) {\n  var nativeHistory = sdk.token.parseFromUrl._getHistory();\n  var nativeDoc = sdk.token.parseFromUrl._getDocument();\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n  if (nativeHistory && nativeHistory.replaceState) {\n    nativeHistory.replaceState(null, nativeDoc.title, nativeLoc.pathname + nativeLoc.search);\n  } else {\n    nativeLoc.hash = '';\n  }\n}\n\nfunction removeSearch(sdk) {\n  var nativeHistory = sdk.token.parseFromUrl._getHistory();\n  var nativeDoc = sdk.token.parseFromUrl._getDocument();\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n  if (nativeHistory && nativeHistory.replaceState) {\n    nativeHistory.replaceState(null, nativeDoc.title, nativeLoc.pathname + nativeLoc.hash);\n  } else {\n    nativeLoc.search = '';\n  }\n}\n\nfunction parseFromUrl(sdk, options) {\n  options = options || {};\n  if (util.isString(options)) {\n    options = { url: options };\n  }\n\n  // https://openid.net/specs/openid-connect-core-1_0.html#Authentication\n  var defaultResponseMode = sdk.options.pkce ? 'query' : 'fragment';\n\n  var url = options.url;\n  var responseMode = options.responseMode || sdk.options.responseMode || defaultResponseMode;\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n  var paramStr;\n\n  if (responseMode === 'query') {\n    paramStr = url ? url.substring(url.indexOf('?')) : nativeLoc.search;\n  } else {\n    paramStr = url ? url.substring(url.indexOf('#')) : nativeLoc.hash;\n  }\n\n  if (!paramStr) {\n    return Promise.reject(new AuthSdkError('Unable to parse a token from the url'));\n  }\n\n  var oauthParamsCookie = cookies.get(constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME);\n  if (!oauthParamsCookie) {\n    return Promise.reject(new AuthSdkError('Unable to retrieve OAuth redirect params cookie'));\n  }\n\n  try {\n    var oauthParams = JSON.parse(oauthParamsCookie);\n    var urls = oauthParams.urls;\n    delete oauthParams.urls;\n    cookies.delete(constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME);\n  } catch(e) {\n    return Promise.reject(new AuthSdkError('Unable to parse the ' +\n    constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME + ' cookie: ' + e.message));\n  }\n\n  return Promise.resolve(oauthUtil.urlParamsToObject(paramStr))\n    .then(function(res) {\n      if (!url) {\n        // Clean hash or search from the url\n        responseMode === 'query' ? removeSearch(sdk) : removeHash(sdk);\n      }\n      return handleOAuthResponse(sdk, oauthParams, res, urls);\n    });\n}\n\nasync function getUserInfo(sdk, accessTokenObject, idTokenObject) {\n  // If token objects were not passed, attempt to read from the TokenManager\n  if (!accessTokenObject) {\n    accessTokenObject = await sdk.tokenManager.get('accessToken');\n  }\n  if (!idTokenObject) {\n    idTokenObject = await sdk.tokenManager.get('idToken');\n  }\n\n  if (!accessTokenObject ||\n      (!oauthUtil.isToken(accessTokenObject) && !accessTokenObject.accessToken && !accessTokenObject.userinfoUrl)) {\n    return Promise.reject(new AuthSdkError('getUserInfo requires an access token object'));\n  }\n\n  if (!idTokenObject ||\n    (!oauthUtil.isToken(idTokenObject) && !idTokenObject.idToken)) {\n    return Promise.reject(new AuthSdkError('getUserInfo requires an ID token object'));\n  }\n\n  return http.httpRequest(sdk, {\n    url: accessTokenObject.userinfoUrl,\n    method: 'GET',\n    accessToken: accessTokenObject.accessToken\n  })\n  .then(userInfo => {\n    // Only return the userinfo response if subjects match to mitigate token substitution attacks\n    if (userInfo.sub === idTokenObject.claims.sub) {\n      return userInfo;\n    }\n    return Promise.reject(new AuthSdkError('getUserInfo request was rejected due to token mismatch'));\n  })\n  .catch(function(err) {\n    if (err.xhr && (err.xhr.status === 401 || err.xhr.status === 403)) {\n      var authenticateHeader;\n      if (err.xhr.headers && util.isFunction(err.xhr.headers.get) && err.xhr.headers.get('WWW-Authenticate')) {\n        authenticateHeader = err.xhr.headers.get('WWW-Authenticate');\n      } else if (util.isFunction(err.xhr.getResponseHeader)) {\n        authenticateHeader = err.xhr.getResponseHeader('WWW-Authenticate');\n      }\n      if (authenticateHeader) {\n        var errorMatches = authenticateHeader.match(/error=\"(.*?)\"/) || [];\n        var errorDescriptionMatches = authenticateHeader.match(/error_description=\"(.*?)\"/) || [];\n        var error = errorMatches[1];\n        var errorDescription = errorDescriptionMatches[1];\n        if (error && errorDescription) {\n          err = new OAuthError(error, errorDescription);\n        }\n      }\n    }\n    throw err;\n  });\n}\n\nmodule.exports = {\n  revokeToken: revokeToken,\n  getToken: getToken,\n  getWithoutPrompt: getWithoutPrompt,\n  getWithPopup: getWithPopup,\n  getWithRedirect: getWithRedirect,\n  parseFromUrl: parseFromUrl,\n  decodeToken: decodeToken,\n  renewToken: renewToken,\n  getUserInfo: getUserInfo,\n  verifyToken: verifyToken,\n  handleOAuthResponse: handleOAuthResponse,\n  prepareOauthParams: prepareOauthParams\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/token.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* global crypto, Uint8Array, TextEncoder */\nvar util = require('./util');\n\nfunction getOidcHash(str) {  \n  var buffer = new TextEncoder().encode(str);\n  return crypto.subtle.digest('SHA-256', buffer).then(function(arrayBuffer) {\n    var intBuffer = new Uint8Array(arrayBuffer);\n    var firstHalf = intBuffer.slice(0, 16);\n    var hash = String.fromCharCode.apply(null, firstHalf);\n    var b64u = util.stringToBase64Url(hash); // url-safe base64 variant\n    return b64u;\n  });\n}\n\nfunction verifyToken(idToken, key) {\n  key = util.clone(key);\n\n  var format = 'jwk';\n  var algo = {\n    name: 'RSASSA-PKCS1-v1_5',\n    hash: { name: 'SHA-256' }\n  };\n  var extractable = true;\n  var usages = ['verify'];\n\n  // https://connect.microsoft.com/IE/feedback/details/2242108/webcryptoapi-importing-jwk-with-use-field-fails\n  // This is a metadata tag that specifies the intent of how the key should be used.\n  // It's not necessary to properly verify the jwt's signature.\n  delete key.use;\n\n  return crypto.subtle.importKey(\n    format,\n    key,\n    algo,\n    extractable,\n    usages\n  )\n  .then(function(cryptoKey) {\n    var jwt = idToken.split('.');\n    var payload = util.stringToBuffer(jwt[0] + '.' + jwt[1]);\n    var b64Signature = util.base64UrlDecode(jwt[2]);\n    var signature = util.stringToBuffer(b64Signature);\n\n    return crypto.subtle.verify(\n      algo,\n      cryptoKey,\n      signature,\n      payload\n    );\n  });\n}\n\nmodule.exports = {\n  getOidcHash: getOidcHash,\n  verifyToken: verifyToken\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/crypto.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction OAuthError(errorCode, summary) {\n  this.name = 'OAuthError';\n  this.message = summary;\n\n  this.errorCode = errorCode;\n  this.errorSummary = summary;\n}\nOAuthError.prototype = new Error();\n\nmodule.exports = OAuthError;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/errors/OAuthError.js","/*!\n * Copyright (c) 2019-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global crypto */\n /* eslint-disable complexity, max-statements */\nvar AuthSdkError  = require('./errors/AuthSdkError');\nvar http          = require('./http');\nvar util          = require('./util');\n\n// Code verifier: Random URL-safe string with a minimum length of 43 characters.\n// Code challenge: Base64 URL-encoded SHA-256 hash of the code verifier.\nvar MIN_VERIFIER_LENGTH = 43;\nvar MAX_VERIFIER_LENGTH = 128;\nvar DEFAULT_CODE_CHALLENGE_METHOD = 'S256';\n\nfunction dec2hex (dec) {\n  return ('0' + dec.toString(16)).substr(-2);\n}\n\nfunction getRandomString(length) {\n  var a = new Uint8Array(Math.ceil(length / 2));\n  crypto.getRandomValues(a);\n  var str = Array.from(a, dec2hex).join('');\n  return str.slice(0, length);\n}\n\nfunction generateVerifier(prefix) {\n  var verifier = prefix || '';\n  if (verifier.length < MIN_VERIFIER_LENGTH) {\n    verifier = verifier + getRandomString(MIN_VERIFIER_LENGTH - verifier.length);\n  }\n  return encodeURIComponent(verifier).slice(0, MAX_VERIFIER_LENGTH);\n}\n\nfunction getStorage(sdk) {\n  return sdk.options.storageUtil.getPKCEStorage(sdk.options.cookies);\n}\n\nfunction saveMeta(sdk, meta) {\n  var storage = getStorage(sdk);\n  storage.setStorage(meta);\n}\n\nfunction loadMeta(sdk) {\n  var storage = getStorage(sdk);\n  var obj = storage.getStorage();\n  return obj;\n}\n\nfunction clearMeta(sdk) {\n  var storage = getStorage(sdk);\n  storage.clearStorage();\n}\n\n/* global Uint8Array, TextEncoder */\nfunction computeChallenge(str) {  \n  var buffer = new TextEncoder().encode(str);\n  return crypto.subtle.digest('SHA-256', buffer).then(function(arrayBuffer) {\n    var hash = String.fromCharCode.apply(null, new Uint8Array(arrayBuffer));\n    var b64u = util.stringToBase64Url(hash); // url-safe base64 variant\n    return b64u;\n  });\n}\n\n\nfunction validateOptions(oauthOptions) {\n  // Quick validation\n  if (!oauthOptions.clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to get a token');\n  }\n\n  if (!oauthOptions.redirectUri) {\n    throw new AuthSdkError('The redirectUri passed to /authorize must also be passed to /token');\n  }\n\n  if (!oauthOptions.authorizationCode) {\n    throw new AuthSdkError('An authorization code (returned from /authorize) must be passed to /token');\n  }\n\n  if (!oauthOptions.codeVerifier) {\n    throw new AuthSdkError('The \"codeVerifier\" (generated and saved by your app) must be passed to /token');\n  }\n}\n\nfunction getPostData(options) {\n  // Convert options to OAuth params\n  var params = util.removeNils({\n    'client_id': options.clientId,\n    'redirect_uri': options.redirectUri,\n    'grant_type': 'authorization_code',\n    'code': options.authorizationCode,\n    'code_verifier': options.codeVerifier\n  });\n  // Encode as URL string\n  return util.toQueryParams(params).slice(1);\n}\n\n// exchange authorization code for an access token\nfunction getToken(sdk, oauthOptions, urls) {\n  validateOptions(oauthOptions);\n  var data = getPostData(oauthOptions);\n\n  return http.httpRequest(sdk, {\n    url: urls.tokenUrl,\n    method: 'POST',\n    args: data,\n    withCredentials: false,\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }\n  });\n}\n\nmodule.exports = {\n  DEFAULT_CODE_CHALLENGE_METHOD: DEFAULT_CODE_CHALLENGE_METHOD,\n  generateVerifier: generateVerifier,\n  clearMeta: clearMeta,\n  saveMeta: saveMeta,\n  loadMeta: loadMeta,\n  computeChallenge: computeChallenge,\n  getToken: getToken\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/pkce.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global localStorage, sessionStorage */\n/* eslint complexity:[0,8] max-statements:[0,21] */\nvar util = require('./util');\nvar AuthSdkError = require('./errors/AuthSdkError');\nvar storageUtil = require('./browser/browserStorage');\nvar constants = require('./constants');\nvar storageBuilder = require('./storageBuilder');\nvar SdkClock = require('./clock');\n\nvar DEFAULT_OPTIONS = {\n  autoRenew: true,\n  storage: 'localStorage',\n  expireEarlySeconds: 30\n};\n\nfunction getExpireTime(tokenMgmtRef, token) {\n  var expireTime = token.expiresAt - tokenMgmtRef.options.expireEarlySeconds;\n  return expireTime;\n}\n\nfunction hasExpired(tokenMgmtRef, token) {\n  var expireTime = getExpireTime(tokenMgmtRef, token);\n  return expireTime <= tokenMgmtRef.clock.now();\n}\n\nfunction emitExpired(tokenMgmtRef, key, token) {\n  tokenMgmtRef.emitter.emit('expired', key, token);\n}\n\nfunction emitError(tokenMgmtRef, error) {\n  tokenMgmtRef.emitter.emit('error', error);\n}\n\nfunction clearExpireEventTimeout(tokenMgmtRef, key) {\n  clearTimeout(tokenMgmtRef.expireTimeouts[key]);\n  delete tokenMgmtRef.expireTimeouts[key];\n\n  // Remove the renew promise (if it exists)\n  delete tokenMgmtRef.renewPromise[key];\n}\n\nfunction clearExpireEventTimeoutAll(tokenMgmtRef) {\n  var expireTimeouts = tokenMgmtRef.expireTimeouts;\n  for (var key in expireTimeouts) {\n    if (!expireTimeouts.hasOwnProperty(key)) {\n      continue;\n    }\n    clearExpireEventTimeout(tokenMgmtRef, key);\n  }\n}\n\nfunction setExpireEventTimeout(sdk, tokenMgmtRef, key, token) {\n  var expireTime = getExpireTime(tokenMgmtRef, token);\n  var expireEventWait = Math.max(expireTime - tokenMgmtRef.clock.now(), 0) * 1000;\n\n  // Clear any existing timeout\n  clearExpireEventTimeout(tokenMgmtRef, key);\n\n  var expireEventTimeout = setTimeout(function() {\n    emitExpired(tokenMgmtRef, key, token);\n  }, expireEventWait);\n\n  // Add a new timeout\n  tokenMgmtRef.expireTimeouts[key] = expireEventTimeout;\n}\n\nfunction setExpireEventTimeoutAll(sdk, tokenMgmtRef, storage) {\n  try {\n    var tokenStorage = storage.getStorage();\n  } catch(e) {\n    // Any errors thrown on instantiation will not be caught,\n    // because there are no listeners yet\n    emitError(tokenMgmtRef, e);\n    return;\n  }\n\n  for(var key in tokenStorage) {\n    if (!tokenStorage.hasOwnProperty(key)) {\n      continue;\n    }\n    var token = tokenStorage[key];\n    setExpireEventTimeout(sdk, tokenMgmtRef, key, token);\n  }\n}\n\nfunction add(sdk, tokenMgmtRef, storage, key, token) {\n  var tokenStorage = storage.getStorage();\n  if (!util.isObject(token) ||\n      !token.scopes ||\n      (!token.expiresAt && token.expiresAt !== 0) ||\n      (!token.idToken && !token.accessToken)) {\n    throw new AuthSdkError('Token must be an Object with scopes, expiresAt, and an idToken or accessToken properties');\n  }\n  tokenStorage[key] = token;\n  storage.setStorage(tokenStorage);\n  setExpireEventTimeout(sdk, tokenMgmtRef, key, token);\n}\n\nfunction get(storage, key) {\n  var tokenStorage = storage.getStorage();\n  return tokenStorage[key];\n}\n\nfunction getAsync(sdk, tokenMgmtRef, storage, key) {\n  return new Promise(function(resolve) {\n    var token = get(storage, key);\n    if (!token || !hasExpired(tokenMgmtRef, token)) {\n      return resolve(token);\n    }\n\n    var tokenPromise = tokenMgmtRef.options.autoRenew\n      ? renew(sdk, tokenMgmtRef, storage, key)\n      : remove(tokenMgmtRef, storage, key);\n\n    return resolve(tokenPromise);\n  });\n}\n\nfunction remove(tokenMgmtRef, storage, key) {\n  // Clear any listener for this token\n  clearExpireEventTimeout(tokenMgmtRef, key);\n\n  // Remove it from storage\n  var tokenStorage = storage.getStorage();\n  delete tokenStorage[key];\n  storage.setStorage(tokenStorage);\n}\n\nfunction renew(sdk, tokenMgmtRef, storage, key) {\n  // Multiple callers may receive the same promise. They will all resolve or reject from the same request.\n  var existingPromise = tokenMgmtRef.renewPromise[key];\n  if (existingPromise) {\n    return existingPromise;\n  }\n\n  try {\n    var token = get(storage, key);\n    if (!token) {\n      throw new AuthSdkError('The tokenManager has no token for the key: ' + key);\n    }\n  } catch (e) {\n    return Promise.reject(e);\n  }\n\n  // Remove existing autoRenew timeout for this key\n  clearExpireEventTimeout(tokenMgmtRef, key);\n\n  // Store the renew promise state, to avoid renewing again\n  tokenMgmtRef.renewPromise[key] = sdk.token.renew(token)\n    .then(function(freshToken) {\n      var oldToken = get(storage, key);\n      if (!oldToken) {\n        // It is possible to enter a state where the tokens have been cleared\n        // after a renewal request was triggered. To ensure we do not store a\n        // renewed token, we verify the promise key doesn't exist and return.\n        return;\n      }\n      add(sdk, tokenMgmtRef, storage, key, freshToken);\n      tokenMgmtRef.emitter.emit('renewed', key, freshToken, oldToken);\n      return freshToken;\n    })\n    .catch(function(err) {\n      if (err.name === 'OAuthError' || err.name === 'AuthSdkError') {\n        remove(tokenMgmtRef, storage, key);\n        err.tokenKey = key;\n        err.accessToken = !!token.accessToken;\n        emitError(tokenMgmtRef, err);\n      }\n      throw err;\n    })\n    .finally(function() {\n      // Remove existing promise key\n      delete tokenMgmtRef.renewPromise[key];\n    });\n\n  return tokenMgmtRef.renewPromise[key];\n}\n\nfunction clear(tokenMgmtRef, storage) {\n  clearExpireEventTimeoutAll(tokenMgmtRef);\n  storage.clearStorage();\n}\n\nfunction TokenManager(sdk, options) {\n  options = util.extend({}, DEFAULT_OPTIONS, util.removeNils(options));\n\n  if (options.storage === 'localStorage' && !storageUtil.browserHasLocalStorage()) {\n    util.warn('This browser doesn\\'t support localStorage. Switching to sessionStorage.');\n    options.storage = 'sessionStorage';\n  }\n\n  if (options.storage === 'sessionStorage' && !storageUtil.browserHasSessionStorage()) {\n    util.warn('This browser doesn\\'t support sessionStorage. Switching to cookie-based storage.');\n    options.storage = 'cookie';\n  }\n\n  var storageProvider;\n  if (typeof options.storage === 'object') {\n    // A custom storage provider must implement getItem(key) and setItem(key, val)\n    storageProvider = options.storage;\n  } else {\n    switch(options.storage) {\n      case 'localStorage':\n        storageProvider = localStorage;\n        break;\n      case 'sessionStorage':\n        storageProvider = sessionStorage;\n        break;\n      case 'cookie':\n        storageProvider = storageUtil.getCookieStorage(sdk.options.cookies);\n        break;\n      case 'memory':\n        storageProvider = storageUtil.getInMemoryStorage();\n        break;\n      default:\n        throw new AuthSdkError('Unrecognized storage option');\n    }\n  }\n  var storageKey = options.storageKey || constants.TOKEN_STORAGE_NAME;\n  var storage = storageBuilder(storageProvider, storageKey);\n  var clock = SdkClock.create(sdk, options);\n  var tokenMgmtRef = {\n    clock: clock,\n    options: options,\n    emitter: sdk.emitter,\n    expireTimeouts: {},\n    renewPromise: {}\n  };\n\n  this.add = util.bind(add, this, sdk, tokenMgmtRef, storage);\n  this.get = util.bind(getAsync, this, sdk, tokenMgmtRef, storage);\n  this.remove = util.bind(remove, this, tokenMgmtRef, storage);\n  this.clear = util.bind(clear, this, tokenMgmtRef, storage);\n  this.renew = util.bind(renew, this, sdk, tokenMgmtRef, storage);\n  this.on = util.bind(tokenMgmtRef.emitter.on, tokenMgmtRef.emitter);\n  this.off = util.bind(tokenMgmtRef.emitter.off, tokenMgmtRef.emitter);\n\n  setExpireEventTimeoutAll(sdk, tokenMgmtRef, storage);\n}\n\nmodule.exports = TokenManager;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/TokenManager.js","var util = require('./util');\n\nfunction SdkClock(localOffset) {\n  // Calculated local clock offset from server time (in milliseconds). Can be positive or negative.\n  this.localOffset = parseInt(localOffset || 0);\n}\n\nutil.extend(SdkClock.prototype, {\n  // Return the current time (in seconds)\n  now: function() {\n    var now = (Date.now() + this.localOffset) / 1000;\n    return now;\n  }\n});\n\n// factory method. Create an instance of a clock from current context.\nSdkClock.create = function(/* sdk, options */) {\n  // TODO: calculate localOffset\n  var localOffset = 0;\n  return new SdkClock(localOffset);\n};\n\nmodule.exports = SdkClock;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/clock.js"],"sourceRoot":""},"metadata":{},"sourceType":"script"}