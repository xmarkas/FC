{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\FC-SERVER\\\\food-commune\\\\src\\\\components\\\\AddDeal.jsx\";\nimport React, { Component } from \"react\";\n\nclass AddDeal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      description: \"\",\n      summary: \"\",\n      category: \"\",\n      unit_measure: \"\",\n      units: \"\",\n      price: \"\",\n      public: 0,\n      imageName: \"\"\n    };\n\n    this.onFormChange = ev => {\n      let set = {};\n      set[ev.target.id] = ev.target.value;\n      this.setState(set);\n    };\n\n    this.createDeal = () => {\n      let payload = {};\n      Object.keys(this.state).forEach(k => {\n        if (![\"imageName\"].includes(k)) {\n          // Exclude state list\n          payload[k] = this.state[k];\n        }\n      });\n      let file = document.getElementById(\"image_url1\").files[0];\n      let formData = new FormData();\n      formData.append(\"file\", file); // Append file name and user id to payload\n\n      if (file) {\n        payload.image_url = `${this.props.user.id}@${file.name}`;\n        payload.user_id = this.props.user.id;\n        console.log(payload); // Send image\n\n        fetch(`/imageUpload?userid=${this.props.user.id}`, {\n          body: formData,\n          method: \"POST\"\n        }).then(res => {\n          return res.json();\n        }).then(res => {\n          console.log(res);\n        });\n      }\n\n      if (this.props.editDeal) {\n        // Update Deal\n        console.log(payload);\n        this.props.updateDeal(payload);\n      } else {\n        // Insert Deal\n        console.log(\"---> NEW DEAL\");\n        this.props.newDeal(payload);\n      }\n    };\n\n    this.uploadImage = ev => {\n      console.log(\"IMAGE ALT\");\n      console.log(ev.target.files);\n      this.setState({\n        imageName: ev.target.files[0].name\n      });\n    };\n\n    this.publicSetting = ev => {\n      this.setState({\n        public: ev.target.checked ? 1 : 0\n      });\n    };\n\n    if (props.editDeal) {\n      this.state = props.editDeal;\n      console.log(props.editDeal);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"item-view-container\",\n      onClick: ev => {\n        if (ev.target.id === \"item-view-container\") this.props.showAddDeal();\n      },\n      className: \"view-container\",\n      style: {\n        overflowY: \"auto\",\n        position: \"absolute\",\n        height: \"100%\",\n        width: \"100%\",\n        zIndex: \"1000\",\n        top: \"0\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-dialog\",\n      role: \"document\",\n      style: {\n        boxShadow: \"0 0 16px 2px rgba(0,0,0,.3)\",\n        maxWidth: \"425pm!important\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-close\",\n      onClick: this.props.showAddDeal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-window-close modal-close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header spartan d-flex align-items-center justify-content-center\",\n      style: {\n        backgroundColor: \"#346802\",\n        color: \"white\",\n        padding: \"12px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: \"40px\",\n      src: \"./media/logoAlpha.gif\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }, this.props.editDeal ? \"Editing Deal\" : \"New Deal\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: ev => this.onFormChange(ev),\n      value: this.state.description,\n      type: \"text\",\n      className: \"form-control\",\n      id: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      style: {\n        color: this.state.description.length > 30 ? \"#dc3545\" : \"#6c757d\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, \"maximum length 30 characters (\", 30 - this.state.description.length, \" remaining)\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }, \"Summary - Tell them about your deal\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      onChange: ev => this.onFormChange(ev),\n      value: this.state.summary,\n      type: \"text\",\n      className: \"form-control\",\n      id: \"summary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      style: {\n        color: this.state.summary.length > 250 ? \"#dc3545\" : \"#6c757d\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }\n    }, \"maximum length 250 characters (\", 250 - this.state.summary.length, \" remaining)\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 21\n      }\n    }, \"Category\"), /*#__PURE__*/React.createElement(\"select\", {\n      onChange: ev => this.onFormChange(ev),\n      value: this.state.category,\n      id: \"category\",\n      className: \"form-control form-control-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 23\n      }\n    }, \"Fruit\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 23\n      }\n    }, \"Vegetables\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 23\n      }\n    }, \"Spices and Stuff\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 23\n      }\n    }, \"Chesse and Dairy\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 23\n      }\n    }, \"Meats and Poultry\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 23\n      }\n    }, \"Seafood\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }\n    }, \"Unit measure\"), /*#__PURE__*/React.createElement(\"select\", {\n      onChange: ev => this.onFormChange(ev),\n      value: this.state.unit_measure,\n      id: \"unit_measure\",\n      className: \"form-control form-control-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"lbs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 23\n      }\n    }, \"lbs (pounds)\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"oz\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 23\n      }\n    }, \"oz (ounces)\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"kg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 23\n      }\n    }, \"kg (kilograms)\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"g\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 23\n      }\n    }, \"g (grams)\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"gal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 23\n      }\n    }, \"gal (gallons)\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"qt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 23\n      }\n    }, \"qt (quarts)\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"case\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 23\n      }\n    }, \"case\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"doz\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 23\n      }\n    }, \"doz (dozen)\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 21\n      }\n    }, \"Price\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      style: {\n        backgroundColor: \"#f8f9fa\",\n        fontSize: \".8rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 25\n      }\n    }, \"$\")), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: ev => this.onFormChange(ev),\n      value: this.state.price,\n      type: \"number\",\n      className: \"form-control\",\n      id: \"price\",\n      style: {\n        fontSize: \".8rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 23\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 21\n      }\n    }, \"Units\"), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: ev => this.onFormChange(ev),\n      value: this.state.units,\n      type: \"number\",\n      className: \"form-control\",\n      id: \"units\",\n      style: {\n        fontSize: \".8rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 21\n      }\n    }, \"Number of units included in your item\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-text\",\n      style: {\n        backgroundColor: \"#f8f9fa\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      checked: !!this.state.public,\n      type: \"checkbox\",\n      style: {\n        fontSize: \".8rem\"\n      },\n      onChange: ev => this.publicSetting(ev),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"span\", {\n      type: \"text\",\n      className: \"form-control\",\n      \"aria-label\": \"Text input with checkbox\",\n      style: {\n        fontSize: \".8rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 21\n      }\n    }, \"Make this offer public\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group my-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"input-group-text\",\n      id: \"uploadInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 23\n      }\n    }, \"Upload Image\")), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"custom-file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      class: \"custom-file-input\",\n      id: \"image_url1\",\n      \"aria-describedby\": \"uploadInput\",\n      onChange: ev => this.uploadImage(ev),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      class: \"custom-file-label\",\n      for: \"image_url1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 23\n      }\n    }, this.state.imageName === \"\" ? \"Choose File\" : this.state.imageName)))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer\",\n      style: {\n        justifyContent: \"space-evenly\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 13\n      }\n    }, !this.props.editDeal && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-primary flex-cc\",\n      onClick: this.createDeal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/media/logoAlpha.gif\",\n      alt: \"\",\n      style: {\n        width: \"15px\",\n        marginRight: \"2px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 19\n      }\n    }), \"Create\"), this.props.editDeal && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-primary flex-cc\",\n      onClick: this.createDeal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/media/logoAlpha.gif\",\n      alt: \"\",\n      style: {\n        width: \"15px\",\n        marginRight: \"2px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 19\n      }\n    }), \"Update\")))));\n  }\n\n}\n\nexport default AddDeal;","map":{"version":3,"sources":["C:/Users/xmark/Desktop/Code/Servers/FC-SERVER/food-commune/src/components/AddDeal.jsx"],"names":["React","Component","AddDeal","constructor","props","state","description","summary","category","unit_measure","units","price","public","imageName","onFormChange","ev","set","target","id","value","setState","createDeal","payload","Object","keys","forEach","k","includes","file","document","getElementById","files","formData","FormData","append","image_url","user","name","user_id","console","log","fetch","body","method","then","res","json","editDeal","updateDeal","newDeal","uploadImage","publicSetting","checked","render","showAddDeal","overflowY","position","height","width","zIndex","top","boxShadow","maxWidth","backgroundColor","color","padding","length","fontSize","justifyContent","marginRight"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nclass AddDeal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    if (props.editDeal) {\r\n      this.state = props.editDeal;\r\n      console.log(props.editDeal);\r\n    }\r\n  }\r\n  state = {\r\n    description: \"\",\r\n    summary: \"\",\r\n    category: \"\",\r\n    unit_measure: \"\",\r\n    units: \"\",\r\n    price: \"\",\r\n    public: 0,\r\n    imageName: \"\",\r\n  };\r\n\r\n  onFormChange = (ev) => {\r\n    let set = {};\r\n    set[ev.target.id] = ev.target.value;\r\n    this.setState(set);\r\n  };\r\n\r\n  createDeal = () => {\r\n    let payload = {};\r\n    Object.keys(this.state).forEach((k) => {\r\n      if (![\"imageName\"].includes(k)) {\r\n        // Exclude state list\r\n        payload[k] = this.state[k];\r\n      }\r\n    });\r\n\r\n    let file = document.getElementById(\"image_url1\").files[0];\r\n    let formData = new FormData();\r\n    formData.append(\"file\", file);\r\n\r\n    // Append file name and user id to payload\r\n    if (file) {\r\n      payload.image_url = `${this.props.user.id}@${file.name}`;\r\n      payload.user_id = this.props.user.id;\r\n      console.log(payload);\r\n\r\n      // Send image\r\n      fetch(`/imageUpload?userid=${this.props.user.id}`, {\r\n        body: formData,\r\n        method: \"POST\",\r\n      })\r\n        .then((res) => {\r\n          return res.json();\r\n        })\r\n        .then((res) => {\r\n          console.log(res);\r\n        });\r\n    }\r\n\r\n    if (this.props.editDeal) {\r\n      // Update Deal\r\n      console.log(payload);\r\n      this.props.updateDeal(payload);\r\n    } else {\r\n      // Insert Deal\r\n      console.log(\"---> NEW DEAL\");\r\n      this.props.newDeal(payload);\r\n    }\r\n  };\r\n\r\n  uploadImage = (ev) => {\r\n    console.log(\"IMAGE ALT\");\r\n    console.log(ev.target.files);\r\n    this.setState({ imageName: ev.target.files[0].name });\r\n  };\r\n\r\n  publicSetting = (ev) => {\r\n    this.setState({ public: ev.target.checked ? 1 : 0 });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        id=\"item-view-container\"\r\n        onClick={(ev) => {\r\n          if (ev.target.id === \"item-view-container\") this.props.showAddDeal();\r\n        }}\r\n        className=\"view-container\"\r\n        style={{\r\n          overflowY: \"auto\",\r\n          position: \"absolute\",\r\n          height: \"100%\",\r\n          width: \"100%\",\r\n          zIndex: \"1000\",\r\n          top: \"0\",\r\n        }}\r\n      >\r\n        <div\r\n          className=\"modal-dialog\"\r\n          role=\"document\"\r\n          style={{\r\n            boxShadow: \"0 0 16px 2px rgba(0,0,0,.3)\",\r\n            maxWidth: \"425pm!important\",\r\n          }}\r\n        >\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-close\" onClick={this.props.showAddDeal}>\r\n              <i className=\"fas fa-window-close modal-close\"></i>\r\n            </div>\r\n            <div\r\n              className=\"header spartan d-flex align-items-center justify-content-center\"\r\n              style={{\r\n                backgroundColor: \"#346802\",\r\n                color: \"white\",\r\n                padding: \"12px\",\r\n              }}\r\n            >\r\n              <img width=\"40px\" src=\"./media/logoAlpha.gif\" alt=\"\" />{\" \"}\r\n              <div>{this.props.editDeal ? \"Editing Deal\" : \"New Deal\"}</div>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              {/* Description */}\r\n              <div className=\"form-group\">\r\n                <label>Description</label>\r\n                <input\r\n                  onChange={(ev) => this.onFormChange(ev)}\r\n                  value={this.state.description}\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"description\"\r\n                ></input>\r\n                <small\r\n                  style={{\r\n                    color:\r\n                      this.state.description.length > 30\r\n                        ? \"#dc3545\"\r\n                        : \"#6c757d\",\r\n                  }}\r\n                >\r\n                  maximum length 30 characters (\r\n                  {30 - this.state.description.length} remaining)\r\n                </small>\r\n              </div>\r\n              {/* Summary  */}\r\n              <div className=\"form-group\">\r\n                <label>Summary - Tell them about your deal</label>\r\n                <textarea\r\n                  onChange={(ev) => this.onFormChange(ev)}\r\n                  value={this.state.summary}\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"summary\"\r\n                ></textarea>\r\n                <small\r\n                  style={{\r\n                    color:\r\n                      this.state.summary.length > 250 ? \"#dc3545\" : \"#6c757d\",\r\n                  }}\r\n                >\r\n                  maximum length 250 characters (\r\n                  {250 - this.state.summary.length} remaining)\r\n                </small>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"col\">\r\n                  {/* Category */}\r\n                  <div className=\"form-group\">\r\n                    <label>Category</label>\r\n                    <select\r\n                      onChange={(ev) => this.onFormChange(ev)}\r\n                      value={this.state.category}\r\n                      id=\"category\"\r\n                      className=\"form-control form-control-sm\"\r\n                    >\r\n                      <option>Fruit</option>\r\n                      <option>Vegetables</option>\r\n                      <option>Spices and Stuff</option>\r\n                      <option>Chesse and Dairy</option>\r\n                      <option>Meats and Poultry</option>\r\n                      <option>Seafood</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col\">\r\n                  {/* Unit Measure*/}\r\n                  <div className=\"form-group\">\r\n                    <label>Unit measure</label>\r\n                    <select\r\n                      onChange={(ev) => this.onFormChange(ev)}\r\n                      value={this.state.unit_measure}\r\n                      id=\"unit_measure\"\r\n                      className=\"form-control form-control-sm\"\r\n                    >\r\n                      <option value=\"lbs\">lbs (pounds)</option>\r\n                      <option value=\"oz\">oz (ounces)</option>\r\n                      <option value=\"kg\">kg (kilograms)</option>\r\n                      <option value=\"g\">g (grams)</option>\r\n                      <option value=\"gal\">gal (gallons)</option>\r\n                      <option value=\"qt\">qt (quarts)</option>\r\n                      <option value=\"case\">case</option>\r\n                      <option value=\"doz\">doz (dozen)</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"col\">\r\n                  {/* Price */}\r\n                  <div className=\"form-group\">\r\n                    <label>Price</label>\r\n                    <div className=\"input-group\">\r\n                      <div className=\"input-group-prepend\">\r\n                        <span\r\n                          className=\"input-group-text\"\r\n                          style={{\r\n                            backgroundColor: \"#f8f9fa\",\r\n                            fontSize: \".8rem\",\r\n                          }}\r\n                        >\r\n                          $\r\n                        </span>\r\n                      </div>\r\n                      <input\r\n                        onChange={(ev) => this.onFormChange(ev)}\r\n                        value={this.state.price}\r\n                        type=\"number\"\r\n                        className=\"form-control\"\r\n                        id=\"price\"\r\n                        style={{ fontSize: \".8rem\" }}\r\n                      ></input>\r\n\r\n                      {/* <small className=\"text-muted\">\r\n                      No need to include a '$' symbol\r\n                    </small> */}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col\">\r\n                  {/* Units */}\r\n                  <div className=\"form-group\">\r\n                    <label>Units</label>\r\n                    <input\r\n                      onChange={(ev) => this.onFormChange(ev)}\r\n                      value={this.state.units}\r\n                      type=\"number\"\r\n                      className=\"form-control\"\r\n                      id=\"units\"\r\n                      style={{ fontSize: \".8rem\" }}\r\n                    ></input>\r\n                    <small className=\"text-muted\">\r\n                      Number of units included in your item\r\n                    </small>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Public setting */}\r\n              <div className=\"row\">\r\n                <div className=\"col-12 col-md-6\">\r\n                  <div className=\"input-group\">\r\n                    <div className=\"input-group-prepend\">\r\n                      <div\r\n                        className=\"input-group-text\"\r\n                        style={{ backgroundColor: \"#f8f9fa\" }}\r\n                      >\r\n                        <input\r\n                          checked={!!this.state.public}\r\n                          type=\"checkbox\"\r\n                          style={{ fontSize: \".8rem\" }}\r\n                          onChange={(ev) => this.publicSetting(ev)}\r\n                        ></input>\r\n                      </div>\r\n                    </div>\r\n                    <span\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      aria-label=\"Text input with checkbox\"\r\n                      style={{ fontSize: \".8rem\" }}\r\n                    >\r\n                      Make this offer public\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Upload image */}\r\n              {/* <div className=\"form-group\">\r\n                <label>Upload an image of your product</label>\r\n                <input\r\n                  //   value={this.state.image_url}\r\n                  type=\"file\"\r\n                  className=\"form-control-file\"\r\n                  id=\"image_url\"\r\n                ></input>\r\n              </div> */}\r\n\r\n              {/* Upload image alt */}\r\n              <div className=\"row\">\r\n                <div className=\"col\">\r\n                  <div class=\"input-group my-2\">\r\n                    <div class=\"input-group-prepend\">\r\n                      <span class=\"input-group-text\" id=\"uploadInput\">\r\n                        Upload Image\r\n                      </span>\r\n                    </div>\r\n                    <div class=\"custom-file\">\r\n                      <input\r\n                        type=\"file\"\r\n                        class=\"custom-file-input\"\r\n                        id=\"image_url1\"\r\n                        aria-describedby=\"uploadInput\"\r\n                        onChange={(ev) => this.uploadImage(ev)}\r\n                      ></input>\r\n                      <label class=\"custom-file-label\" for=\"image_url1\">\r\n                        {this.state.imageName === \"\"\r\n                          ? \"Choose File\"\r\n                          : this.state.imageName}\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div\r\n              className=\"modal-footer\"\r\n              style={{ justifyContent: \"space-evenly\" }}\r\n            >\r\n              {!this.props.editDeal && (\r\n                <button\r\n                  className=\"btn btn-sm btn-primary flex-cc\"\r\n                  onClick={this.createDeal}\r\n                >\r\n                  <img\r\n                    src=\"/media/logoAlpha.gif\"\r\n                    alt=\"\"\r\n                    style={{ width: \"15px\", marginRight: \"2px\" }}\r\n                  ></img>\r\n                  Create\r\n                </button>\r\n              )}\r\n              {this.props.editDeal && (\r\n                <button\r\n                  className=\"btn btn-sm btn-primary flex-cc\"\r\n                  onClick={this.createDeal}\r\n                >\r\n                  <img\r\n                    src=\"/media/logoAlpha.gif\"\r\n                    alt=\"\"\r\n                    style={{ width: \"15px\", marginRight: \"2px\" }}\r\n                  ></img>\r\n                  Update\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddDeal;\r\n"]},"metadata":{},"sourceType":"module"}