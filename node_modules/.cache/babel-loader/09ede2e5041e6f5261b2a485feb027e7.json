{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\src\\\\components\\\\MyGroupBuys.jsx\";\nimport React, { Component } from \"react\";\nimport MyGroupOrders from \"./MyGroupOrders\";\n\nclass MyGroupBuys extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      menuIndex: null,\n      viewOrder: null,\n      showBuyOptions: null\n    };\n\n    this.totalUnitsPurchased = dealId => {\n      let units = 0;\n      this.props.data.Purchases.forEach(p => {\n        if (p.deal_id === dealId) {\n          units += p.purchase_units;\n        }\n      });\n      return units;\n    };\n\n    this.seeOrder = order => {\n      this.setState({\n        viewOrder: order\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 7\n      }\n    }, this.state.viewOrder && /*#__PURE__*/React.createElement(MyGroupOrders, {\n      data: this.props.data,\n      Buy: this.state.viewOrder,\n      seeOrder: this.seeOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }\n    }), !this.state.viewOrder && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card bg-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header button-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 15\n      }\n    }, \"Our Buys - Place Your Order Now!\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-primary\",\n      style: {\n        font: \"small-caption\",\n        float: \"right\"\n      },\n      onClick: () => {\n        window.location.href = \"/foodcommune/catalog.html\";\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 15\n      }\n    }, \"catalog\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body p-0\",\n      style: {\n        overflowY: \"auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      id: \"group-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      id: \"group-buys-list\",\n      style: {\n        listStyle: \"none\",\n        padding: \"0\",\n        fontSize: \"small\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, this.props.data && this.props.data.Buys.map((b, index) => {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        key: index,\n        className: \"row group-buy-item\",\n        onClick: () => this.props.itemView(b),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"seller-img\",\n        src: \"./Uploads/Deal_Images/\" + b.image_url,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 31\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6\",\n        style: {\n          color: \"dimgray\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"item-emph\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 31\n        }\n      }, b.description)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3\",\n        style: {\n          color: \"#28a745\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 29\n        }\n      }, this.totalUnitsPurchased(b.id), \"/\", b.units, b.unit_measure), this.props.userIsMember == 0 && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 buy-ellips d-flex\",\n        onClick: ev => {\n          ev.stopPropagation();\n          this.setState({\n            menuIndex: index === this.state.menuIndex ? null : index\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-ellipsis-v\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 33\n        }\n      }), this.state.menuIndex === index && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"buy-ellips-menu\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        onClick: () => this.props.removeBuy(b.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 37\n        }\n      }, \"Remove\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mt-1\",\n        onClick: () => this.seeOrder(b),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 37\n        }\n      }, \"Orders\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: index === this.state.showBuyOptions ? \"row buy-options bo-show\" : \"row buy-options\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 31\n        }\n      }, \"Order quantity in \", b.unit_measure), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 31\n        }\n      }))));\n    }))))));\n  }\n\n}\n\nexport default MyGroupBuys;","map":{"version":3,"sources":["C:/Users/xmark/Desktop/Code/Servers/Qumoc/food-commune/src/components/MyGroupBuys.jsx"],"names":["React","Component","MyGroupOrders","MyGroupBuys","state","menuIndex","viewOrder","showBuyOptions","totalUnitsPurchased","dealId","units","props","data","Purchases","forEach","p","deal_id","purchase_units","seeOrder","order","setState","render","font","float","window","location","href","overflowY","listStyle","padding","fontSize","Buys","map","b","index","itemView","image_url","color","description","id","unit_measure","userIsMember","ev","stopPropagation","removeBuy"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport MyGroupOrders from \"./MyGroupOrders\";\r\n\r\nclass MyGroupBuys extends Component {\r\n  state = {\r\n    menuIndex: null,\r\n    viewOrder: null,\r\n    showBuyOptions: null\r\n  };\r\n\r\n  totalUnitsPurchased = dealId => {\r\n    let units = 0;\r\n    this.props.data.Purchases.forEach(p => {\r\n      if (p.deal_id === dealId) {\r\n        units += p.purchase_units;\r\n      }\r\n    });\r\n\r\n    return units;\r\n  };\r\n\r\n  seeOrder = order => {\r\n    this.setState({ viewOrder: order });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        {this.state.viewOrder && (\r\n          <MyGroupOrders\r\n            data={this.props.data}\r\n            Buy={this.state.viewOrder}\r\n            seeOrder={this.seeOrder}\r\n          />\r\n        )}\r\n        {!this.state.viewOrder && (\r\n          <div className=\"card bg-light\">\r\n            <div className=\"card-header button-group\">\r\n              <div>Our Buys - Place Your Order Now!</div>\r\n              <button\r\n                className=\"btn btn-sm btn-primary\"\r\n                style={{ font: \"small-caption\", float: \"right\" }}\r\n                onClick={() => {\r\n                  window.location.href = \"/foodcommune/catalog.html\";\r\n                }}\r\n              >\r\n                catalog\r\n              </button>\r\n            </div>\r\n            <div className=\"card-body p-0\" style={{ overflowY: \"auto\" }}>\r\n              <div className=\"container-fluid\" id=\"group-list\">\r\n                <ul\r\n                  id=\"group-buys-list\"\r\n                  style={{ listStyle: \"none\", padding: \"0\", fontSize: \"small\" }}\r\n                >\r\n                  {this.props.data &&\r\n                    this.props.data.Buys.map((b, index) => {\r\n                      return (\r\n                        <React.Fragment>\r\n                          <li\r\n                            key={index}\r\n                            className=\"row group-buy-item\"\r\n                            onClick={() => this.props.itemView(b)}\r\n                          >\r\n                            {/* Item image */}\r\n                            <div className=\"col-2\">\r\n                              <img\r\n                                className=\"seller-img\"\r\n                                src={\"./Uploads/Deal_Images/\" + b.image_url}\r\n                                alt=\"\"\r\n                              />\r\n                            </div>\r\n                            {/* Item info */}\r\n                            <div className=\"col-6\" style={{ color: \"dimgray\" }}>\r\n                              <span className=\"item-emph\">{b.description}</span>\r\n                            </div>\r\n                            <div className=\"col-3\" style={{ color: \"#28a745\" }}>\r\n                              {this.totalUnitsPurchased(b.id)}/{b.units}\r\n                              {b.unit_measure}\r\n                            </div>\r\n                            {this.props.userIsMember == 0 && (\r\n                              <div\r\n                                className=\"col-1 buy-ellips d-flex\"\r\n                                onClick={ev => {\r\n                                  ev.stopPropagation();\r\n                                  this.setState({\r\n                                    menuIndex:\r\n                                      index === this.state.menuIndex\r\n                                        ? null\r\n                                        : index\r\n                                  });\r\n                                }}\r\n                              >\r\n                                <i className=\"fas fa-ellipsis-v\"></i>\r\n                                {this.state.menuIndex === index && (\r\n                                  <div className=\"buy-ellips-menu\">\r\n                                    <div\r\n                                      onClick={() => this.props.removeBuy(b.id)}\r\n                                    >\r\n                                      Remove\r\n                                    </div>\r\n                                    <div\r\n                                      className=\"mt-1\"\r\n                                      onClick={() => this.seeOrder(b)}\r\n                                    >\r\n                                      Orders\r\n                                    </div>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            )}\r\n                          </li>\r\n                          <div\r\n                            className={\r\n                              index === this.state.showBuyOptions\r\n                                ? \"row buy-options bo-show\"\r\n                                : \"row buy-options\"\r\n                            }\r\n                          >\r\n                            <div>\r\n                              <span>Order quantity in {b.unit_measure}</span>\r\n                              <input type=\"number\"></input>\r\n                                \r\n                            </div>\r\n                          </div>\r\n                        </React.Fragment>\r\n                      );\r\n                    })}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyGroupBuys;\r\n"]},"metadata":{},"sourceType":"module"}