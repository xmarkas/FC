{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\src\\\\components\\\\MyGroupBuys.jsx\";\nimport React, { Component } from \"react\";\nimport MyGroupOrders from \"./MyGroupOrders\";\nimport { Link } from \"react-router-dom\";\n\nclass MyGroupBuys extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      menuIndex: null,\n      viewOrder: null,\n      showBuyOptions: null,\n      buyQuantity: 0\n    };\n\n    this.totalUnitsPurchased = dealId => {\n      let units = 0;\n      this.props.data.Purchases.forEach(p => {\n        if (p.deal_id === dealId) {\n          units += p.purchase_units;\n        }\n      });\n      return units;\n    };\n\n    this.seeOrder = order => {\n      this.setState({\n        viewOrder: order\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 7\n      }\n    }, this.state.viewOrder && /*#__PURE__*/React.createElement(MyGroupOrders, {\n      data: this.props.data,\n      Buy: this.state.viewOrder,\n      seeOrder: this.seeOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 11\n      }\n    }), !this.state.viewOrder && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card bg-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header button-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 15\n      }\n    }, \"Our Buys - Place Your Order Now!\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/foodcommune/catalog\",\n      className: \"btn btn-sm btn-primary\",\n      style: {\n        font: \"small-caption\",\n        float: \"right\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 15\n      }\n    }, \"catalog\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body p-0\",\n      style: {\n        overflowY: \"auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      id: \"group-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      id: \"group-buys-list\",\n      style: {\n        listStyle: \"none\",\n        padding: \"0\",\n        fontSize: \"small\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, this.props.data && this.props.data.Buys.map((b, index) => {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        key: index,\n        className: \"row group-buy-item\",\n        style: {\n          boxShadow: this.state.showBuyOptions === index ? \"0px 4px 6px 1px rgba(0, 0, 0, 0.2)\" : \"none\"\n        },\n        onClick: () => this.setState({\n          showBuyOptions: this.state.showBuyOptions === index ? null : index\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"seller-img\",\n        src: \"./Uploads/Deal_Images/\" + b.image_url,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 31\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-10\",\n        style: {\n          color: \"dimgray\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"item-emph\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 31\n        }\n      }, b.description)), this.props.userIsMember == 0 && /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          position: \"absolute\",\n          right: \"5px\"\n        },\n        className: \"buy-ellips d-flex\",\n        onClick: ev => {\n          ev.stopPropagation();\n          this.setState({\n            menuIndex: index === this.state.menuIndex ? null : index\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-ellipsis-v\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 33\n        }\n      }), this.state.menuIndex === index && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"buy-ellips-menu\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        onClick: () => this.props.removeBuy(b.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 37\n        }\n      }, \"Remove\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mt-1\",\n        onClick: () => this.seeOrder(b),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 37\n        }\n      }, \"Orders\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: index === this.state.showBuyOptions ? \"buy-options bo-show\" : \"buy-options\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row justify-content-center align-items-center my-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4\",\n        style: {\n          justifyContent: \"space-between\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"buy-cost\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 35\n        }\n      }, \"Cost $\", (b.price / b.units * this.state.buyQuantity).toFixed(2)))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-5 text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 33\n        }\n      }, \"Order quantity in \", b.unit_measure), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"ml-2\",\n        style: {\n          borderStyle: \"none\",\n          borderRadius: \"3px\",\n          width: \"50px\",\n          textAlign: \"center\"\n        },\n        value: this.state.buyQuantity,\n        type: \"number\",\n        onChange: ev => this.setState({\n          buyQuantity: ev.target.value\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 31\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm btn-primary mx-2\",\n        onClick: () => this.setState({\n          buyQuantity: this.state.buyQuantity + 1\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-plus\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm btn-primary mx-2\",\n        onClick: () => this.setState({\n          buyQuantity: this.state.buyQuantity - 1\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-minus\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 37\n        }\n      }))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row justify-content-center align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-7\",\n        style: {\n          fontSize: \"x-small\",\n          fontWeight: \"700\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 33\n        }\n      }, \"Description: \", b.summary), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 33\n        }\n      }, \"Deal: \", b.units, \" \", b.unit_measure, \" for $\", b.price)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3\",\n        style: {\n          fontSize: \"x-small\",\n          fontWeight: \"700\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 33\n        }\n      }, \"Group orders \", this.totalUnitsPurchased(b.id), \"/\", b.units, b.unit_measure)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm btn-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 33\n        }\n      }, \"Buy\")))));\n    }))))));\n  }\n\n}\n\nexport default MyGroupBuys;","map":{"version":3,"sources":["C:/Users/xmark/Desktop/Code/Servers/Qumoc/food-commune/src/components/MyGroupBuys.jsx"],"names":["React","Component","MyGroupOrders","Link","MyGroupBuys","state","menuIndex","viewOrder","showBuyOptions","buyQuantity","totalUnitsPurchased","dealId","units","props","data","Purchases","forEach","p","deal_id","purchase_units","seeOrder","order","setState","render","font","float","overflowY","listStyle","padding","fontSize","Buys","map","b","index","boxShadow","image_url","color","description","userIsMember","position","right","ev","stopPropagation","removeBuy","id","justifyContent","price","toFixed","unit_measure","borderStyle","borderRadius","width","textAlign","target","value","fontWeight","summary"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport MyGroupOrders from \"./MyGroupOrders\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass MyGroupBuys extends Component {\r\n  state = {\r\n    menuIndex: null,\r\n    viewOrder: null,\r\n    showBuyOptions: null,\r\n    buyQuantity: 0\r\n  };\r\n\r\n  totalUnitsPurchased = dealId => {\r\n    let units = 0;\r\n    this.props.data.Purchases.forEach(p => {\r\n      if (p.deal_id === dealId) {\r\n        units += p.purchase_units;\r\n      }\r\n    });\r\n\r\n    return units;\r\n  };\r\n\r\n  seeOrder = order => {\r\n    this.setState({ viewOrder: order });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        {this.state.viewOrder && (\r\n          <MyGroupOrders\r\n            data={this.props.data}\r\n            Buy={this.state.viewOrder}\r\n            seeOrder={this.seeOrder}\r\n          />\r\n        )}\r\n        {!this.state.viewOrder && (\r\n          <div className=\"card bg-light\">\r\n            <div className=\"card-header button-group\">\r\n              <div>Our Buys - Place Your Order Now!</div>\r\n              <Link\r\n                to=\"/foodcommune/catalog\"\r\n                className=\"btn btn-sm btn-primary\"\r\n                style={{ font: \"small-caption\", float: \"right\" }}\r\n              >\r\n                catalog\r\n              </Link>\r\n            </div>\r\n            <div className=\"card-body p-0\" style={{ overflowY: \"auto\" }}>\r\n              <div className=\"container-fluid\" id=\"group-list\">\r\n                <ul\r\n                  id=\"group-buys-list\"\r\n                  style={{ listStyle: \"none\", padding: \"0\", fontSize: \"small\" }}\r\n                >\r\n                  {this.props.data &&\r\n                    this.props.data.Buys.map((b, index) => {\r\n                      return (\r\n                        <React.Fragment>\r\n                          <li\r\n                            key={index}\r\n                            className=\"row group-buy-item\"\r\n                            style={{\r\n                              boxShadow:\r\n                                this.state.showBuyOptions === index\r\n                                  ? \"0px 4px 6px 1px rgba(0, 0, 0, 0.2)\"\r\n                                  : \"none\"\r\n                            }}\r\n                            onClick={() =>\r\n                              this.setState({\r\n                                showBuyOptions:\r\n                                  this.state.showBuyOptions === index\r\n                                    ? null\r\n                                    : index\r\n                              })\r\n                            }\r\n                          >\r\n                            {/* Item image */}\r\n                            <div className=\"col-2\">\r\n                              <img\r\n                                className=\"seller-img\"\r\n                                src={\"./Uploads/Deal_Images/\" + b.image_url}\r\n                                alt=\"\"\r\n                              />\r\n                            </div>\r\n                            {/* Item info */}\r\n                            <div\r\n                              className=\"col-10\"\r\n                              style={{ color: \"dimgray\" }}\r\n                            >\r\n                              <span className=\"item-emph\">{b.description}</span>\r\n                            </div>\r\n\r\n                            {this.props.userIsMember == 0 && (\r\n                              <div\r\n                                style={{ position: \"absolute\", right: \"5px\" }}\r\n                                className=\"buy-ellips d-flex\"\r\n                                onClick={ev => {\r\n                                  ev.stopPropagation();\r\n                                  this.setState({\r\n                                    menuIndex:\r\n                                      index === this.state.menuIndex\r\n                                        ? null\r\n                                        : index\r\n                                  });\r\n                                }}\r\n                              >\r\n                                <i className=\"fas fa-ellipsis-v\"></i>\r\n                                {this.state.menuIndex === index && (\r\n                                  <div className=\"buy-ellips-menu\">\r\n                                    <div\r\n                                      onClick={() => this.props.removeBuy(b.id)}\r\n                                    >\r\n                                      Remove\r\n                                    </div>\r\n                                    <div\r\n                                      className=\"mt-1\"\r\n                                      onClick={() => this.seeOrder(b)}\r\n                                    >\r\n                                      Orders\r\n                                    </div>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            )}\r\n                          </li>\r\n                          <div\r\n                            className={\r\n                              index === this.state.showBuyOptions\r\n                                ? \"buy-options bo-show\"\r\n                                : \"buy-options\"\r\n                            }\r\n                          >\r\n                            <div className=\"row justify-content-center align-items-center my-2\">\r\n                              <div\r\n                                className=\"col-4\"\r\n                                style={{ justifyContent: \"space-between\" }}\r\n                              >\r\n                                <div>\r\n                                  <span className=\"buy-cost\">\r\n                                    Cost $\r\n                                    {(\r\n                                      (b.price / b.units) *\r\n                                      this.state.buyQuantity\r\n                                    ).toFixed(2)}\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"col-5 text-center\">\r\n                                <span>Order quantity in {b.unit_measure}</span>\r\n                                <input\r\n                                  className=\"ml-2\"\r\n                                  style={{\r\n                                    borderStyle: \"none\",\r\n                                    borderRadius: \"3px\",\r\n                                    width: \"50px\",\r\n                                    textAlign: \"center\"\r\n                                  }}\r\n                                  value={this.state.buyQuantity}\r\n                                  type=\"number\"\r\n                                  onChange={ev =>\r\n                                    this.setState({\r\n                                      buyQuantity: ev.target.value\r\n                                    })\r\n                                  }\r\n                                ></input>\r\n                              </div>\r\n                              <div className=\"col-3\">\r\n                                {\" \"}\r\n                                <div>\r\n                                  <button\r\n                                    className=\"btn btn-sm btn-primary mx-2\"\r\n                                    onClick={() =>\r\n                                      this.setState({\r\n                                        buyQuantity: this.state.buyQuantity + 1\r\n                                      })\r\n                                    }\r\n                                  >\r\n                                    <i className=\"fas fa-plus\"></i>\r\n                                  </button>\r\n                                  <button\r\n                                    className=\"btn btn-sm btn-primary mx-2\"\r\n                                    onClick={() =>\r\n                                      this.setState({\r\n                                        buyQuantity: this.state.buyQuantity - 1\r\n                                      })\r\n                                    }\r\n                                  >\r\n                                    <i className=\"fas fa-minus\"></i>\r\n                                  </button>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"row justify-content-center align-items-center\">\r\n                              <div\r\n                                className=\"col-7\"\r\n                                style={{\r\n                                  fontSize: \"x-small\",\r\n                                  fontWeight: \"700\"\r\n                                }}\r\n                              >\r\n                                <div>Description: {b.summary}</div>\r\n                                <div>\r\n                                  Deal: {b.units} {b.unit_measure} for $\r\n                                  {b.price}\r\n                                </div>\r\n                              </div>\r\n                              <div\r\n                                className=\"col-3\"\r\n                                style={{\r\n                                  fontSize: \"x-small\",\r\n                                  fontWeight: \"700\"\r\n                                }}\r\n                              >\r\n                                <div>\r\n                                  Group orders {this.totalUnitsPurchased(b.id)}/\r\n                                  {b.units}\r\n                                  {b.unit_measure}\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"col-2\">\r\n                                <button className=\"btn btn-sm btn-success\">\r\n                                  Buy\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </React.Fragment>\r\n                      );\r\n                    })}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyGroupBuys;\r\n"]},"metadata":{},"sourceType":"module"}