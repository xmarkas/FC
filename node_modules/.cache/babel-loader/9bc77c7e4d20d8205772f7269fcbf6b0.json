{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\src\\\\components\\\\UserStatus.jsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { oktaSession } from \"../store/actions/index\";\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    flipDisplay: () => dispatch(flipDisplay()),\n    accountShow: toggle => dispatch(accountShow(toggle))\n  };\n}\n\nclass UserStatus extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n\n    this.userMenu = () => {\n      console.log(\"clicked\");\n      this.setState({\n        userMenu: this.state.userMenu ? false : true\n      });\n    };\n\n    this.newAuthClient = () => {\n      console.log(\"running auth client..\"); //  Okta browser SDK AuthClient\n\n      var config = {\n        issuer: \"https://dev-236245.okta.com/oauth2/default\",\n        clientId: \"0oa4lqivbsKPbAtfs4x6\",\n        redirectUri: \"https://qumoc.com/foodcommune\",\n        responseMode: \"fragment\",\n        tokenManager: {\n          storage: \"sessionStorage\"\n        },\n        onSessionExpired: function () {\n          console.log(\"re-authorization is required\"); // authClient.getWithRedirect();\n        }\n      }; // AUTH CLIENT\n\n      let auth = new window.OktaAuth(config);\n      this.props.updateParentState({\n        authClient: auth\n      });\n      return auth;\n    };\n\n    this.session = async () => {\n      let authClient = this.state.authClient;\n      let session = await authClient.session.exists(); //.then(function(exists) {\n      // Check for user session\n\n      if (session) {\n        this.setState({\n          session: true\n        });\n        let user = await authClient.session.get(); // $(\"#user\").html(user.login);\n        // Request token for API access\n\n        let options = {\n          method: \"POST\",\n          mode: \"same-origin\",\n          credentials: \"same-origin\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            entity: {\n              login: user.login,\n              request: \"test\"\n            }\n          })\n        };\n        fetch(\"/foodcommune/secure\", options).then(res => {\n          if (res) return res.json();\n        }).then(res => {\n          if (res.success) {\n            if (this.props.setToken) this.props.setToken(res.token);\n            if (this.props.setUser) this.props.setUser(res.user);\n            this.setState({\n              username: res.user.first_name\n            });\n          }\n        }).then(() => {\n          if (this.props.viewData) this.props.viewData();\n        }).catch(err => {\n          console.log(err);\n        });\n      } else {\n        //     this.setState({ session: false });\n        //     console.log(window.location.href)\n        //   If signed out and not on home page redirect\n        //   if (window.location.href !== \"/foodcommune/\") {\n        // setTimeout(function() {\n        //   window.location.replace(\"/foodcommune\");\n        // }, 1);\n        //   }\n        // Get provisional site access\n        let options = {\n          method: \"POST\",\n          mode: \"same-origin\",\n          credentials: \"same-origin\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            access: this.state.provisional\n          })\n        };\n        fetch(\"/foodcommune/secure/provisional\", options).then(res => {\n          return res.json();\n        }).then(res => {\n          this.setState({\n            provisional: res.token\n          });\n          this.props.updateParentState({\n            provisional: res.token\n          });\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    };\n\n    this.state = {\n      provisional: null,\n      userMenu: false,\n      // Toggle for user meny\n      authClient: this.newAuthClient(),\n      session: false,\n      provisional: null,\n      username: \"\"\n    };\n  }\n\n  componentWillMount() {}\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }\n    }, !this.state.session && /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      id: \"open-account\",\n      className: \"nav-item nav-link\",\n      onClick: this.props.createAccount,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    }, \"Create Account\"), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"open-signin\",\n      className: \"nav-item nav-link\",\n      onClick: this.props.signIn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }, \"Sign In\")), this.state.session && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: this.userMenu,\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        position: \"relative\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-user-circle fa-2x mr-1 fc-green\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"user\",\n      style: {\n        color: \"dimgray\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 15\n      }\n    }, this.state.username), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-caret-down ml-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }), this.state.userMenu && /*#__PURE__*/React.createElement(\"div\", {\n      id: \"user-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      style: {\n        listStyle: \"none\",\n        padding: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      style: {\n        cursor: \"pointer\"\n      },\n      onClick: () => this.state.authClient.signOut(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 21\n      }\n    }, \"Sign Out\"), /*#__PURE__*/React.createElement(\"li\", {\n      style: {\n        cursor: \"pointer\"\n      },\n      onClick: () => window.location.href = \"/foodcommune/mydashboard.html\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 21\n      }\n    }, \"Dashboard\"), /*#__PURE__*/React.createElement(\"li\", {\n      style: {\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 21\n      }\n    }, \"Settings\"))))));\n  }\n\n}\n\nexport default UserStatus;","map":{"version":3,"sources":["C:/Users/xmark/Desktop/Code/Servers/Qumoc/food-commune/src/components/UserStatus.jsx"],"names":["React","Component","connect","oktaSession","mapDispatchToProps","dispatch","flipDisplay","accountShow","toggle","UserStatus","constructor","props","state","userMenu","console","log","setState","newAuthClient","config","issuer","clientId","redirectUri","responseMode","tokenManager","storage","onSessionExpired","auth","window","OktaAuth","updateParentState","authClient","session","exists","user","get","options","method","mode","credentials","headers","body","JSON","stringify","entity","login","request","fetch","then","res","json","success","setToken","token","setUser","username","first_name","viewData","catch","err","access","provisional","componentWillMount","render","createAccount","signIn","display","alignItems","position","color","listStyle","padding","cursor","signOut","location","href"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { oktaSession } from \"../store/actions/index\";\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    flipDisplay: () => dispatch(flipDisplay()),\r\n    accountShow: toggle => dispatch(accountShow(toggle))\r\n  };\r\n}\r\n\r\nclass UserStatus extends Component {\r\n  state = {};\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      provisional: null,\r\n      userMenu: false, // Toggle for user meny\r\n      authClient: this.newAuthClient(),\r\n      session: false,\r\n      provisional: null,\r\n      username: \"\"\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n\r\n  }\r\n\r\n  userMenu = () => {\r\n    console.log(\"clicked\");\r\n    this.setState({ userMenu: this.state.userMenu ? false : true });\r\n  };\r\n\r\n  newAuthClient = () => {\r\n    console.log(\"running auth client..\");\r\n    //  Okta browser SDK AuthClient\r\n    var config = {\r\n      issuer: \"https://dev-236245.okta.com/oauth2/default\",\r\n      clientId: \"0oa4lqivbsKPbAtfs4x6\",\r\n      redirectUri: \"https://qumoc.com/foodcommune\",\r\n      responseMode: \"fragment\",\r\n      tokenManager: {\r\n        storage: \"sessionStorage\"\r\n      },\r\n      onSessionExpired: function() {\r\n        console.log(\"re-authorization is required\");\r\n        // authClient.getWithRedirect();\r\n      }\r\n    };\r\n\r\n    // AUTH CLIENT\r\n    let auth = new window.OktaAuth(config);\r\n    this.props.updateParentState({ authClient: auth });\r\n    return auth;\r\n  };\r\n\r\n  session = async () => {\r\n    let authClient = this.state.authClient;\r\n    let session = await authClient.session.exists(); //.then(function(exists) {\r\n\r\n    // Check for user session\r\n    if (session) {\r\n      this.setState({ session: true });\r\n      let user = await authClient.session.get();\r\n      // $(\"#user\").html(user.login);\r\n\r\n      // Request token for API access\r\n      let options = {\r\n        method: \"POST\",\r\n        mode: \"same-origin\",\r\n        credentials: \"same-origin\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ entity: { login: user.login, request: \"test\" } })\r\n      };\r\n\r\n      fetch(\"/foodcommune/secure\", options)\r\n        .then(res => {\r\n          if (res) return res.json();\r\n        })\r\n        .then(res => {\r\n          if (res.success) {\r\n            if (this.props.setToken) this.props.setToken(res.token);\r\n            if (this.props.setUser) this.props.setUser(res.user);\r\n            this.setState({ username: res.user.first_name });\r\n          }\r\n        })\r\n        .then(() => {\r\n          if (this.props.viewData) this.props.viewData();\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      //     this.setState({ session: false });\r\n      //     console.log(window.location.href)\r\n      //   If signed out and not on home page redirect\r\n      //   if (window.location.href !== \"/foodcommune/\") {\r\n      // setTimeout(function() {\r\n      //   window.location.replace(\"/foodcommune\");\r\n      // }, 1);\r\n      //   }\r\n\r\n      // Get provisional site access\r\n      let options = {\r\n        method: \"POST\",\r\n        mode: \"same-origin\",\r\n        credentials: \"same-origin\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ access: this.state.provisional })\r\n      };\r\n      fetch(\"/foodcommune/secure/provisional\", options)\r\n        .then(res => {\r\n          return res.json();\r\n        })\r\n        .then(res => {\r\n          this.setState({ provisional: res.token });\r\n          this.props.updateParentState({ provisional: res.token });\r\n        })\r\n        .catch(err => {\r\n        console.log(err)\r\n      })\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        {/* User sign in/create account */}\r\n        {!this.state.session && (\r\n          <React.Fragment>\r\n            <span\r\n              id=\"open-account\"\r\n              className=\"nav-item nav-link\"\r\n              onClick={this.props.createAccount}\r\n            >\r\n              Create Account\r\n            </span>\r\n            <span\r\n              id=\"open-signin\"\r\n              className=\"nav-item nav-link\"\r\n              onClick={this.props.signIn}\r\n            >\r\n              Sign In\r\n            </span>\r\n          </React.Fragment>\r\n        )}\r\n\r\n        {/* User signed in */}\r\n        {this.state.session && (\r\n          <div>\r\n            <div\r\n              onClick={this.userMenu}\r\n              style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                position: \"relative\"\r\n              }}\r\n            >\r\n              <i className=\"fas fa-user-circle fa-2x mr-1 fc-green\"></i>\r\n              <span id=\"user\" style={{ color: \"dimgray\" }}>\r\n                {this.state.username}\r\n              </span>\r\n              <i className=\"fas fa-caret-down ml-3\"></i>\r\n              {this.state.userMenu && (\r\n                <div id=\"user-menu\">\r\n                  <ul style={{ listStyle: \"none\", padding: \"10px\" }}>\r\n                    <li\r\n                      style={{ cursor: \"pointer\" }}\r\n                      onClick={() => this.state.authClient.signOut()}\r\n                    >\r\n                      Sign Out\r\n                    </li>\r\n                    <li\r\n                      style={{ cursor: \"pointer\" }}\r\n                      onClick={() =>\r\n                        (window.location.href = \"/foodcommune/mydashboard.html\")\r\n                      }\r\n                    >\r\n                      Dashboard\r\n                    </li>\r\n                    <li style={{ cursor: \"pointer\" }}>Settings</li>\r\n                  </ul>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserStatus;\r\n"]},"metadata":{},"sourceType":"module"}