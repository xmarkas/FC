{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import{signInAuthenticate}from\"../util/okta\";var SignIn=/*#__PURE__*/function(_Component){_inherits(SignIn,_Component);var _super=_createSuper(SignIn);function SignIn(){var _this;_classCallCheck(this,SignIn);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={email:\"\",password:\"\",errMsg:null,signInProgress:false};_this.closeSignInWindow=function(ev){if(ev.target.id===\"sign-in-wrapper\")_this.props.signIn();};_this.inputEmail=function(ev){_this.setState({email:ev.target.value});};_this.inputPassword=function(ev){_this.setState({password:ev.target.value});};_this.signInFlow=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({signInProgress:true});_context.next=3;return signInAuthenticate(_this.state.email,_this.state.password);case 3:res=_context.sent;if(!res){_this.setState({errMsg:\"Incorrect email or password\",signInProgress:false});}case 5:case\"end\":return _context.stop();}}},_callee);}));return _this;}_createClass(SignIn,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/ (// <!-- Sign In  -->\nReact.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(ev){return _this2.closeSignInWindow(ev);}},/*#__PURE__*/React.createElement(\"div\",{id:\"sign-in\",style:{position:\"relative\"}},this.state.signInProgress&&/*#__PURE__*/React.createElement(\"div\",{class:\"spinner-border text-info\",role:\"status\",style:{position:\"absolute\",top:\"50%\",left:\"45%\"}},/*#__PURE__*/React.createElement(\"span\",{class:\"sr-only\"},\"Loading...\")),/*#__PURE__*/React.createElement(\"div\",{className:\"header spartan\"},/*#__PURE__*/React.createElement(\"img\",{width:\"40px\",src:require(\"../media/logoAlpha.gif\"),alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",null,\"Sign In\")),/*#__PURE__*/React.createElement(\"div\",{className:\"content spartan\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Email\"),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(ev){return _this2.inputEmail(ev);},type:\"email\",className:\"form-control\",id:\"sign-in-email\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Password\"),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(ev){return _this2.inputPassword(ev);},onKeyDown:function onKeyDown(ev){if(ev.keyCode===13)_this2.signInFlow();},type:\"password\",className:\"form-control\",id:\"sign-in-password\"})),/*#__PURE__*/React.createElement(\"button\",{id:\"signin-go\",className:\"btn btn-primary\",onClick:this.signInFlow},\"Log In\"),/*#__PURE__*/React.createElement(\"div\",{id:\"sign-in-form-error\",className:\"spartan pt-2\",style:{fontSize:\"x-small\",color:\"red\",textAlign:\"center\"}},this.state.errMsg),/*#__PURE__*/React.createElement(\"div\",{id:\"password-reset\",className:\"py-1\"},/*#__PURE__*/React.createElement(\"small\",{style:{fontWeight:\"500\",cursor:\"pointer\"}},/*#__PURE__*/React.createElement(Link,{to:\"/foodcommune/passwordreset\",className:\"link-gray\"},\"Reset Password\"))))))));}}]);return SignIn;}(Component);export default SignIn;","map":{"version":3,"sources":["C:/Users/xmark/Desktop/Code/Servers/Qumoc/food-commune/src/components/SignIn.jsx"],"names":["React","Component","Link","signInAuthenticate","SignIn","state","email","password","errMsg","signInProgress","closeSignInWindow","ev","target","id","props","signIn","inputEmail","setState","value","inputPassword","signInFlow","res","position","top","left","require","keyCode","fontSize","color","textAlign","fontWeight","cursor"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signInAuthenticate } from \"../util/okta\";\r\n\r\nclass SignIn extends Component {\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n    errMsg: null,\r\n    signInProgress: false\r\n  };\r\n\r\n  closeSignInWindow = ev => {\r\n    if (ev.target.id === \"sign-in-wrapper\") this.props.signIn();\r\n  };\r\n\r\n  inputEmail = ev => {\r\n    this.setState({ email: ev.target.value });\r\n  };\r\n\r\n  inputPassword = ev => {\r\n    this.setState({ password: ev.target.value });\r\n  };\r\n\r\n  signInFlow = async () => {\r\n    this.setState({ signInProgress: true });\r\n    let res = await signInAuthenticate(this.state.email, this.state.password);\r\n    if (!res) {\r\n      this.setState({ errMsg: \"Incorrect email or password\", signInProgress: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      // <!-- Sign In  -->\r\n\r\n      <React.Fragment>\r\n        <div onClick={ev => this.closeSignInWindow(ev)}>\r\n          <div id=\"sign-in\" style={{ position: \"relative\" }}>\r\n            {this.state.signInProgress && (\r\n              <div\r\n                class=\"spinner-border text-info\"\r\n                role=\"status\"\r\n                style={{ position: \"absolute\", top: \"50%\", left: \"45%\" }}\r\n              >\r\n                <span class=\"sr-only\">Loading...</span>\r\n              </div>\r\n            )}\r\n            <div className=\"header spartan\">\r\n              <img\r\n                width=\"40px\"\r\n                src={require(\"../media/logoAlpha.gif\")}\r\n                alt=\"\"\r\n              />\r\n              <div>Sign In</div>\r\n            </div>\r\n            <div className=\"content spartan\">\r\n              {/* <!-- email --> */}\r\n              <div className=\"form-group\">\r\n                <label>Email</label>\r\n                <input\r\n                  onChange={ev => this.inputEmail(ev)}\r\n                  type=\"email\"\r\n                  className=\"form-control\"\r\n                  id=\"sign-in-email\"\r\n                ></input>\r\n              </div>\r\n              {/* <!-- password --> */}\r\n              <div className=\"form-group\">\r\n                <label>Password</label>\r\n                <input\r\n                  onChange={ev => this.inputPassword(ev)}\r\n                  onKeyDown={ev => {\r\n                    if (ev.keyCode === 13) this.signInFlow();\r\n                  }}\r\n                  type=\"password\"\r\n                  className=\"form-control\"\r\n                  id=\"sign-in-password\"\r\n                ></input>\r\n              </div>\r\n              <button\r\n                id=\"signin-go\"\r\n                className=\"btn btn-primary\"\r\n                onClick={this.signInFlow}\r\n              >\r\n                Log In\r\n              </button>\r\n\r\n              <div\r\n                id=\"sign-in-form-error\"\r\n                className=\"spartan pt-2\"\r\n                style={{\r\n                  fontSize: \"x-small\",\r\n                  color: \"red\",\r\n                  textAlign: \"center\"\r\n                }}\r\n              >\r\n                {this.state.errMsg}\r\n              </div>\r\n              <div id=\"password-reset\" className=\"py-1\">\r\n                <small style={{ fontWeight: \"500\", cursor: \"pointer\" }}>\r\n                  <Link to=\"/foodcommune/passwordreset\" className=\"link-gray\">\r\n                    Reset Password\r\n                  </Link>\r\n                </small>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SignIn;\r\n"]},"metadata":{},"sourceType":"module"}