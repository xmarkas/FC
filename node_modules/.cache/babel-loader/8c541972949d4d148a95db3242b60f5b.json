{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";/**\r\n *  FOOD COMMUNE REDUX STORE - REDUCER\r\n * \r\n */import{session,getToken}from'../../util/okta';var initialState={user:null,provisional:null,token:null,sessionExists:null,tokenExpiresAt:null,expiringSession:false,expireRedirect:null};function rootReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;if(Object.keys(reducers).includes(action.type)){return reducers[action.type](state,action.payload);}else{return state;}};var reducers={};reducers.SET_SESSION=function(state,tokenInfo){if(tokenInfo.provisional){return _objectSpread({},state,{provisional:tokenInfo.provisional});}else{return _objectSpread({},state,{user:tokenInfo.user,token:tokenInfo.token,tokenExpiresAt:tokenInfo.tokenExpiresAt});}};reducers.EXPIRING_SESSION=function(state,payload){return _objectSpread({},state,{expiringSession:payload});};reducers.EXPIRE_REDIRECT=function(state,payload){if(state.expireRedirect)clearTimeout(state.expireRedirect);return _objectSpread({},state,{expireRedirect:payload});};reducers.CANCEL_SESSION=function(state,payload){return _objectSpread({},state,{user:null,token:null,sessionExists:null,expiringSession:false});};reducers.DIALPAD_SHOW=function(state,payload){var toggle=state.UI.dialPadShow?false:true;var dialPadShow=payload===\"toggle\"?toggle:payload;var UI=_objectSpread({},state.UI,{dialPadShow:dialPadShow});return _objectSpread({},state,{UI:UI});};export default rootReducer;","map":{"version":3,"sources":["C:/Users/xmark/Desktop/Code/Servers/Qumoc/food-commune/src/store/reducers/index.js"],"names":["session","getToken","initialState","user","provisional","token","sessionExists","tokenExpiresAt","expiringSession","expireRedirect","rootReducer","state","action","Object","keys","reducers","includes","type","payload","SET_SESSION","tokenInfo","EXPIRING_SESSION","EXPIRE_REDIRECT","clearTimeout","CANCEL_SESSION","DIALPAD_SHOW","toggle","UI","dialPadShow"],"mappings":"wLAAA;;;GAIA,OAASA,OAAT,CAAkBC,QAAlB,KAAkC,iBAAlC,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,IAAI,CAAE,IADW,CAEjBC,WAAW,CAAE,IAFI,CAGjBC,KAAK,CAAE,IAHU,CAIjBC,aAAa,CAAE,IAJE,CAKjBC,cAAc,CAAE,IALC,CAMjBC,eAAe,CAAE,KANA,CAOjBC,cAAc,CAAE,IAPC,CAArB,CAWA,QAASC,CAAAA,WAAT,EAAmD,IAA9BC,CAAAA,KAA8B,2DAAtBT,YAAsB,IAARU,CAAAA,MAAQ,2CAC/C,GAAIC,MAAM,CAACC,IAAP,CAAYC,QAAZ,EAAsBC,QAAtB,CAA+BJ,MAAM,CAACK,IAAtC,CAAJ,CAAiD,CAC7C,MAAOF,CAAAA,QAAQ,CAACH,MAAM,CAACK,IAAR,CAAR,CAAsBN,KAAtB,CAA6BC,MAAM,CAACM,OAApC,CAAP,CACH,CAFD,IAEO,CACH,MAAOP,CAAAA,KAAP,CACH,CACJ,EAED,GAAII,CAAAA,QAAQ,CAAG,EAAf,CAEAA,QAAQ,CAACI,WAAT,CAAuB,SAACR,KAAD,CAAQS,SAAR,CAAsB,CACzC,GAAIA,SAAS,CAAChB,WAAd,CAA2B,CACvB,wBAAYO,KAAZ,EAAkBP,WAAW,CAAEgB,SAAS,CAAChB,WAAzC,GACH,CAFD,IAEO,CACH,wBAAYO,KAAZ,EAAmBR,IAAI,CAAEiB,SAAS,CAACjB,IAAnC,CAAyCE,KAAK,CAAEe,SAAS,CAACf,KAA1D,CAAiEE,cAAc,CAAEa,SAAS,CAACb,cAA3F,GACH,CACJ,CAND,CAQAQ,QAAQ,CAACM,gBAAT,CAA4B,SAACV,KAAD,CAAQO,OAAR,CAAoB,CAC5C,wBAAYP,KAAZ,EAAmBH,eAAe,CAAEU,OAApC,GACH,CAFD,CAIAH,QAAQ,CAACO,eAAT,CAA2B,SAACX,KAAD,CAAQO,OAAR,CAAoB,CAC3C,GAAIP,KAAK,CAACF,cAAV,CAA0Bc,YAAY,CAACZ,KAAK,CAACF,cAAP,CAAZ,CAC1B,wBAAYE,KAAZ,EAAmBF,cAAc,CAAES,OAAnC,GACH,CAHD,CAKAH,QAAQ,CAACS,cAAT,CAA0B,SAACb,KAAD,CAAQO,OAAR,CAAoB,CAC1C,wBAAYP,KAAZ,EAAmBR,IAAI,CAAE,IAAzB,CAA+BE,KAAK,CAAE,IAAtC,CAA4CC,aAAa,CAAE,IAA3D,CAAiEE,eAAe,CAAE,KAAlF,GACH,CAFD,CAIAO,QAAQ,CAACU,YAAT,CAAwB,SAACd,KAAD,CAAQO,OAAR,CAAoB,CACxC,GAAIQ,CAAAA,MAAM,CAAGf,KAAK,CAACgB,EAAN,CAASC,WAAT,CAAuB,KAAvB,CAA+B,IAA5C,CACA,GAAIA,CAAAA,WAAW,CAAGV,OAAO,GAAK,QAAZ,CAAuBQ,MAAvB,CAAgCR,OAAlD,CACA,GAAIS,CAAAA,EAAE,kBAAQhB,KAAK,CAACgB,EAAd,EAAkBC,WAAW,CAAEA,WAA/B,EAAN,CACA,wBAAYjB,KAAZ,EAAmBgB,EAAE,CAAFA,EAAnB,GACH,CALD,CAQA,cAAejB,CAAAA,WAAf","sourcesContent":["/**\r\n *  FOOD COMMUNE REDUX STORE - REDUCER\r\n * \r\n */\r\nimport { session, getToken } from '../../util/okta';\r\n\r\nconst initialState = {\r\n    user: null,\r\n    provisional: null,\r\n    token: null,\r\n    sessionExists: null,\r\n    tokenExpiresAt: null,\r\n    expiringSession: false,\r\n    expireRedirect: null\r\n\r\n};\r\n\r\nfunction rootReducer(state = initialState, action) {\r\n    if (Object.keys(reducers).includes(action.type)) {\r\n        return reducers[action.type](state, action.payload);\r\n    } else {\r\n        return state;\r\n    }\r\n};\r\n\r\nlet reducers = {};\r\n\r\nreducers.SET_SESSION = (state, tokenInfo) => {\r\n    if (tokenInfo.provisional) {\r\n        return { ...state,provisional: tokenInfo.provisional };\r\n    } else {\r\n        return { ...state, user: tokenInfo.user, token: tokenInfo.token, tokenExpiresAt: tokenInfo.tokenExpiresAt };\r\n    }\r\n}\r\n\r\nreducers.EXPIRING_SESSION = (state, payload) => {\r\n    return { ...state, expiringSession: payload };\r\n}\r\n\r\nreducers.EXPIRE_REDIRECT = (state, payload) => {\r\n    if (state.expireRedirect) clearTimeout(state.expireRedirect);\r\n    return { ...state, expireRedirect: payload };\r\n}\r\n\r\nreducers.CANCEL_SESSION = (state, payload) => {\r\n    return { ...state, user: null, token: null, sessionExists: null, expiringSession: false };\r\n}\r\n\r\nreducers.DIALPAD_SHOW = (state, payload) => {\r\n    let toggle = state.UI.dialPadShow ? false : true;\r\n    let dialPadShow = payload === \"toggle\" ? toggle : payload;\r\n    let UI = { ...state.UI, dialPadShow: dialPadShow };\r\n    return { ...state, UI }\r\n}\r\n\r\n\r\nexport default rootReducer;"]},"metadata":{},"sourceType":"module"}