{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';var CreateGroup=/*#__PURE__*/function(_Component){_inherits(CreateGroup,_Component);var _super=_createSuper(CreateGroup);function CreateGroup(){var _this;_classCallCheck(this,CreateGroup);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={name:\"\",summary:\"\",area:\"\",image_url:null};_this.onFormChange=function(ev){var set={};set[ev.target.id]=ev.target.value;_this.setState(set);};_this.createGroup=function(){var payload={};Object.keys(_this.state).forEach(function(k){payload[k]=_this.state[k];});var file=document.getElementById(\"image_url\").files[0];var formData=new FormData();formData.append(\"file\",file);// Append file name and user id to payload\nif(file){payload.image_url=\"\".concat(_this.state.name,\"@\").concat(file.name);payload.image_url=payload.image_url.replace(\" \",\"\");console.log(payload);// Send image\nfetch(\"/foodcommune/imageUpload/group?groupname=\".concat(_this.state.name),{body:formData,method:\"POST\"}).then(function(res){return res.json();}).then(function(res){console.log(res);});}// if (this.props.editDeal) {\n//   // Update Deal\n//   console.log(payload);\n//   this.props.updateDeal(payload);\n// } else {\n// Insert Deal\n_this.props.newGroup(payload);// }\n};return _this;}_createClass(CreateGroup,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{id:\"item-view-container\",onClick:function onClick(ev){if(ev.target.id===\"item-view-container\")_this2.props.addGroup();},className:\"\",style:{overflowY:\"auto\",position:\"absolute\",height:\"100%\",width:\"100%\",zIndex:\"1000\",top:\"0\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-dialog\",role:\"document\",style:{boxShadow:\"0 0 16px 2px rgba(0,0,0,.3)\",maxWidth:\"425pm!important\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"header spartan d-flex align-items-center justify-content-center\",style:{backgroundColor:\"#346802\",color:\"white\",padding:\"12px\"}},/*#__PURE__*/React.createElement(\"img\",{width:\"40px\",src:\"./media/logoAlpha.gif\",alt:\"\"}),\" \",/*#__PURE__*/React.createElement(\"div\",null,\"Create A Group\"),/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-window-close modal-close\",onClick:this.props.addGroup})),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Group name\"),/*#__PURE__*/React.createElement(\"input\",{style:{width:\"60%\"},onChange:function onChange(ev){return _this2.onFormChange(ev);},value:this.state.description,type:\"text\",className:\"form-control\",id:\"name\"}),/*#__PURE__*/React.createElement(\"small\",{style:{color:this.state.name.length>30?\"#dc3545\":\"#6c757d\"}},\"maximum length 30 characters (\",30-this.state.name.length,\" \",\"remaining)\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Summary - Tell them about your group\"),/*#__PURE__*/React.createElement(\"textarea\",{onChange:function onChange(ev){return _this2.onFormChange(ev);},value:this.state.summary,type:\"text\",className:\"form-control\",id:\"summary\",style:{height:\"145px\"}}),/*#__PURE__*/React.createElement(\"small\",{style:{color:this.state.summary.length>255?\"#dc3545\":\"#6c757d\"}},\"maximum length 255 characters (\",255-this.state.summary.length,\" remaining)\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Group Area - This can be a neigborhood, city, county, etc...\"),/*#__PURE__*/React.createElement(\"input\",{style:{width:\"60%\"},onChange:function onChange(ev){return _this2.onFormChange(ev);},value:this.state.area,type:\"text\",className:\"form-control\",id:\"area\"}),/*#__PURE__*/React.createElement(\"small\",{style:{color:this.state.area.length>30?\"#dc3545\":\"#6c757d\"}},\"maximum length 30 characters\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Upload an image of your product\"),/*#__PURE__*/React.createElement(\"input\",{//   value={this.state.image_url}\ntype:\"file\",className:\"form-control-file\",id:\"image_url\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-footer\",style:{justifyContent:\"space-evenly\"}},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm btn-primary flex-cc\",onClick:this.createGroup},/*#__PURE__*/React.createElement(\"img\",{src:\"/foodcommune/media/logoAlpha.gif\",alt:\"\",style:{width:\"15px\",marginRight:\"2px\"}}),\"Create\")))));}}]);return CreateGroup;}(Component);export default CreateGroup;","map":{"version":3,"sources":["C:/Users/xmark/Desktop/Code/Servers/Qumoc/food-commune/src/components/CreateGroup.jsx"],"names":["React","Component","CreateGroup","state","name","summary","area","image_url","onFormChange","ev","set","target","id","value","setState","createGroup","payload","Object","keys","forEach","k","file","document","getElementById","files","formData","FormData","append","replace","console","log","fetch","body","method","then","res","json","props","newGroup","addGroup","overflowY","position","height","width","zIndex","top","boxShadow","maxWidth","backgroundColor","color","padding","description","length","justifyContent","marginRight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\n\r\nclass CreateGroup extends Component {\r\n  state = {\r\n    name: \"\",\r\n    summary: \"\",\r\n    area: \"\",\r\n    image_url: null\r\n  };\r\n\r\n  onFormChange = ev => {\r\n    let set = {};\r\n    set[ev.target.id] = ev.target.value;\r\n    this.setState(set);\r\n  };\r\n\r\n  createGroup = () => {\r\n    let payload = {};\r\n    Object.keys(this.state).forEach(k => {\r\n      payload[k] = this.state[k];\r\n    });\r\n\r\n    let file = document.getElementById(\"image_url\").files[0];\r\n    let formData = new FormData();\r\n    formData.append(\"file\", file);\r\n\r\n    // Append file name and user id to payload\r\n    if (file) {\r\n        payload.image_url = `${this.state.name}@${file.name}`;\r\n        payload.image_url = payload.image_url.replace(\" \", \"\");\r\n      console.log(payload);\r\n\r\n      // Send image\r\n      fetch(`/foodcommune/imageUpload/group?groupname=${this.state.name}`, {\r\n        body: formData,\r\n        method: \"POST\"\r\n      })\r\n        .then(res => {\r\n          return res.json();\r\n        })\r\n        .then(res => {\r\n          console.log(res);\r\n        });\r\n    }\r\n\r\n    // if (this.props.editDeal) {\r\n    //   // Update Deal\r\n    //   console.log(payload);\r\n    //   this.props.updateDeal(payload);\r\n    // } else {\r\n    // Insert Deal\r\n    this.props.newGroup(payload);\r\n    // }\r\n  };\r\n  render() {\r\n    return (\r\n      <div\r\n        id=\"item-view-container\"\r\n        onClick={ev => {\r\n          if (ev.target.id === \"item-view-container\") this.props.addGroup();\r\n        }}\r\n        className=\"\"\r\n        style={{\r\n          overflowY: \"auto\",\r\n          position: \"absolute\",\r\n          height: \"100%\",\r\n          width: \"100%\",\r\n          zIndex: \"1000\",\r\n          top: \"0\"\r\n        }}\r\n      >\r\n        <div\r\n          className=\"modal-dialog\"\r\n          role=\"document\"\r\n          style={{\r\n            boxShadow: \"0 0 16px 2px rgba(0,0,0,.3)\",\r\n            maxWidth: \"425pm!important\"\r\n          }}\r\n        >\r\n          <div className=\"modal-content\">\r\n            <div\r\n              className=\"header spartan d-flex align-items-center justify-content-center\"\r\n              style={{\r\n                backgroundColor: \"#346802\",\r\n                color: \"white\",\r\n                padding: \"12px\"\r\n              }}\r\n            >\r\n              <img width=\"40px\" src=\"./media/logoAlpha.gif\" alt=\"\" />{\" \"}\r\n              <div>Create A Group</div>\r\n                <i class=\"fas fa-window-close modal-close\" onClick={this.props.addGroup}></i>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              {/* Group Name */}\r\n              <div className=\"form-group\">\r\n                <label>Group name</label>\r\n                <input\r\n                  style={{ width: \"60%\" }}\r\n                  onChange={ev => this.onFormChange(ev)}\r\n                  value={this.state.description}\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"name\"\r\n                ></input>\r\n                <small\r\n                  style={{\r\n                    color: this.state.name.length > 30 ? \"#dc3545\" : \"#6c757d\"\r\n                  }}\r\n                >\r\n                  maximum length 30 characters ({30 - this.state.name.length}{\" \"}\r\n                  remaining)\r\n                </small>\r\n              </div>\r\n              {/* Summary  */}\r\n              <div className=\"form-group\">\r\n                <label>Summary - Tell them about your group</label>\r\n                <textarea\r\n                  onChange={ev => this.onFormChange(ev)}\r\n                  value={this.state.summary}\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"summary\"\r\n                  style={{ height: \"145px\" }}\r\n                ></textarea>\r\n                <small\r\n                  style={{\r\n                    color:\r\n                      this.state.summary.length > 255 ? \"#dc3545\" : \"#6c757d\"\r\n                  }}\r\n                >\r\n                  maximum length 255 characters (\r\n                  {255 - this.state.summary.length} remaining)\r\n                </small>\r\n              </div>\r\n              {/* Area  */}\r\n              <div className=\"form-group\">\r\n                <label>\r\n                  Group Area - This can be a neigborhood, city, county, etc...\r\n                </label>\r\n                <input\r\n                  style={{ width: \"60%\" }}\r\n                  onChange={ev => this.onFormChange(ev)}\r\n                  value={this.state.area}\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"area\"\r\n                ></input>\r\n                <small\r\n                  style={{\r\n                    color: this.state.area.length > 30 ? \"#dc3545\" : \"#6c757d\"\r\n                  }}\r\n                >\r\n                  maximum length 30 characters\r\n                </small>\r\n              </div>\r\n              {/* Upload image */}\r\n              <div className=\"form-group\">\r\n                <label>Upload an image of your product</label>\r\n                <input\r\n                  //   value={this.state.image_url}\r\n                  type=\"file\"\r\n                  className=\"form-control-file\"\r\n                  id=\"image_url\"\r\n                ></input>\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"modal-footer\"\r\n              style={{ justifyContent: \"space-evenly\" }}\r\n            >\r\n              <button\r\n                className=\"btn btn-sm btn-primary flex-cc\"\r\n                onClick={this.createGroup}\r\n              >\r\n                <img\r\n                  src=\"/foodcommune/media/logoAlpha.gif\"\r\n                  alt=\"\"\r\n                  style={{ width: \"15px\", marginRight: \"2px\" }}\r\n                ></img>\r\n                Create\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CreateGroup;"]},"metadata":{},"sourceType":"module"}