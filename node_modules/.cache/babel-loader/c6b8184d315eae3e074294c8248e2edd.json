{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\src\\\\components\\\\AddDeal.jsx\";\nimport React, { Component } from 'react';\n\nclass AddDeal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      description: \"\",\n      summary: \"\",\n      category: \"\",\n      unit_measure: \"\",\n      units: \"\",\n      price: \"\"\n    };\n\n    this.onFormChange = ev => {\n      let set = {};\n      set[ev.target.id] = ev.target.value;\n      this.setState(set);\n    };\n\n    this.createDeal = () => {\n      let payload = {};\n      Object.keys(this.state).forEach(k => {\n        payload[k] = this.state[k];\n      });\n      let file = document.getElementById(\"image_url\").files[0];\n      let formData = new FormData();\n      formData.append(\"file\", file); // Append file name and user id to payload\n\n      if (file) {\n        payload.image_url = `${this.props.user.id}@${file.name}`;\n        payload.user_id = this.props.user.id;\n        console.log(payload); // Send image\n\n        fetch(`/foodcommune/imageUpload?userid=${this.props.user.id}`, {\n          body: formData,\n          method: \"POST\"\n        }).then(res => {\n          return res.json();\n        }).then(res => {\n          console.log(res);\n        });\n      }\n\n      if (this.props.editDeal) {\n        // Update Deal\n        console.log(payload);\n        this.props.updateDeal(payload);\n      } else {\n        // Insert Deal\n        console.log('---> NEW DEAL');\n        this.props.newDeal(payload);\n      }\n    };\n\n    if (props.editDeal) {\n      this.state = props.editDeal;\n      console.log(props.editDeal);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"item-view-container\",\n      onClick: ev => {\n        if (ev.target.id === \"item-view-container\") this.props.showAddDeal();\n      },\n      className: \"view-container\",\n      style: {\n        overflowY: \"auto\",\n        position: \"absolute\",\n        height: \"100%\",\n        width: \"100%\",\n        zIndex: \"1000\",\n        top: \"0\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-dialog\",\n      role: \"document\",\n      style: {\n        boxShadow: \"0 0 16px 2px rgba(0,0,0,.3)\",\n        maxWidth: \"425pm!important\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-close\",\n      onClick: this.props.showAddDeal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-window-close modal-close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header spartan d-flex align-items-center justify-content-center\",\n      style: {\n        backgroundColor: \"#346802\",\n        color: \"white\",\n        padding: \"12px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: \"40px\",\n      src: \"./media/logoAlpha.gif\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 15\n      }\n    }, this.props.editDeal ? \"Editing Deal\" : \"New Deal\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: ev => this.onFormChange(ev),\n      value: this.state.description,\n      type: \"text\",\n      className: \"form-control\",\n      id: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, \"maximum length 30 characters\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, \"Summary - Tell them about your deal\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      onChange: ev => this.onFormChange(ev),\n      value: this.state.summary,\n      type: \"text\",\n      className: \"form-control\",\n      id: \"summary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, \"maximum length 250 characters\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }\n    }, \"Category\"), /*#__PURE__*/React.createElement(\"select\", {\n      onChange: ev => this.onFormChange(ev),\n      value: this.state.category,\n      id: \"category\",\n      className: \"form-control form-control-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 23\n      }\n    }, \"Fruit\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 23\n      }\n    }, \"Vegetables\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 23\n      }\n    }, \"Spices and Stuff\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 23\n      }\n    }, \"Chesse and Dairy\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 23\n      }\n    }, \"Meats and Poultry\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 23\n      }\n    }, \"Seafood\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    }, \"Unit measure\"), /*#__PURE__*/React.createElement(\"select\", {\n      onChange: ev => this.onFormChange(ev),\n      value: this.state.unit_measure,\n      id: \"unit_measure\",\n      className: \"form-control form-control-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"lbs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 23\n      }\n    }, \"lbs (pounds)\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"oz\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 23\n      }\n    }, \"oz (ounces)\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"kg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 23\n      }\n    }, \"kg (kilograms)\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"g\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 23\n      }\n    }, \"g (grams)\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"gal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 23\n      }\n    }, \"gal (gallons)\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"qt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 23\n      }\n    }, \"qt (quarts)\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"case\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 23\n      }\n    }, \"case\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"doz\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 23\n      }\n    }, \"doz (dozen)\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 21\n      }\n    }, \"Price\"), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: ev => this.onFormChange(ev),\n      value: this.state.price,\n      type: \"number\",\n      className: \"form-control\",\n      id: \"price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }\n    }, \"No need to include a '$' symbol\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 21\n      }\n    }, \"Units\"), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: ev => this.onFormChange(ev),\n      value: this.state.units,\n      type: \"number\",\n      className: \"form-control\",\n      id: \"units\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 21\n      }\n    }, \"Number of units included in your item\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }\n    }, \"Upload an image of your product\"), /*#__PURE__*/React.createElement(\"input\", {\n      //   value={this.state.image_url}\n      type: \"file\",\n      className: \"form-control-file\",\n      id: \"image_url\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer\",\n      style: {\n        justifyContent: \"space-evenly\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 13\n      }\n    }, !this.props.editDeal && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-primary\",\n      onClick: this.createDeal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 17\n      }\n    }, \"Create\"), this.props.editDeal && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-primary\",\n      onClick: this.createDeal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }\n    }, \"Update\")))));\n  }\n\n}\n\nexport default AddDeal;","map":{"version":3,"sources":["C:/Users/xmark/Desktop/Code/Servers/Qumoc/food-commune/src/components/AddDeal.jsx"],"names":["React","Component","AddDeal","constructor","props","state","description","summary","category","unit_measure","units","price","onFormChange","ev","set","target","id","value","setState","createDeal","payload","Object","keys","forEach","k","file","document","getElementById","files","formData","FormData","append","image_url","user","name","user_id","console","log","fetch","body","method","then","res","json","editDeal","updateDeal","newDeal","render","showAddDeal","overflowY","position","height","width","zIndex","top","boxShadow","maxWidth","backgroundColor","color","padding","justifyContent"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\n\r\nclass AddDeal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    if (props.editDeal) {\r\n        this.state = props.editDeal;\r\n        console.log(props.editDeal)\r\n    }\r\n  }\r\n  state = {\r\n    description: \"\",\r\n    summary: \"\",\r\n    category: \"\",\r\n    unit_measure: \"\",\r\n    units: \"\",\r\n      price: \"\",\r\n  };\r\n\r\n  onFormChange = ev => {\r\n    let set = {};\r\n    set[ev.target.id] = ev.target.value;\r\n    this.setState(set);\r\n  };\r\n\r\n  createDeal = () => {\r\n    let payload = {};\r\n    Object.keys(this.state).forEach(k => {\r\n      payload[k] = this.state[k];\r\n    });\r\n\r\n    let file = document.getElementById(\"image_url\").files[0];\r\n    let formData = new FormData();\r\n    formData.append(\"file\", file);\r\n\r\n    // Append file name and user id to payload\r\n    if (file) {\r\n      payload.image_url = `${this.props.user.id}@${file.name}`;\r\n      payload.user_id = this.props.user.id;\r\n      console.log(payload);\r\n\r\n      // Send image\r\n      fetch(`/foodcommune/imageUpload?userid=${this.props.user.id}`, {\r\n        body: formData,\r\n        method: \"POST\"\r\n      })\r\n        .then(res => {\r\n          return res.json();\r\n        })\r\n        .then(res => {\r\n          console.log(res);\r\n        });\r\n    }\r\n\r\n    if (this.props.editDeal) {\r\n      // Update Deal\r\n      console.log(payload);\r\n        this.props.updateDeal(payload);\r\n    } else {\r\n      // Insert Deal\r\n      console.log('---> NEW DEAL')\r\n      this.props.newDeal(payload);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        id=\"item-view-container\"\r\n        onClick={ev => {\r\n          if (ev.target.id === \"item-view-container\") this.props.showAddDeal();\r\n        }}\r\n        className=\"view-container\"\r\n        style={{\r\n          overflowY: \"auto\",\r\n          position: \"absolute\",\r\n          height: \"100%\",\r\n          width: \"100%\",\r\n          zIndex: \"1000\",\r\n          top: \"0\"\r\n        }}\r\n      >\r\n        <div\r\n          className=\"modal-dialog\"\r\n          role=\"document\"\r\n          style={{\r\n            boxShadow: \"0 0 16px 2px rgba(0,0,0,.3)\",\r\n            maxWidth: \"425pm!important\"\r\n          }}\r\n        >\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-close\" onClick={this.props.showAddDeal}>\r\n            <i class=\"fas fa-window-close modal-close\"></i>\r\n            </div>\r\n            <div\r\n              className=\"header spartan d-flex align-items-center justify-content-center\"\r\n              style={{\r\n                backgroundColor: \"#346802\",\r\n                color: \"white\",\r\n                padding: \"12px\"\r\n              }}\r\n            >\r\n              <img width=\"40px\" src=\"./media/logoAlpha.gif\" alt=\"\" />{\" \"}\r\n              <div>{this.props.editDeal ? \"Editing Deal\" : \"New Deal\"}</div>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              {/* Description */}\r\n              <div className=\"form-group\">\r\n                <label>Description</label>\r\n                <input\r\n                  onChange={ev => this.onFormChange(ev)}\r\n                  value={this.state.description}\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"description\"\r\n                ></input>\r\n                <small className=\"text-muted\">\r\n                  maximum length 30 characters\r\n                </small>\r\n              </div>\r\n              {/* Summary  */}\r\n              <div className=\"form-group\">\r\n                <label>Summary - Tell them about your deal</label>\r\n                <textarea\r\n                  onChange={ev => this.onFormChange(ev)}\r\n                  value={this.state.summary}\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"summary\"\r\n                ></textarea>\r\n                <small className=\"text-muted\">\r\n                  maximum length 250 characters\r\n                </small>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"col\">\r\n                  {/* Category */}\r\n                  <div className=\"form-group\">\r\n                    <label>Category</label>\r\n                    <select\r\n                      onChange={ev => this.onFormChange(ev)}\r\n                      value={this.state.category}\r\n                      id=\"category\"\r\n                      className=\"form-control form-control-sm\"\r\n                    >\r\n                      <option>Fruit</option>\r\n                      <option>Vegetables</option>\r\n                      <option>Spices and Stuff</option>\r\n                      <option>Chesse and Dairy</option>\r\n                      <option>Meats and Poultry</option>\r\n                      <option>Seafood</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col\">\r\n                  {/* Unit Measure*/}\r\n                  <div className=\"form-group\">\r\n                    <label>Unit measure</label>\r\n                    <select\r\n                      onChange={ev => this.onFormChange(ev)}\r\n                      value={this.state.unit_measure}\r\n                      id=\"unit_measure\"\r\n                      className=\"form-control form-control-sm\"\r\n                    >\r\n                      <option value=\"lbs\">lbs (pounds)</option>\r\n                      <option value=\"oz\">oz (ounces)</option>\r\n                      <option value=\"kg\">kg (kilograms)</option>\r\n                      <option value=\"g\">g (grams)</option>\r\n                      <option value=\"gal\">gal (gallons)</option>\r\n                      <option value=\"qt\">qt (quarts)</option>\r\n                      <option value=\"case\">case</option>\r\n                      <option value=\"doz\">doz (dozen)</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"col\">\r\n                  {/* Price */}\r\n                  <div className=\"form-group\">\r\n                    <label>Price</label>\r\n                    <input\r\n                      onChange={ev => this.onFormChange(ev)}\r\n                      value={this.state.price}\r\n                      type=\"number\"\r\n                      className=\"form-control\"\r\n                      id=\"price\"\r\n                    ></input>\r\n                    <small className=\"text-muted\">\r\n                      No need to include a '$' symbol\r\n                    </small>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col\">\r\n                  {/* Units */}\r\n                  <div className=\"form-group\">\r\n                    <label>Units</label>\r\n                    <input\r\n                      onChange={ev => this.onFormChange(ev)}\r\n                      value={this.state.units}\r\n                      type=\"number\"\r\n                      className=\"form-control\"\r\n                      id=\"units\"\r\n                    ></input>\r\n                    <small className=\"text-muted\">\r\n                      Number of units included in your item\r\n                    </small>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Upload image */}\r\n              <div className=\"form-group\">\r\n                <label>Upload an image of your product</label>\r\n                <input\r\n                  //   value={this.state.image_url}\r\n                  type=\"file\"\r\n                  className=\"form-control-file\"\r\n                  id=\"image_url\"\r\n                ></input>\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"modal-footer\"\r\n              style={{ justifyContent: \"space-evenly\" }}\r\n            >\r\n              {!this.props.editDeal && (\r\n                <button\r\n                  className=\"btn btn-sm btn-primary\"\r\n                  onClick={this.createDeal}\r\n                >\r\n                  Create\r\n                </button>\r\n              )}\r\n              {this.props.editDeal && (\r\n                <button\r\n                  className=\"btn btn-sm btn-primary\"\r\n                  onClick={this.createDeal}\r\n                >\r\n                  Update\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddDeal;"]},"metadata":{},"sourceType":"module"}