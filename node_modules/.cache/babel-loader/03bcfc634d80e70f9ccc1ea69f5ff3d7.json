{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\FC-SERVER\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\FC-SERVER\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\FC-SERVER\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\FC-SERVER\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import MyGroupOrders from\"./MyGroupOrders\";import{Link}from\"react-router-dom\";var MyGroupBuys=/*#__PURE__*/function(_Component){_inherits(MyGroupBuys,_Component);var _super=_createSuper(MyGroupBuys);function MyGroupBuys(){var _this;_classCallCheck(this,MyGroupBuys);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={menuIndex:null,viewOrder:null,showBuyOptions:null,buyQuantity:0};_this.totalUnitsPurchased=function(dealId){var units=0;_this.props.data.Purchases.forEach(function(p){if(p.deal_id===dealId){units+=p.purchase_units;}});return units;};_this.seeOrder=function(order){_this.setState({viewOrder:order});};_this.userHasOrder=function(userId,dealId){// Look for existing order\nvar order=_this.props.data.Purchases.find(function(obj){return obj.deal_id===dealId&&obj.user_id===userId;});return order?order.purchase_units:false;};return _this;}_createClass(MyGroupBuys,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(React.Fragment,null,this.state.viewOrder&&/*#__PURE__*/React.createElement(MyGroupOrders,{data:this.props.data,Buy:this.state.viewOrder,seeOrder:this.seeOrder}),!this.state.viewOrder&&/*#__PURE__*/React.createElement(\"div\",{className:\"card bg-light\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header button-group\"},/*#__PURE__*/React.createElement(\"div\",null,\"Our Buys - Place Your Order Now!\"),/*#__PURE__*/React.createElement(Link,{to:\"/foodcommune/catalog\",className:\"btn btn-sm btn-primary\",style:{font:\"small-caption\",float:\"right\"}},\"catalog\")),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body p-0\",style:{overflowY:\"auto\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\",id:\"group-list\"},/*#__PURE__*/React.createElement(\"ul\",{id:\"group-buys-list\",style:{listStyle:\"none\",padding:\"0\",fontSize:\"small\"}},this.props.data&&this.props.data.Buys.map(function(b,index){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"li\",{key:index,className:\"row group-buy-item\",style:{boxShadow:_this2.state.showBuyOptions===index?\"0px 4px 6px 1px rgba(0, 0, 0, 0.2)\":\"none\"},onClick:function onClick(){return _this2.setState({showBuyOptions:_this2.state.showBuyOptions===index?null:index});}},/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(\"img\",{className:\"seller-img\",src:\"./Uploads/Deal_Images/\"+b.image_url,alt:\"\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-10\",style:{color:\"dimgray\"}},/*#__PURE__*/React.createElement(\"span\",{className:\"item-emph\"},b.description)),_this2.props.userIsMember==0&&/*#__PURE__*/React.createElement(\"div\",{style:{position:\"absolute\",right:\"5px\"},className:\"buy-ellips d-flex\",onClick:function onClick(ev){ev.stopPropagation();_this2.setState({menuIndex:index===_this2.state.menuIndex?null:index});}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-ellipsis-v\"}),_this2.state.menuIndex===index&&/*#__PURE__*/React.createElement(\"div\",{className:\"buy-ellips-menu\"},/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return _this2.props.removeBuy(b.id);}},\"Remove\"),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-1\",onClick:function onClick(){return _this2.seeOrder(b);}},\"Orders\")))),/*#__PURE__*/React.createElement(\"div\",{className:index===_this2.state.showBuyOptions?\"buy-options bo-show\":\"buy-options\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\",style:{fontSize:\"x-small\",fontWeight:\"700\"}},/*#__PURE__*/React.createElement(\"div\",null,b.summary),/*#__PURE__*/React.createElement(\"div\",null,\"Deal: \",b.units,\" \",b.unit_measure,\" for $\",b.price)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\",style:{fontSize:\"x-small\",fontWeight:\"700\"}},/*#__PURE__*/React.createElement(\"div\",null,\"Group orders \",_this2.totalUnitsPurchased(b.id),\"/\",b.units,b.unit_measure))),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center align-items-center my-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\",style:{justifyContent:\"space-between\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"buy-cost\"},\"Total $\",(b.price/b.units*_this2.state.buyQuantity).toFixed(2)))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-5 text-center\"},/*#__PURE__*/React.createElement(\"span\",null,\"Order in \",b.unit_measure),/*#__PURE__*/React.createElement(\"input\",{className:\"ml-2\",style:{borderStyle:\"none\",borderRadius:\"3px\",width:\"50px\",textAlign:\"center\"},value:_this2.state.buyQuantity,type:\"number\",onChange:function onChange(ev){return _this2.setState({buyQuantity:ev.target.value});}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},\" \",/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{style:{fontSize:\"x-small\"},className:\"btn btn-sm btn-primary mx-2 mb-1 mb-md-0\",onClick:function onClick(){return _this2.setState({buyQuantity:_this2.state.buyQuantity+1});}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-plus\"})),/*#__PURE__*/React.createElement(\"button\",{style:{fontSize:\"x-small\"},className:\"btn btn-sm btn-primary mx-2\",onClick:function onClick(){return _this2.setState({buyQuantity:_this2.state.buyQuantity>0?_this2.state.buyQuantity-1:0});}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-minus\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col text-center\"},_this2.userHasOrder(_this2.props.userId,b.id)===false?/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm btn-success\",onClick:function onClick(){return _this2.props.placeOrder(b,_this2.state.buyQuantity);}},\"Commit\"):/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm btn-success\",onClick:function onClick(){return _this2.props.updateOrder(b,_this2.state.buyQuantity,_this2.userHasOrder(_this2.props.userId,b.id));}},\"Update\")))));}))))));}}]);return MyGroupBuys;}(Component);export default MyGroupBuys;","map":{"version":3,"sources":["C:/Users/xmark/Desktop/Code/Servers/FC-SERVER/food-commune/src/components/MyGroupBuys.jsx"],"names":["React","Component","MyGroupOrders","Link","MyGroupBuys","state","menuIndex","viewOrder","showBuyOptions","buyQuantity","totalUnitsPurchased","dealId","units","props","data","Purchases","forEach","p","deal_id","purchase_units","seeOrder","order","setState","userHasOrder","userId","find","obj","user_id","font","float","overflowY","listStyle","padding","fontSize","Buys","map","b","index","boxShadow","image_url","color","description","userIsMember","position","right","ev","stopPropagation","removeBuy","id","fontWeight","summary","unit_measure","price","justifyContent","toFixed","borderStyle","borderRadius","width","textAlign","target","value","placeOrder","updateOrder"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport MyGroupOrders from \"./MyGroupOrders\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass MyGroupBuys extends Component {\r\n  state = {\r\n    menuIndex: null,\r\n    viewOrder: null,\r\n    showBuyOptions: null,\r\n    buyQuantity: 0,\r\n  };\r\n\r\n  totalUnitsPurchased = (dealId) => {\r\n    let units = 0;\r\n    this.props.data.Purchases.forEach((p) => {\r\n      if (p.deal_id === dealId) {\r\n        units += p.purchase_units;\r\n      }\r\n    });\r\n\r\n    return units;\r\n  };\r\n\r\n  seeOrder = (order) => {\r\n    this.setState({ viewOrder: order });\r\n  };\r\n\r\n  userHasOrder = (userId, dealId) => {\r\n    // Look for existing order\r\n    let order = this.props.data.Purchases.find((obj) => {\r\n      return obj.deal_id === dealId && obj.user_id === userId;\r\n    });\r\n    return order ? order.purchase_units : false;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        {this.state.viewOrder && (\r\n          <MyGroupOrders\r\n            data={this.props.data}\r\n            Buy={this.state.viewOrder}\r\n            seeOrder={this.seeOrder}\r\n          />\r\n        )}\r\n        {!this.state.viewOrder && (\r\n          <div className=\"card bg-light\">\r\n            <div className=\"card-header button-group\">\r\n              <div>Our Buys - Place Your Order Now!</div>\r\n              <Link\r\n                to=\"/foodcommune/catalog\"\r\n                className=\"btn btn-sm btn-primary\"\r\n                style={{ font: \"small-caption\", float: \"right\" }}\r\n              >\r\n                catalog\r\n              </Link>\r\n            </div>\r\n            <div className=\"card-body p-0\" style={{ overflowY: \"auto\" }}>\r\n              <div className=\"container-fluid\" id=\"group-list\">\r\n                <ul\r\n                  id=\"group-buys-list\"\r\n                  style={{ listStyle: \"none\", padding: \"0\", fontSize: \"small\" }}\r\n                >\r\n                  {this.props.data &&\r\n                    this.props.data.Buys.map((b, index) => {\r\n                      return (\r\n                        <React.Fragment>\r\n                          <li\r\n                            key={index}\r\n                            className=\"row group-buy-item\"\r\n                            style={{\r\n                              boxShadow:\r\n                                this.state.showBuyOptions === index\r\n                                  ? \"0px 4px 6px 1px rgba(0, 0, 0, 0.2)\"\r\n                                  : \"none\",\r\n                            }}\r\n                            onClick={() =>\r\n                              this.setState({\r\n                                showBuyOptions:\r\n                                  this.state.showBuyOptions === index\r\n                                    ? null\r\n                                    : index,\r\n                              })\r\n                            }\r\n                          >\r\n                            {/* Item image */}\r\n                            <div className=\"col-2\">\r\n                              <img\r\n                                className=\"seller-img\"\r\n                                src={\"./Uploads/Deal_Images/\" + b.image_url}\r\n                                alt=\"\"\r\n                              />\r\n                            </div>\r\n                            {/* Item info */}\r\n                            <div\r\n                              className=\"col-10\"\r\n                              style={{ color: \"dimgray\" }}\r\n                            >\r\n                              <span className=\"item-emph\">{b.description}</span>\r\n                            </div>\r\n\r\n                            {this.props.userIsMember == 0 && (\r\n                              <div\r\n                                style={{ position: \"absolute\", right: \"5px\" }}\r\n                                className=\"buy-ellips d-flex\"\r\n                                onClick={(ev) => {\r\n                                  ev.stopPropagation();\r\n                                  this.setState({\r\n                                    menuIndex:\r\n                                      index === this.state.menuIndex\r\n                                        ? null\r\n                                        : index,\r\n                                  });\r\n                                }}\r\n                              >\r\n                                <i className=\"fas fa-ellipsis-v\"></i>\r\n                                {this.state.menuIndex === index && (\r\n                                  <div className=\"buy-ellips-menu\">\r\n                                    <div\r\n                                      onClick={() => this.props.removeBuy(b.id)}\r\n                                    >\r\n                                      Remove\r\n                                    </div>\r\n                                    <div\r\n                                      className=\"mt-1\"\r\n                                      onClick={() => this.seeOrder(b)}\r\n                                    >\r\n                                      Orders\r\n                                    </div>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            )}\r\n                          </li>\r\n\r\n                          {/* Buy Options */}\r\n                          <div\r\n                            className={\r\n                              index === this.state.showBuyOptions\r\n                                ? \"buy-options bo-show\"\r\n                                : \"buy-options\"\r\n                            }\r\n                          >\r\n                            <div className=\"row justify-content-center align-items-center\">\r\n                              <div\r\n                                className=\"col-8\"\r\n                                style={{\r\n                                  fontSize: \"x-small\",\r\n                                  fontWeight: \"700\",\r\n                                }}\r\n                              >\r\n                                <div>{b.summary}</div>\r\n                                <div>\r\n                                  Deal: {b.units} {b.unit_measure} for $\r\n                                  {b.price}\r\n                                </div>\r\n                              </div>\r\n                              <div\r\n                                className=\"col-4\"\r\n                                style={{\r\n                                  fontSize: \"x-small\",\r\n                                  fontWeight: \"700\",\r\n                                }}\r\n                              >\r\n                                <div>\r\n                                  Group orders {this.totalUnitsPurchased(b.id)}/\r\n                                  {b.units}\r\n                                  {b.unit_measure}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"row justify-content-center align-items-center my-2\">\r\n                              <div\r\n                                className=\"col-4\"\r\n                                style={{ justifyContent: \"space-between\" }}\r\n                              >\r\n                                <div className=\"text-center\">\r\n                                  <span className=\"buy-cost\">\r\n                                    Total $\r\n                                    {(\r\n                                      (b.price / b.units) *\r\n                                      this.state.buyQuantity\r\n                                    ).toFixed(2)}\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"col-5 text-center\">\r\n                                <span>Order in {b.unit_measure}</span>\r\n                                <input\r\n                                  className=\"ml-2\"\r\n                                  style={{\r\n                                    borderStyle: \"none\",\r\n                                    borderRadius: \"3px\",\r\n                                    width: \"50px\",\r\n                                    textAlign: \"center\",\r\n                                  }}\r\n                                  value={this.state.buyQuantity}\r\n                                  type=\"number\"\r\n                                  onChange={(ev) =>\r\n                                    this.setState({\r\n                                      buyQuantity: ev.target.value,\r\n                                    })\r\n                                  }\r\n                                ></input>\r\n                              </div>\r\n                              <div className=\"col-3\">\r\n                                {\" \"}\r\n                                <div>\r\n                                  <button\r\n                                    style={{ fontSize: \"x-small\" }}\r\n                                    className=\"btn btn-sm btn-primary mx-2 mb-1 mb-md-0\"\r\n                                    onClick={() =>\r\n                                      this.setState({\r\n                                        buyQuantity: this.state.buyQuantity + 1,\r\n                                      })\r\n                                    }\r\n                                  >\r\n                                    <i className=\"fas fa-plus\"></i>\r\n                                  </button>\r\n                                  <button\r\n                                    style={{ fontSize: \"x-small\" }}\r\n                                    className=\"btn btn-sm btn-primary mx-2\"\r\n                                    onClick={() =>\r\n                                      this.setState({\r\n                                        buyQuantity:\r\n                                          this.state.buyQuantity > 0\r\n                                            ? this.state.buyQuantity - 1\r\n                                            : 0,\r\n                                      })\r\n                                    }\r\n                                  >\r\n                                    <i className=\"fas fa-minus\"></i>\r\n                                  </button>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n\r\n                            <div className=\"row justify-content-center\">\r\n                              <div className=\"col text-center\">\r\n                                {this.userHasOrder(this.props.userId, b.id) ===\r\n                                false ? (\r\n                                  <button\r\n                                    className=\"btn btn-sm btn-success\"\r\n                                    onClick={() =>\r\n                                      this.props.placeOrder(\r\n                                        b,\r\n                                        this.state.buyQuantity\r\n                                      )\r\n                                    }\r\n                                  >\r\n                                    Commit\r\n                                  </button>\r\n                                ) : (\r\n                                  <button\r\n                                    className=\"btn btn-sm btn-success\"\r\n                                    onClick={() =>\r\n                                      this.props.updateOrder(\r\n                                        b,\r\n                                        this.state.buyQuantity, this.userHasOrder(this.props.userId, b.id)\r\n                                      )\r\n                                    }\r\n                                  >\r\n                                    Update\r\n                                  </button>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </React.Fragment>\r\n                      );\r\n                    })}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyGroupBuys;\r\n"]},"metadata":{},"sourceType":"module"}