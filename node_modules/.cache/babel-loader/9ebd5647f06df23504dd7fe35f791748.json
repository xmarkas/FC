{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\FC-SERVER\\\\food-commune\\\\src\\\\components\\\\MyGroupBuys.jsx\";\nimport React, { Component } from \"react\";\nimport MyGroupOrders from \"./MyGroupOrders\";\nimport { Link } from \"react-router-dom\";\n\nclass MyGroupBuys extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      menuIndex: null,\n      removeCheck: null,\n      viewOrder: null,\n      showBuyOptions: null,\n      buyQuantity: 0,\n      spinner: false\n    };\n\n    this.totalUnitsPurchased = dealId => {\n      let units = 0;\n      this.props.data.Purchases.forEach(p => {\n        if (p.deal_id === dealId) {\n          units += p.purchase_units;\n        }\n      });\n      return units;\n    };\n\n    this.seeOrder = order => {\n      this.setState({\n        viewOrder: order\n      });\n    };\n\n    this.showBuyOptions = (index, buy) => {\n      let order = this.props.data.Purchases.find(obj => {\n        return obj.deal_id === buy.id && obj.user_id === this.props.userId;\n      });\n      this.setState({\n        showBuyOptions: this.state.showBuyOptions === index ? null : index,\n        buyQuantity: order ? order.purchase_units : 0\n      });\n    };\n\n    this.userHasOrder = (userId, dealId) => {\n      // Look for existing order\n      let order = this.props.data.Purchases.find(obj => {\n        return obj.deal_id === dealId && obj.user_id === userId;\n      });\n      return order ? order : false;\n    };\n\n    this.closeOptions = () => {\n      setTimeout(() => {\n        this.setState({\n          showBuyOptions: null,\n          menuIndex: null,\n          spinner: false,\n          removeCheck: null\n        });\n      }, 1500);\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }\n    }, this.state.viewOrder && /*#__PURE__*/React.createElement(MyGroupOrders, {\n      data: this.props.data,\n      Buy: this.state.viewOrder,\n      seeOrder: this.seeOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }), !this.state.viewOrder && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card bg-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header button-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    }, \"Our Buys - Place Your Order Now!\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/catalog\",\n      className: \"btn btn-sm btn-primary\",\n      style: {\n        font: \"small-caption\",\n        float: \"right\",\n        height: \"fit-content\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }\n    }, \"catalog\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body p-0\",\n      style: {\n        overflowY: \"auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      id: \"group-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      id: \"group-buys-list\",\n      style: {\n        listStyle: \"none\",\n        padding: \"0\",\n        fontSize: \"small\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, this.props.data && this.props.data.Buys.map((b, index) => {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        key: index,\n        className: \"row group-buy-item\",\n        style: {\n          boxShadow: this.state.showBuyOptions === index ? \"0px 4px 6px 1px rgba(0, 0, 0, 0.2)\" : \"none\"\n        },\n        onClick: () => this.showBuyOptions(index, b),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"seller-img\",\n        src: \"/Deal_Images/\" + b.image_url,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 31\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-10\",\n        style: {\n          color: \"dimgray\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"item-emph\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 31\n        }\n      }, b.description)), this.props.userIsMember == 0 && /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          position: \"absolute\",\n          right: \"5px\"\n        },\n        className: \"buy-ellips d-flex align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"buy-ellips-menu\",\n        style: this.state.menuIndex === index ? {\n          width: \"295px\"\n        } : {\n          width: \"0\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 33\n        }\n      }, this.state.removeCheck !== index && /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm btn-danger m-2\",\n        style: {\n          fontSize: \".7rem\"\n        },\n        onClick: ev => {\n          ev.stopPropagation();\n          this.setState({\n            removeCheck: index\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 37\n        }\n      }, \"Remove\"), this.state.removeCheck === index && /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          fontSize: \".7rem\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 39\n        }\n      }, \"Are you sure?\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm btn-danger m-2\",\n        style: {\n          fontSize: \".7rem\"\n        },\n        onClick: ev => {\n          ev.stopPropagation();\n          this.props.removeBuy(b.id);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 39\n        }\n      }, \"Remove\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm btn-secondary m-2\",\n        style: {\n          fontSize: \".7rem\"\n        },\n        onClick: ev => {\n          ev.stopPropagation();\n          this.setState({\n            removeCheck: null\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 39\n        }\n      }, \"Keep Offer\")), this.state.removeCheck !== index && /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm btn-primary m-2\",\n        style: {\n          fontSize: \".7rem\",\n          whiteSpace: \"nowrap\"\n        },\n        onClick: ev => {\n          ev.stopPropagation();\n          this.seeOrder(b);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 37\n        }\n      }, \"View Orders\")), /*#__PURE__*/React.createElement(\"i\", {\n        style: {\n          width: \"20px\",\n          textAlign: \"center\",\n          marginLeft: \"5px\",\n          color: this.state.menuIndex === index ? \"red\" : \"gray\"\n        },\n        className: this.state.menuIndex === index ? \"far fa-times-circle\" : \"fas fa-ellipsis-v\",\n        onClick: ev => {\n          ev.stopPropagation();\n          console.log(index, this.state.menuIndex);\n          this.setState({\n            menuIndex: index === this.state.menuIndex ? null : index,\n            removeCheck: null\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: index === this.state.showBuyOptions ? \"buy-options bo-show\" : \"buy-options\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row justify-content-center align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8\",\n        style: {\n          fontSize: \"x-small\",\n          fontWeight: \"700\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 33\n        }\n      }, b.summary), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 33\n        }\n      }, \"Deal: \", b.units, \" \", b.unit_measure, \" for $\", b.price)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4\",\n        style: {\n          fontSize: \"x-small\",\n          fontWeight: \"700\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 33\n        }\n      }, \"Group orders \", this.totalUnitsPurchased(b.id), \"/\", b.units, b.unit_measure))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row justify-content-center align-items-center my-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4\",\n        style: {\n          justifyContent: \"space-between\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"buy-cost\",\n        style: {\n          fontSize: \".7rem\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 35\n        }\n      }, \"Total $\", (b.price / b.units * this.state.buyQuantity).toFixed(2)))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4 text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          fontSize: \".7rem\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 33\n        }\n      }, \"Order in \", b.unit_measure), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"ml-2\",\n        style: {\n          borderStyle: \"none\",\n          borderRadius: \"3px\",\n          width: \"50px\",\n          textAlign: \"center\"\n        },\n        value: this.state.buyQuantity,\n        type: \"number\",\n        onChange: ev => this.setState({\n          buyQuantity: ev.target.value\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        style: {\n          fontSize: \"x-small\"\n        },\n        className: \"btn btn-sm btn-primary mr-1\",\n        onClick: () => this.setState({\n          buyQuantity: this.state.buyQuantity + 1\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-plus\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        style: {\n          fontSize: \"x-small\"\n        },\n        className: \"btn btn-sm btn-primary\",\n        onClick: () => this.setState({\n          buyQuantity: this.state.buyQuantity > 0 ? this.state.buyQuantity - 1 : 0\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-minus\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 37\n        }\n      }))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 31\n        }\n      }, this.userHasOrder(this.props.userId, b.id) === false ? /*#__PURE__*/React.createElement(\"button\", {\n        style: {\n          fontSize: \".7rem\"\n        },\n        className: \"btn btn-sm btn-success\",\n        onClick: () => {\n          this.props.placeOrder(b, this.state.buyQuantity);\n          this.setState({\n            spinner: true\n          });\n          this.closeOptions();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 35\n        }\n      }, \"Commit\", this.state.spinner && /*#__PURE__*/React.createElement(\"div\", {\n        class: \"spinner-border text-info\",\n        role: \"status\",\n        style: {\n          position: \"absolute\",\n          top: \"50%\",\n          left: \"45%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        class: \"sr-only\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 41\n        }\n      }, \"Loading...\"))) : /*#__PURE__*/React.createElement(\"button\", {\n        style: {\n          fontSize: \".7rem\"\n        },\n        className: \"btn btn-sm btn-success\",\n        onClick: () => {\n          this.props.updateOrder(b, this.state.buyQuantity, this.userHasOrder(this.props.userId, b.id));\n          this.setState({\n            spinner: true\n          });\n          this.closeOptions();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 35\n        }\n      }, \"Update\", this.state.spinner && /*#__PURE__*/React.createElement(\"div\", {\n        class: \"spinner-border text-info\",\n        role: \"status\",\n        style: {\n          position: \"absolute\",\n          top: \"50%\",\n          left: \"45%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        class: \"sr-only\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 41\n        }\n      }, \"Loading...\")))))));\n    }))))));\n  }\n\n}\n\nexport default MyGroupBuys;","map":{"version":3,"sources":["C:/Users/xmark/Desktop/Code/Servers/FC-SERVER/food-commune/src/components/MyGroupBuys.jsx"],"names":["React","Component","MyGroupOrders","Link","MyGroupBuys","state","menuIndex","removeCheck","viewOrder","showBuyOptions","buyQuantity","spinner","totalUnitsPurchased","dealId","units","props","data","Purchases","forEach","p","deal_id","purchase_units","seeOrder","order","setState","index","buy","find","obj","id","user_id","userId","userHasOrder","closeOptions","setTimeout","render","font","float","height","overflowY","listStyle","padding","fontSize","Buys","map","b","boxShadow","image_url","color","description","userIsMember","position","right","width","ev","stopPropagation","removeBuy","whiteSpace","textAlign","marginLeft","console","log","fontWeight","summary","unit_measure","price","justifyContent","toFixed","borderStyle","borderRadius","target","value","placeOrder","top","left","updateOrder"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport MyGroupOrders from \"./MyGroupOrders\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass MyGroupBuys extends Component {\r\n  state = {\r\n    menuIndex: null,\r\n    removeCheck: null,\r\n    viewOrder: null,\r\n    showBuyOptions: null,\r\n    buyQuantity: 0,\r\n    spinner: false,\r\n  };\r\n\r\n  totalUnitsPurchased = (dealId) => {\r\n    let units = 0;\r\n    this.props.data.Purchases.forEach((p) => {\r\n      if (p.deal_id === dealId) {\r\n        units += p.purchase_units;\r\n      }\r\n    });\r\n\r\n    return units;\r\n  };\r\n\r\n  seeOrder = (order) => {\r\n    this.setState({ viewOrder: order });\r\n  };\r\n\r\n  showBuyOptions = (index, buy) => {\r\n    let order = this.props.data.Purchases.find((obj) => {\r\n      return obj.deal_id === buy.id && obj.user_id === this.props.userId;\r\n    });\r\n\r\n    this.setState({\r\n      showBuyOptions: this.state.showBuyOptions === index ? null : index,\r\n      buyQuantity: order ? order.purchase_units : 0,\r\n    });\r\n  };\r\n\r\n  userHasOrder = (userId, dealId) => {\r\n    // Look for existing order\r\n    let order = this.props.data.Purchases.find((obj) => {\r\n      return obj.deal_id === dealId && obj.user_id === userId;\r\n    });\r\n    return order ? order : false;\r\n  };\r\n\r\n  closeOptions = () => {\r\n    setTimeout(() => {\r\n      this.setState({\r\n        showBuyOptions: null,\r\n        menuIndex: null,\r\n        spinner: false,\r\n        removeCheck: null,\r\n      });\r\n    }, 1500);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        {this.state.viewOrder && (\r\n          <MyGroupOrders\r\n            data={this.props.data}\r\n            Buy={this.state.viewOrder}\r\n            seeOrder={this.seeOrder}\r\n          />\r\n        )}\r\n        {!this.state.viewOrder && (\r\n          <div className=\"card bg-light\">\r\n            <div className=\"card-header button-group\">\r\n              <div>Our Buys - Place Your Order Now!</div>\r\n              <Link\r\n                to=\"/catalog\"\r\n                className=\"btn btn-sm btn-primary\"\r\n                style={{\r\n                  font: \"small-caption\",\r\n                  float: \"right\",\r\n                  height: \"fit-content\",\r\n                }}\r\n              >\r\n                catalog\r\n              </Link>\r\n            </div>\r\n            <div className=\"card-body p-0\" style={{ overflowY: \"auto\" }}>\r\n              <div className=\"container-fluid\" id=\"group-list\">\r\n                <ul\r\n                  id=\"group-buys-list\"\r\n                  style={{ listStyle: \"none\", padding: \"0\", fontSize: \"small\" }}\r\n                >\r\n                  {this.props.data &&\r\n                    this.props.data.Buys.map((b, index) => {\r\n                      return (\r\n                        <React.Fragment>\r\n                          <li\r\n                            key={index}\r\n                            className=\"row group-buy-item\"\r\n                            style={{\r\n                              boxShadow:\r\n                                this.state.showBuyOptions === index\r\n                                  ? \"0px 4px 6px 1px rgba(0, 0, 0, 0.2)\"\r\n                                  : \"none\",\r\n                            }}\r\n                            onClick={() => this.showBuyOptions(index, b)}\r\n                          >\r\n                            {/* Item image */}\r\n                            <div className=\"col-2\">\r\n                              <img\r\n                                className=\"seller-img\"\r\n                                src={\"/Deal_Images/\" + b.image_url}\r\n                                alt=\"\"\r\n                              />\r\n                            </div>\r\n                            {/* Item info */}\r\n                            <div\r\n                              className=\"col-10\"\r\n                              style={{ color: \"dimgray\" }}\r\n                            >\r\n                              <span className=\"item-emph\">{b.description}</span>\r\n                            </div>\r\n\r\n                            {this.props.userIsMember == 0 && (\r\n                              <div\r\n                                style={{ position: \"absolute\", right: \"5px\" }}\r\n                                className=\"buy-ellips d-flex align-items-center\"\r\n                              >\r\n                                <div\r\n                                  className=\"buy-ellips-menu\"\r\n                                  style={\r\n                                    this.state.menuIndex === index\r\n                                      ? { width: \"295px\" }\r\n                                      : { width: \"0\" }\r\n                                  }\r\n                                >\r\n                                  {/* Remove */}\r\n                                  {/* step 1 */}\r\n                                  {this.state.removeCheck !== index && (\r\n                                    <button\r\n                                      className=\"btn btn-sm btn-danger m-2\"\r\n                                      style={{ fontSize: \".7rem\" }}\r\n                                      onClick={(ev) => {\r\n                                        ev.stopPropagation();\r\n                                        this.setState({ removeCheck: index });\r\n                                      }}\r\n                                    >\r\n                                      Remove\r\n                                    </button>\r\n                                  )}\r\n                                  {/* step 2 */}\r\n                                  {this.state.removeCheck === index && (\r\n                                    <React.Fragment>\r\n                                      <span style={{ fontSize: \".7rem\" }}>\r\n                                        Are you sure?\r\n                                      </span>\r\n                                      <button\r\n                                        className=\"btn btn-sm btn-danger m-2\"\r\n                                        style={{ fontSize: \".7rem\" }}\r\n                                        onClick={(ev) => {\r\n                                          ev.stopPropagation();\r\n                                          this.props.removeBuy(b.id);\r\n                                        }}\r\n                                      >\r\n                                        Remove\r\n                                      </button>\r\n                                      <button\r\n                                        className=\"btn btn-sm btn-secondary m-2\"\r\n                                        style={{ fontSize: \".7rem\" }}\r\n                                        onClick={(ev) => {\r\n                                          ev.stopPropagation();\r\n                                          this.setState({ removeCheck: null });\r\n                                        }}\r\n                                      >\r\n                                        Keep Offer\r\n                                      </button>\r\n                                    </React.Fragment>\r\n                                  )}\r\n\r\n                                  {this.state.removeCheck !== index && (\r\n                                    <button\r\n                                      className=\"btn btn-sm btn-primary m-2\"\r\n                                      style={{\r\n                                        fontSize: \".7rem\",\r\n                                        whiteSpace: \"nowrap\",\r\n                                      }}\r\n                                      onClick={(ev) => {\r\n                                        ev.stopPropagation();\r\n                                        this.seeOrder(b);\r\n                                      }}\r\n                                    >\r\n                                      View Orders\r\n                                    </button>\r\n                                  )}\r\n                                </div>\r\n\r\n                                <i\r\n                                  style={{\r\n                                    width: \"20px\",\r\n                                    textAlign: \"center\",\r\n                                    marginLeft: \"5px\",\r\n                                    color:\r\n                                      this.state.menuIndex === index\r\n                                        ? \"red\"\r\n                                        : \"gray\",\r\n                                  }}\r\n                                  className={\r\n                                    this.state.menuIndex === index\r\n                                      ? \"far fa-times-circle\"\r\n                                      : \"fas fa-ellipsis-v\"\r\n                                  }\r\n                                  onClick={(ev) => {\r\n                                    ev.stopPropagation();\r\n                                    console.log(index, this.state.menuIndex);\r\n                                    this.setState({\r\n                                      menuIndex:\r\n                                        index === this.state.menuIndex\r\n                                          ? null\r\n                                          : index,\r\n                                      removeCheck: null,\r\n                                    });\r\n                                  }}\r\n                                ></i>\r\n                              </div>\r\n                            )}\r\n                          </li>\r\n\r\n                          {/* Buy Options */}\r\n                          <div\r\n                            className={\r\n                              index === this.state.showBuyOptions\r\n                                ? \"buy-options bo-show\"\r\n                                : \"buy-options\"\r\n                            }\r\n                          >\r\n                            <div className=\"row justify-content-center align-items-center\">\r\n                              <div\r\n                                className=\"col-8\"\r\n                                style={{\r\n                                  fontSize: \"x-small\",\r\n                                  fontWeight: \"700\",\r\n                                }}\r\n                              >\r\n                                <div>{b.summary}</div>\r\n                                <div>\r\n                                  Deal: {b.units} {b.unit_measure} for $\r\n                                  {b.price}\r\n                                </div>\r\n                              </div>\r\n                              <div\r\n                                className=\"col-4\"\r\n                                style={{\r\n                                  fontSize: \"x-small\",\r\n                                  fontWeight: \"700\",\r\n                                }}\r\n                              >\r\n                                <div className=\"text-right\">\r\n                                  Group orders {this.totalUnitsPurchased(b.id)}/\r\n                                  {b.units}\r\n                                  {b.unit_measure}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"row justify-content-center align-items-center my-2\">\r\n                              <div\r\n                                className=\"col-4\"\r\n                                style={{ justifyContent: \"space-between\" }}\r\n                              >\r\n                                <div className=\"text-center\">\r\n                                  <span\r\n                                    className=\"buy-cost\"\r\n                                    style={{ fontSize: \".7rem\" }}\r\n                                  >\r\n                                    Total $\r\n                                    {(\r\n                                      (b.price / b.units) *\r\n                                      this.state.buyQuantity\r\n                                    ).toFixed(2)}\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"col-4 text-center\">\r\n                                <span style={{ fontSize: \".7rem\" }}>\r\n                                  Order in {b.unit_measure}\r\n                                </span>\r\n                                <input\r\n                                  className=\"ml-2\"\r\n                                  style={{\r\n                                    borderStyle: \"none\",\r\n                                    borderRadius: \"3px\",\r\n                                    width: \"50px\",\r\n                                    textAlign: \"center\",\r\n                                  }}\r\n                                  value={this.state.buyQuantity}\r\n                                  type=\"number\"\r\n                                  onChange={(ev) =>\r\n                                    this.setState({\r\n                                      buyQuantity: ev.target.value,\r\n                                    })\r\n                                  }\r\n                                ></input>\r\n                              </div>\r\n                              <div className=\"col-4\">\r\n                                <div className=\"text-right\">\r\n                                  <button\r\n                                    style={{ fontSize: \"x-small\" }}\r\n                                    className=\"btn btn-sm btn-primary mr-1\"\r\n                                    onClick={() =>\r\n                                      this.setState({\r\n                                        buyQuantity: this.state.buyQuantity + 1,\r\n                                      })\r\n                                    }\r\n                                  >\r\n                                    <i className=\"fas fa-plus\"></i>\r\n                                  </button>\r\n                                  <button\r\n                                    style={{ fontSize: \"x-small\" }}\r\n                                    className=\"btn btn-sm btn-primary\"\r\n                                    onClick={() =>\r\n                                      this.setState({\r\n                                        buyQuantity:\r\n                                          this.state.buyQuantity > 0\r\n                                            ? this.state.buyQuantity - 1\r\n                                            : 0,\r\n                                      })\r\n                                    }\r\n                                  >\r\n                                    <i className=\"fas fa-minus\"></i>\r\n                                  </button>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n\r\n                            <div className=\"row justify-content-center\">\r\n                              <div className=\"col text-center\">\r\n                                {this.userHasOrder(this.props.userId, b.id) ===\r\n                                false ? (\r\n                                  <button\r\n                                    style={{ fontSize: \".7rem\" }}\r\n                                    className=\"btn btn-sm btn-success\"\r\n                                    onClick={() => {\r\n                                      this.props.placeOrder(\r\n                                        b,\r\n                                        this.state.buyQuantity\r\n                                      );\r\n                                      this.setState({ spinner: true });\r\n                                      this.closeOptions();\r\n                                    }}\r\n                                  >\r\n                                    Commit\r\n                                    {/* Spinner */}\r\n                                    {this.state.spinner && (\r\n                                      <div\r\n                                        class=\"spinner-border text-info\"\r\n                                        role=\"status\"\r\n                                        style={{\r\n                                          position: \"absolute\",\r\n                                          top: \"50%\",\r\n                                          left: \"45%\",\r\n                                        }}\r\n                                      >\r\n                                        <span class=\"sr-only\">Loading...</span>\r\n                                      </div>\r\n                                    )}\r\n                                  </button>\r\n                                ) : (\r\n                                  <button\r\n                                    style={{ fontSize: \".7rem\" }}\r\n                                    className=\"btn btn-sm btn-success\"\r\n                                    onClick={() => {\r\n                                      this.props.updateOrder(\r\n                                        b,\r\n                                        this.state.buyQuantity,\r\n                                        this.userHasOrder(\r\n                                          this.props.userId,\r\n                                          b.id\r\n                                        )\r\n                                      );\r\n                                      this.setState({ spinner: true });\r\n                                      this.closeOptions();\r\n                                    }}\r\n                                  >\r\n                                    Update\r\n                                    {/* Spinner */}\r\n                                    {this.state.spinner && (\r\n                                      <div\r\n                                        class=\"spinner-border text-info\"\r\n                                        role=\"status\"\r\n                                        style={{\r\n                                          position: \"absolute\",\r\n                                          top: \"50%\",\r\n                                          left: \"45%\",\r\n                                        }}\r\n                                      >\r\n                                        <span class=\"sr-only\">Loading...</span>\r\n                                      </div>\r\n                                    )}\r\n                                  </button>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </React.Fragment>\r\n                      );\r\n                    })}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyGroupBuys;\r\n"]},"metadata":{},"sourceType":"module"}