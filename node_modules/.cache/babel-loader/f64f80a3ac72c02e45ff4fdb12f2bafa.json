{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import MyGroupOrders from'./MyGroupOrders';var MyGroupBuys=/*#__PURE__*/function(_Component){_inherits(MyGroupBuys,_Component);var _super=_createSuper(MyGroupBuys);function MyGroupBuys(){var _this;_classCallCheck(this,MyGroupBuys);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={menuIndex:null,viewOrder:null};_this.totalUnitsPurchased=function(dealId){var units=0;_this.props.data.Purchases.forEach(function(p){if(p.deal_id===dealId){units+=p.purchase_units;}});return units;};_this.seeOrder=function(order){_this.setState({viewOrder:order});};return _this;}_createClass(MyGroupBuys,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(React.Fragment,null,this.state.viewOrder&&/*#__PURE__*/React.createElement(MyGroupOrders,{data:this.props.data,Buy:this.state.viewOrder,seeOrder:this.seeOrder}),!this.state.viewOrder&&/*#__PURE__*/React.createElement(\"div\",{className:\"card bg-light\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header button-group\"},/*#__PURE__*/React.createElement(\"div\",null,\"Our Buys - Place Your Order Now!\"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm btn-primary\",style:{font:\"small-caption\",float:\"right\"},onClick:function onClick(){window.location.href=\"/foodcommune/catalog.html\";}},\"catalog\")),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body p-0\",style:{overflowY:\"auto\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\",id:\"group-list\"},/*#__PURE__*/React.createElement(\"ul\",{id:\"group-buys-list\",style:{listStyle:\"none\",padding:\"0\",fontSize:\"small\"}},this.props.data&&this.props.data.Buys.map(function(b,index){return/*#__PURE__*/React.createElement(\"li\",{key:index,className:\"row group-buy-item\",onClick:function onClick(){return _this2.props.itemView(b);}},/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(\"img\",{className:\"seller-img\",src:\"./Uploads/Deal_Images/\"+b.image_url,alt:\"\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\",style:{color:\"dimgray\"}},/*#__PURE__*/React.createElement(\"span\",{className:\"item-emph\"},b.description)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\",style:{color:\"#28a745\"}},_this2.totalUnitsPurchased(b.id),\"/\",b.units,b.unit_measure),_this2.props.userIsMember==0&&/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 buy-ellips d-flex\",onClick:function onClick(ev){ev.stopPropagation();_this2.setState({menuIndex:index===_this2.state.menuIndex?null:index});}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-ellipsis-v\"}),_this2.state.menuIndex===index&&/*#__PURE__*/React.createElement(\"div\",{className:\"buy-ellips-menu\"},/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return _this2.props.removeBuy(b.id);}},\"Remove\"),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-1\",onClick:function onClick(){return _this2.seeOrder(b);}},\"Orders\"))));}))))));}}]);return MyGroupBuys;}(Component);export default MyGroupBuys;","map":{"version":3,"sources":["C:/Users/xmark/Desktop/Code/Servers/Qumoc/food-commune/src/components/MyGroupBuys.jsx"],"names":["React","Component","MyGroupOrders","MyGroupBuys","state","menuIndex","viewOrder","totalUnitsPurchased","dealId","units","props","data","Purchases","forEach","p","deal_id","purchase_units","seeOrder","order","setState","font","float","window","location","href","overflowY","listStyle","padding","fontSize","Buys","map","b","index","itemView","image_url","color","description","id","unit_measure","userIsMember","ev","stopPropagation","removeBuy"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport MyGroupOrders from './MyGroupOrders';\r\n\r\nclass MyGroupBuys extends Component {\r\n  state = {\r\n    menuIndex: null,\r\n    viewOrder: null\r\n  };\r\n\r\n  totalUnitsPurchased = dealId => {\r\n    let units = 0;\r\n    this.props.data.Purchases.forEach(p => {\r\n      if (p.deal_id === dealId) {\r\n        units += p.purchase_units;\r\n      }\r\n    });\r\n\r\n    return units;\r\n  };\r\n\r\n  seeOrder = order => {\r\n    this.setState({ viewOrder: order });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        {this.state.viewOrder && (\r\n          <MyGroupOrders\r\n            data={this.props.data}\r\n            Buy={this.state.viewOrder}\r\n            seeOrder={this.seeOrder}\r\n          />\r\n        )}\r\n        {!this.state.viewOrder && (\r\n          <div className=\"card bg-light\">\r\n            <div className=\"card-header button-group\">\r\n              <div>Our Buys - Place Your Order Now!</div>\r\n              <button\r\n                className=\"btn btn-sm btn-primary\"\r\n                style={{ font: \"small-caption\", float: \"right\" }}\r\n                onClick={() => {\r\n                  window.location.href = \"/foodcommune/catalog.html\";\r\n                }}\r\n              >\r\n                catalog\r\n              </button>\r\n            </div>\r\n            <div className=\"card-body p-0\" style={{ overflowY: \"auto\" }}>\r\n              <div className=\"container-fluid\" id=\"group-list\">\r\n                <ul\r\n                  id=\"group-buys-list\"\r\n                  style={{ listStyle: \"none\", padding: \"0\", fontSize: \"small\" }}\r\n                >\r\n                  {this.props.data &&\r\n                    this.props.data.Buys.map((b, index) => {\r\n                      return (\r\n                        <li\r\n                          key={index}\r\n                          className=\"row group-buy-item\"\r\n                          onClick={() => this.props.itemView(b)}\r\n                        >\r\n                          {/* Item image */}\r\n                          <div className=\"col-2\">\r\n                            <img\r\n                              className=\"seller-img\"\r\n                              src={\"./Uploads/Deal_Images/\" + b.image_url}\r\n                              alt=\"\"\r\n                            />\r\n                          </div>\r\n                          {/* Item info */}\r\n                          <div className=\"col-6\" style={{ color: \"dimgray\" }}>\r\n                            <span className=\"item-emph\">{b.description}</span>\r\n                          </div>\r\n                          <div className=\"col-3\" style={{ color: \"#28a745\" }}>\r\n                            {this.totalUnitsPurchased(b.id)}/{b.units}\r\n                            {b.unit_measure}\r\n                          </div>\r\n                          {this.props.userIsMember == 0 && (\r\n                            <div\r\n                              className=\"col-1 buy-ellips d-flex\"\r\n                              onClick={ev => {\r\n                                ev.stopPropagation();\r\n                                this.setState({\r\n                                  menuIndex:\r\n                                    index === this.state.menuIndex\r\n                                      ? null\r\n                                      : index\r\n                                });\r\n                              }}\r\n                            >\r\n                              <i className=\"fas fa-ellipsis-v\"></i>\r\n                              {this.state.menuIndex === index && (\r\n                                <div className=\"buy-ellips-menu\">\r\n                                  <div\r\n                                    onClick={() => this.props.removeBuy(b.id)}\r\n                                  >\r\n                                    Remove\r\n                                  </div>\r\n                                  <div\r\n                                    className=\"mt-1\"\r\n                                    onClick={() => this.seeOrder(b)}\r\n                                  >\r\n                                    Orders\r\n                                  </div>\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          )}\r\n                        </li>\r\n                      );\r\n                    })}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyGroupBuys;"]},"metadata":{},"sourceType":"module"}