{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{oktaSession}from\"../store/actions/index\";import{session,getToken}from\"../util/okta\";import{Link,Redirect,Route}from\"react-router-dom\";import DashboardView from\"./DashboardView\";var mapStateToProps=function mapStateToProps(state){return{sessionExists:state.sessionExists,provisional:state.provisional,user:state.user};};function mapDispatchToProps(dispatch){return{};}var UserStatus=/*#__PURE__*/function(_Component){_inherits(UserStatus,_Component);var _super=_createSuper(UserStatus);function UserStatus(){var _this;_classCallCheck(this,UserStatus);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={userMenu:false};_this.userMenu=function(){console.log(\"clicked\");_this.setState({userMenu:_this.state.userMenu?false:true});};return _this;}_createClass(UserStatus,[{key:\"componentWillMount\",value:function componentWillMount(){session().then(function(exists){console.log(exists);getToken(exists);});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(React.Fragment,null,this.props.user&&/*#__PURE__*/React.createElement(Route,null,/*#__PURE__*/React.createElement(Redirect,{to:{pathname:\"/foodcommune/dashboard\"}})),console.log(this.props.provisional),!this.props.user&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{id:\"open-account\",className:\"nav-item nav-link\",onClick:this.props.createAccount},\"Create Account\"),/*#__PURE__*/React.createElement(\"span\",{id:\"open-signin\",className:\"nav-item nav-link\",onClick:this.props.signIn},\"Sign In\")),this.props.user&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{onClick:this.userMenu,style:{display:\"flex\",alignItems:\"center\",position:\"relative\"}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-user-circle fa-2x mr-1 fc-green\"}),/*#__PURE__*/React.createElement(\"span\",{id:\"user\",style:{color:\"dimgray\"}},this.state.username),/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-caret-down ml-3\"}),this.state.userMenu&&/*#__PURE__*/React.createElement(\"div\",{id:\"user-menu\"},/*#__PURE__*/React.createElement(\"ul\",{style:{listStyle:\"none\",padding:\"10px\"}},/*#__PURE__*/React.createElement(\"li\",{style:{cursor:\"pointer\"},onClick:function onClick(){return _this2.state.authClient.signOut();}},\"Sign Out\"),/*#__PURE__*/React.createElement(\"li\",{style:{cursor:\"pointer\"}// onClick={() =>\n//   (window.location.href = \"/foodcommune/mydashboard.html\")\n// }\n},/*#__PURE__*/React.createElement(Link,{to:\"/foodcommune/dashboard\"},\"Dashboard\")),/*#__PURE__*/React.createElement(\"li\",{style:{cursor:\"pointer\"}},\"Settings\"))))));}}]);return UserStatus;}(Component);export default connect(mapStateToProps,mapDispatchToProps)(UserStatus);","map":{"version":3,"sources":["C:/Users/xmark/Desktop/Code/Servers/Qumoc/food-commune/src/components/UserStatus.jsx"],"names":["React","Component","connect","oktaSession","session","getToken","Link","Redirect","Route","DashboardView","mapStateToProps","state","sessionExists","provisional","user","mapDispatchToProps","dispatch","UserStatus","userMenu","console","log","setState","then","exists","props","pathname","createAccount","signIn","display","alignItems","position","color","username","listStyle","padding","cursor","authClient","signOut"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { oktaSession } from \"../store/actions/index\";\r\nimport { session, getToken } from \"../util/okta\";\r\nimport { Link, Redirect, Route } from \"react-router-dom\";\r\nimport DashboardView from \"./DashboardView\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    sessionExists: state.sessionExists,\r\n    provisional: state.provisional,\r\n    user: state.user\r\n  };\r\n};\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {};\r\n}\r\n\r\nclass UserStatus extends Component {\r\n  state = {\r\n    userMenu: false\r\n  };\r\n\r\n  componentWillMount() {\r\n    session().then(exists => {\r\n      console.log(exists);\r\n      getToken(exists);\r\n    });\r\n  }\r\n\r\n  userMenu = () => {\r\n    console.log(\"clicked\");\r\n    this.setState({ userMenu: this.state.userMenu ? false : true });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        {this.props.user && (\r\n          <Route>\r\n            <Redirect to={{ pathname: \"/foodcommune/dashboard\" }}></Redirect>\r\n          </Route>\r\n        )}\r\n        {console.log(this.props.provisional)}\r\n        {/* User sign in/create account */}\r\n        {!this.props.user && (\r\n          <React.Fragment>\r\n            <span\r\n              id=\"open-account\"\r\n              className=\"nav-item nav-link\"\r\n              onClick={this.props.createAccount}\r\n            >\r\n              Create Account\r\n            </span>\r\n            <span\r\n              id=\"open-signin\"\r\n              className=\"nav-item nav-link\"\r\n              onClick={this.props.signIn}\r\n            >\r\n              Sign In\r\n            </span>\r\n          </React.Fragment>\r\n        )}\r\n        {/* User signed in */}\r\n        {this.props.user && (\r\n          <div>\r\n            <div\r\n              onClick={this.userMenu}\r\n              style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                position: \"relative\"\r\n              }}\r\n            >\r\n              <i className=\"fas fa-user-circle fa-2x mr-1 fc-green\"></i>\r\n              <span id=\"user\" style={{ color: \"dimgray\" }}>\r\n                {this.state.username}\r\n              </span>\r\n              <i className=\"fas fa-caret-down ml-3\"></i>\r\n              {this.state.userMenu && (\r\n                <div id=\"user-menu\">\r\n                  <ul style={{ listStyle: \"none\", padding: \"10px\" }}>\r\n                    <li\r\n                      style={{ cursor: \"pointer\" }}\r\n                      onClick={() => this.state.authClient.signOut()}\r\n                    >\r\n                      Sign Out\r\n                    </li>\r\n                    <li\r\n                      style={{ cursor: \"pointer\" }}\r\n                      // onClick={() =>\r\n                      //   (window.location.href = \"/foodcommune/mydashboard.html\")\r\n                      // }\r\n                    >\r\n                      <Link to=\"/foodcommune/dashboard\">Dashboard</Link>\r\n                    </li>\r\n                    <li style={{ cursor: \"pointer\" }}>Settings</li>\r\n                  </ul>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserStatus);\r\n"]},"metadata":{},"sourceType":"module"}