{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\xmark\\\\Desktop\\\\Code\\\\Servers\\\\Qumoc\\\\food-commune\\\\src\\\\components\\\\MyGroupBuys.jsx\";\nimport React, { Component } from \"react\";\nimport MyGroupOrders from \"./MyGroupOrders\";\n\nclass MyGroupBuys extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      menuIndex: null,\n      viewOrder: null,\n      showBuyOptions: null,\n      buyQuantity: 0\n    };\n\n    this.totalUnitsPurchased = dealId => {\n      let units = 0;\n      this.props.data.Purchases.forEach(p => {\n        if (p.deal_id === dealId) {\n          units += p.purchase_units;\n        }\n      });\n      return units;\n    };\n\n    this.seeOrder = order => {\n      this.setState({\n        viewOrder: order\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 7\n      }\n    }, this.state.viewOrder && /*#__PURE__*/React.createElement(MyGroupOrders, {\n      data: this.props.data,\n      Buy: this.state.viewOrder,\n      seeOrder: this.seeOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }\n    }), !this.state.viewOrder && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card bg-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header button-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 15\n      }\n    }, \"Our Buys - Place Your Order Now!\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-primary\",\n      style: {\n        font: \"small-caption\",\n        float: \"right\"\n      },\n      onClick: () => {\n        window.location.href = \"/foodcommune/catalog.html\";\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 15\n      }\n    }, \"catalog\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body p-0\",\n      style: {\n        overflowY: \"auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      id: \"group-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      id: \"group-buys-list\",\n      style: {\n        listStyle: \"none\",\n        padding: \"0\",\n        fontSize: \"small\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, this.props.data && this.props.data.Buys.map((b, index) => {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        key: index,\n        className: \"row group-buy-item\" // onClick={() => this.props.itemView(b)}\n        ,\n        onClick: () => this.setState({\n          showBuyOptions: index\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"seller-img\",\n        src: \"./Uploads/Deal_Images/\" + b.image_url,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 31\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6\",\n        style: {\n          color: \"dimgray\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"item-emph\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 31\n        }\n      }, b.description)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3\",\n        style: {\n          color: \"#28a745\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 29\n        }\n      }, this.totalUnitsPurchased(b.id), \"/\", b.units, b.unit_measure), this.props.userIsMember == 0 && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 buy-ellips d-flex\",\n        onClick: ev => {\n          ev.stopPropagation();\n          this.setState({\n            menuIndex: index === this.state.menuIndex ? null : index\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-ellipsis-v\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 33\n        }\n      }), this.state.menuIndex === index && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"buy-ellips-menu\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        onClick: () => this.props.removeBuy(b.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 37\n        }\n      }, \"Remove\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mt-1\",\n        onClick: () => this.seeOrder(b),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 37\n        }\n      }, \"Orders\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: index === this.state.showBuyOptions ? \"buy-options bo-show\" : \"buy-options\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row justify-content-center align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col flex-cc my-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mr-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"buy-cost\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 33\n        }\n      }, \"Cost $\", (b.price / b.units * this.state.buyQuantity).toFixed(2))), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 33\n        }\n      }, \"Order quantity in \", b.unit_measure), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"ml-2\",\n        style: {\n          borderStyle: \"none\",\n          borderRadius: \"3px\",\n          width: \"50px\",\n          textAlign: \"center\"\n        },\n        value: this.state.buyQuantity,\n        type: \"number\",\n        onChange: ev => this.setState({\n          buyQuantity: ev.target.value\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm btn-success mx-2\",\n        onClick: () => this.setState({\n          buyQuantity: this.state.buyQuantity + 1\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-plus\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 35\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm btn-success mx-2\",\n        onClick: () => this.setState({\n          buyQuantity: this.state.buyQuantity - 1\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-minus\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 35\n        }\n      }))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row justify-content-center align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 33\n        }\n      }, \"Description: \", b.summary), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 33\n        }\n      }, \"Deal: \", b.units, \" \", b.unit_measure, \" for $\", b.price)))));\n    }))))));\n  }\n\n}\n\nexport default MyGroupBuys;","map":{"version":3,"sources":["C:/Users/xmark/Desktop/Code/Servers/Qumoc/food-commune/src/components/MyGroupBuys.jsx"],"names":["React","Component","MyGroupOrders","MyGroupBuys","state","menuIndex","viewOrder","showBuyOptions","buyQuantity","totalUnitsPurchased","dealId","units","props","data","Purchases","forEach","p","deal_id","purchase_units","seeOrder","order","setState","render","font","float","window","location","href","overflowY","listStyle","padding","fontSize","Buys","map","b","index","image_url","color","description","id","unit_measure","userIsMember","ev","stopPropagation","removeBuy","price","toFixed","borderStyle","borderRadius","width","textAlign","target","value","summary"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport MyGroupOrders from \"./MyGroupOrders\";\r\n\r\nclass MyGroupBuys extends Component {\r\n  state = {\r\n    menuIndex: null,\r\n    viewOrder: null,\r\n    showBuyOptions: null,\r\n    buyQuantity: 0\r\n  };\r\n\r\n  totalUnitsPurchased = dealId => {\r\n    let units = 0;\r\n    this.props.data.Purchases.forEach(p => {\r\n      if (p.deal_id === dealId) {\r\n        units += p.purchase_units;\r\n      }\r\n    });\r\n\r\n    return units;\r\n  };\r\n\r\n  seeOrder = order => {\r\n    this.setState({ viewOrder: order });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        {this.state.viewOrder && (\r\n          <MyGroupOrders\r\n            data={this.props.data}\r\n            Buy={this.state.viewOrder}\r\n            seeOrder={this.seeOrder}\r\n          />\r\n        )}\r\n        {!this.state.viewOrder && (\r\n          <div className=\"card bg-light\">\r\n            <div className=\"card-header button-group\">\r\n              <div>Our Buys - Place Your Order Now!</div>\r\n              <button\r\n                className=\"btn btn-sm btn-primary\"\r\n                style={{ font: \"small-caption\", float: \"right\" }}\r\n                onClick={() => {\r\n                  window.location.href = \"/foodcommune/catalog.html\";\r\n                }}\r\n              >\r\n                catalog\r\n              </button>\r\n            </div>\r\n            <div className=\"card-body p-0\" style={{ overflowY: \"auto\" }}>\r\n              <div className=\"container-fluid\" id=\"group-list\">\r\n                <ul\r\n                  id=\"group-buys-list\"\r\n                  style={{ listStyle: \"none\", padding: \"0\", fontSize: \"small\" }}\r\n                >\r\n                  {this.props.data &&\r\n                    this.props.data.Buys.map((b, index) => {\r\n                      return (\r\n                        <React.Fragment>\r\n                          <li\r\n                            key={index}\r\n                            className=\"row group-buy-item\"\r\n                            // onClick={() => this.props.itemView(b)}\r\n                            onClick={() =>\r\n                              this.setState({ showBuyOptions: index })\r\n                            }\r\n                          >\r\n                            {/* Item image */}\r\n                            <div className=\"col-2\">\r\n                              <img\r\n                                className=\"seller-img\"\r\n                                src={\"./Uploads/Deal_Images/\" + b.image_url}\r\n                                alt=\"\"\r\n                              />\r\n                            </div>\r\n                            {/* Item info */}\r\n                            <div className=\"col-6\" style={{ color: \"dimgray\" }}>\r\n                              <span className=\"item-emph\">{b.description}</span>\r\n                            </div>\r\n                            <div className=\"col-3\" style={{ color: \"#28a745\" }}>\r\n                              {this.totalUnitsPurchased(b.id)}/{b.units}\r\n                              {b.unit_measure}\r\n                            </div>\r\n                            {this.props.userIsMember == 0 && (\r\n                              <div\r\n                                className=\"col-1 buy-ellips d-flex\"\r\n                                onClick={ev => {\r\n                                  ev.stopPropagation();\r\n                                  this.setState({\r\n                                    menuIndex:\r\n                                      index === this.state.menuIndex\r\n                                        ? null\r\n                                        : index\r\n                                  });\r\n                                }}\r\n                              >\r\n                                <i className=\"fas fa-ellipsis-v\"></i>\r\n                                {this.state.menuIndex === index && (\r\n                                  <div className=\"buy-ellips-menu\">\r\n                                    <div\r\n                                      onClick={() => this.props.removeBuy(b.id)}\r\n                                    >\r\n                                      Remove\r\n                                    </div>\r\n                                    <div\r\n                                      className=\"mt-1\"\r\n                                      onClick={() => this.seeOrder(b)}\r\n                                    >\r\n                                      Orders\r\n                                    </div>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            )}\r\n                          </li>\r\n                          <div\r\n                            className={\r\n                              index === this.state.showBuyOptions\r\n                                ? \"buy-options bo-show\"\r\n                                : \"buy-options\"\r\n                            }\r\n                          >\r\n                            <div className=\"row justify-content-center align-items-center\">\r\n                              <div className=\"col flex-cc my-2\">\r\n                              <div className=\"mr-3\">\r\n                                <span className=\"buy-cost\">\r\n                                  Cost $\r\n                                  {(\r\n                                    (b.price / b.units) *\r\n                                    this.state.buyQuantity\r\n                                  ).toFixed(2)}\r\n                                </span>\r\n                              </div>\r\n                              <div>\r\n                                <span>Order quantity in {b.unit_measure}</span>\r\n                                <input\r\n                                  className=\"ml-2\"\r\n                                  style={{\r\n                                    borderStyle: \"none\",\r\n                                    borderRadius: \"3px\",\r\n                                    width: \"50px\",\r\n                                    textAlign: \"center\"\r\n                                  }}\r\n                                  value={this.state.buyQuantity}\r\n                                  type=\"number\"\r\n                                  onChange={ev =>\r\n                                    this.setState({\r\n                                      buyQuantity: ev.target.value\r\n                                    })\r\n                                  }\r\n                                ></input>\r\n                              </div>\r\n                              <div>\r\n                                <button\r\n                                  className=\"btn btn-sm btn-success mx-2\"\r\n                                  onClick={() =>\r\n                                    this.setState({\r\n                                      buyQuantity: this.state.buyQuantity + 1\r\n                                    })\r\n                                  }\r\n                                >\r\n                                  <i className=\"fas fa-plus\"></i>\r\n                                </button>\r\n                                <button\r\n                                  className=\"btn btn-sm btn-success mx-2\"\r\n                                  onClick={() =>\r\n                                    this.setState({\r\n                                      buyQuantity: this.state.buyQuantity - 1\r\n                                    })\r\n                                  }\r\n                                >\r\n                                  <i className=\"fas fa-minus\"></i>\r\n                                </button>\r\n                              </div>\r\n                              </div>\r\n                              \r\n                            </div>\r\n                            <div className=\"row justify-content-center align-items-center\">\r\n                              <div className=\"col\">\r\n                                <div>\r\n                                  Description: {b.summary}\r\n                                </div>\r\n                                <div>\r\n                                  Deal: {b.units} {b.unit_measure} for $\r\n                                  {b.price}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </React.Fragment>\r\n                      );\r\n                    })}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyGroupBuys;\r\n"]},"metadata":{},"sourceType":"module"}