(this["webpackJsonpfood-commune"]=this["webpackJsonpfood-commune"]||[]).push([[0],{28:function(e,t){e.exports="data:image/gif;base64,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"},32:function(e,t,a){e.exports=a(47)},37:function(e,t,a){},43:function(e,t){e.exports="data:image/gif;base64,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"},45:function(e,t,a){e.exports=a.p+"static/media/cover002.50c42020.jpg"},46:function(e,t,a){e.exports=a.p+"static/media/cover003.3372255d.jpg"},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(20),o=a.n(s),l=(a(37),a(7)),i=a(13),c=a(1),m=a(2),u=a(4),d=a(3),p=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"search-bar",className:"row"},r.a.createElement("div",{className:"col-12 py-3"},r.a.createElement("div",{className:"search-wrap"},r.a.createElement("input",{type:"text",id:"search-input",placeholder:this.props.placeHolderVal,onChange:this.props.onSearch}),r.a.createElement("i",{className:"fas fa-search"})))))}}]),a}(n.Component),f=a(6),g=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row justify-content-center py-3"},r.a.createElement("div",{className:"col-md-8 col-lg-8 mb-3 mb-md-0"},r.a.createElement("div",{className:"group-list-header spartan"},r.a.createElement("div",null,"Public Groups"),r.a.createElement("button",{style:{fontSize:"small"},className:"btn btn-sm btn-primary ml-2",onClick:this.props.addGroup},"create a new group")),r.a.createElement("div",{id:"list-wrapper",className:"px-3"},this.props.data&&this.props.data.Clans.map((function(t,a){if((t.name.toUpperCase()+t.area.toUpperCase()).includes(e.props.searchValue.toUpperCase()))return function(e,t,a){return r.a.createElement(f.b,{to:"/grouppage?ref="+e.id,style:{textDecoration:"none"}},r.a.createElement("div",{key:t,className:"row group-list-item",style:{background:t%2?"#346802":"#343a40"}},r.a.createElement("div",{className:"col-2"},!e.image_url&&r.a.createElement("i",{className:"fas fa-users group-img mr-1"}),e.image_url&&r.a.createElement("div",{className:"img-wrap-sm mr-1"},r.a.createElement("img",{src:"./Uploads/Group_Images/".concat(e.image_url),style:{width:"inherit"}}))),r.a.createElement("div",{className:"col-5"},r.a.createElement("div",{className:"row group-name",style:{fontSize:"1.3rem"}},e.name),r.a.createElement("div",{className:"row",style:{fontSize:".7rem"}},"Members ",e.member_count)),r.a.createElement("div",{className:"col-5"},e.area)))}(t,a)})))),r.a.createElement("div",{className:"col-md-4 col-lg-4"},r.a.createElement("div",{className:"row pb-3"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:" blank-div"},"Add Something Else HERE!!!"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:" blank-div"},"Add Something Else HERE!!!"))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 col-lg-12"},r.a.createElement("div",{className:"blank-div-foot"},"Something here too!!"))))}}]),a}(n.Component);var h=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={name:"",summary:"",area:"",image_url:null},e.onFormChange=function(t){var a={};a[t.target.id]=t.target.value,e.setState(a)},e.createGroup=function(){var t={};Object.keys(e.state).forEach((function(a){t[a]=e.state[a]}));var a=document.getElementById("image_url").files[0],n=new FormData;n.append("file",a),a&&(t.image_url="".concat(e.state.name,"@").concat(a.name),t.image_url=t.image_url.replace(" ",""),console.log(t),fetch("/imageUpload/group?groupname=".concat(e.state.name),{body:n,method:"POST"}).then((function(e){return e.json()})).then((function(e){console.log(e)}))),e.props.newGroup(t)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"item-view-container",onClick:function(t){"item-view-container"===t.target.id&&e.props.addGroup()},className:"",style:{overflowY:"auto",position:"absolute",height:"100%",width:"100%",zIndex:"1000",top:"0"}},r.a.createElement("div",{className:"modal-dialog",role:"document",style:{boxShadow:"0 0 16px 2px rgba(0,0,0,.3)",maxWidth:"425pm!important"}},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"header spartan d-flex align-items-center justify-content-center",style:{backgroundColor:"#346802",color:"white",padding:"12px"}},r.a.createElement("img",{width:"40px",src:"./media/logoAlpha.gif",alt:""})," ",r.a.createElement("div",null,"Create A Group"),r.a.createElement("i",{class:"fas fa-window-close modal-close",onClick:this.props.addGroup})),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Group name"),r.a.createElement("input",{style:{width:"60%"},onChange:function(t){return e.onFormChange(t)},value:this.state.description,type:"text",className:"form-control",id:"name"}),r.a.createElement("small",{style:{color:this.state.name.length>30?"#dc3545":"#6c757d"}},"maximum length 30 characters (",30-this.state.name.length," ","remaining)")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Summary - Tell them about your group"),r.a.createElement("textarea",{onChange:function(t){return e.onFormChange(t)},value:this.state.summary,type:"text",className:"form-control",id:"summary",style:{height:"145px"}}),r.a.createElement("small",{style:{color:this.state.summary.length>255?"#dc3545":"#6c757d"}},"maximum length 255 characters (",255-this.state.summary.length," remaining)")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Group Area - This can be a neigborhood, city, county, etc..."),r.a.createElement("input",{style:{width:"60%"},onChange:function(t){return e.onFormChange(t)},value:this.state.area,type:"text",className:"form-control",id:"area"}),r.a.createElement("small",{style:{color:this.state.area.length>30?"#dc3545":"#6c757d"}},"maximum length 30 characters")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Upload an image of your product"),r.a.createElement("input",{type:"file",className:"form-control-file",id:"image_url"}))),r.a.createElement("div",{className:"modal-footer",style:{justifyContent:"space-evenly"}},r.a.createElement("button",{className:"btn btn-sm btn-primary flex-cc",onClick:this.createGroup},r.a.createElement("img",{src:"/media/logoAlpha.gif",alt:"",style:{width:"15px",marginRight:"2px"}}),"Create")))))}}]),a}(n.Component),E=a(8),v=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={searchInput:"",showAddGroup:!1},e.onSearch=function(t){var a=t.target.value;e.setState({searchInput:a})},e.addGroup=function(t){e.setState({showAddGroup:!e.state.showAddGroup})},e.newGroup=function(t){t.user_id=e.props.user.id,b(e.props.token,t).then((function(a){console.log(a),e.setState({showAddGroup:!1}),e.setState((function(a){var n=Object(i.a)(a.data.Clans);return t.admin_id=e.props.user.id,n.push(t),{data:Object(l.a)({},a.data,{Clans:n})}}))})).catch((function(e){console.log(e)}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){new URLSearchParams(window.location.search).get("option")&&this.setState({showAddGroup:!0})}},{key:"componentWillMount",value:function(){var e,t,a=this;(e=this.props.token,t=this.props.user.id,console.log("fetching data......",e,t),new Promise((function(a,n){var r={userId:t},s={method:"POST",headers:new Headers({Authorization:"Bearer "+e,"Content-Type":"application/json"}),body:JSON.stringify({entity:r})};fetch("/accounts/groups",s).then((function(e){return e.json()})).then((function(e){e.success?n("Unable to retrieve data"):a(e)}))}))).then((function(e){console.log(e),a.setState({data:e})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row",style:{backgroundColor:"white"}},this.state.showAddGroup&&r.a.createElement(h,{newGroup:this.newGroup,addGroup:this.addGroup}),r.a.createElement("div",{id:"group-view",className:"col-12"},r.a.createElement(p,{onSearch:this.onSearch,placeHolderVal:"Search for group or area..."}),r.a.createElement(g,{searchValue:this.state.searchInput,data:this.state.data,addGroup:this.addGroup}))))}}]),a}(n.Component),y=Object(E.b)((function(e){return{provisional:e.provisional,user:e.user,token:e.token}}))(v);function b(e,t){return console.log("fetching data......"),new Promise((function(a,n){var r={method:"POST",headers:new Headers({Authorization:"Bearer "+e,"Content-Type":"application/json"}),body:JSON.stringify({entity:t})};fetch("/accounts/createGroup",r).then((function(e){return e.json()})).then((function(e){console.log(e),e.success?a(e):n("Unable to retrieve data")}))}))}var A=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"item-view-container",className:"view-container"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-close"},r.a.createElement("i",{className:"fas fa-window-close modal-close",style:{color:"red"},onClick:this.props.closeModal})),r.a.createElement("div",{className:"modal-header align-items-center",style:{backgroundColor:"#f3f3f3"}},r.a.createElement("div",{className:"col-12 spartan",style:{color:"dimgray"}},r.a.createElement("h5",{className:"modal-title",style:{color:"black"}},this.props.modal&&this.props.modal.description),r.a.createElement("small",{style:{fontSize:"small"}},"Posted:"," ",this.props.modal&&new Date(this.props.modal.created).toDateString()),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("span",{className:"img-wrap-xs mr-1"},r.a.createElement("img",{style:{width:"inherit"},src:"./Uploads/Profile_Images/"+this.props.modal.seller_image,alt:""})),this.props.modal&&this.props.modal.seller_name),r.a.createElement("div",null,this.props.modal.units," ",this.props.modal.unit_measure," for $",this.props.modal.price.toFixed(2)))),r.a.createElement("div",{className:"row modal-body"},r.a.createElement("div",{className:"col-6"},r.a.createElement("img",{src:"./Uploads/Deal_Images/"+this.props.modal.image_url,alt:"",style:{width:"inherit"}})),r.a.createElement("div",{className:"col-6 d-flex align-items-center"},this.props.modal&&this.props.modal.summary)),r.a.createElement("div",{className:"modal-footer",style:{justifyContent:"space-evenly"}},this.props.options))))}}]),a}(n.Component),w=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={edit:!1,summary:"_"},e.editHeader=function(){e.setState({edit:!e.state.edit})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row my-4 mx-0",style:{backgroundColor:"white",borderRadius:"5px",padding:"10px"}},r.a.createElement("div",{className:"col-9"},r.a.createElement("h4",null,"About Our Group"," ",this.props.userIsMember<1&&r.a.createElement("i",{onClick:this.editHeader,style:{fontSize:"medium",cursor:"pointer"},className:"fas fa-pencil-alt"}),this.state.edit&&r.a.createElement("button",{style:{fontSize:"small"},className:"btn btn-sm btn-success ml-2",onClick:function(){e.setState({edit:!1}),e.props.updateClan({summary:e.state.summary})}},"save")),r.a.createElement("div",{style:{fontSize:".8rem",fontStyle:"italic"}},!this.state.edit&&this.props.data&&this.props.data.Clan[0].summary,this.state.edit&&r.a.createElement("textarea",{onChange:function(t){e.setState({summary:t.target.value})},style:{width:"100%",borderRadius:"5px"},value:"_"===this.state.summary?this.props.data.Clan[0].summary:this.state.summary}))),r.a.createElement("div",{className:"col-3 d-flex justify-content-center align-items-center"},this.props.userIsMember>1&&!this.props.joinRequested&&r.a.createElement("button",{className:"btn btn-sm btn-primary",onClick:this.props.sendJoinRequest},"Send join request"),this.props.userIsMember>1&&this.props.joinRequested&&r.a.createElement("div",{className:"sent-request"},"Request Sent!")))}}]),a}(n.Component),N=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={edit:!1,area:"_",name:"_",imageFile:null,imgUpload:!1,imgPreview:null},e.stars=function(e){for(var t=[],a=0;a<5;a++)a<e?t.push(r.a.createElement("i",{key:a,className:"fas fa-star sY"})):t.push(r.a.createElement("i",{key:a,className:"fas fa-star sG"}));return t},e.saveProfile=function(){e.setState({edit:!1});var t={};if("_"!==e.state.area&&(t.area=e.state.area),"_"!==e.state.name&&(t.name=e.state.name),e.state.imageFile){var a=e.props.data.Clan[0].name.replace(/\s|"|'/g,""),n=e.state.imageFile,r=new FormData;r.append("file",n),t.image_url="".concat(a,"@").concat(n.name),t.image_url=t.image_url.replace(/\s|"|'/g,""),console.log(t),fetch("/imageUpload/group?groupname=".concat(a),{body:r,method:"POST"}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}0!==Object.keys(t).length&&e.props.updateClan(t)},e.groupImgUpload=function(){e.setState((function(e){return{imgUpload:!0}}),(function(){document.getElementById("image").click()}))},e.imgPreview=function(t){var a=document.getElementById("image").files[0];e.setState({imageFile:a});var n=new FileReader;n.onloadend=function(t){e.setState({imgPreview:t.target.result})},n.readAsDataURL(a)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card bg-light"},r.a.createElement("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",null,"Group Page"),!this.props.userIsMember&&r.a.createElement("div",null,this.state.edit?r.a.createElement("button",{id:"save",onClick:this.saveProfile,className:"btn btn-sm btn-success",style:{font:"small-caption"}},"save"):r.a.createElement("div",{id:"edit"},r.a.createElement("i",{style:{cursor:"pointer"},className:"fas fa-pencil-alt",onClick:function(){e.setState({edit:!0})}})))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("input",{id:"image",type:"file",style:{display:"none"},onChange:this.imgPreview}),r.a.createElement("div",{className:"col-6 text-center d-flex justify-content-center"},this.state.edit&&r.a.createElement("i",{className:"fas fa-camera-retro fa-3x",onClick:this.groupImgUpload}),!this.state.imgUpload&&!this.props.data.Clan[0].image_url&&r.a.createElement("i",{className:"fas fa-users fa-7x"}),!this.state.imgUpload&&this.props.data.Clan[0].image_url&&r.a.createElement("div",{className:"img-wrap-lg"},r.a.createElement("img",{src:"./Uploads/Group_Images/".concat(this.props.data.Clan[0].image_url),style:{width:"inherit"}})),this.state.imgUpload&&r.a.createElement("div",{className:"img-wrap-lg"},r.a.createElement("img",{id:"preview",src:this.state.imgPreview,style:{width:"inherit"}}))),r.a.createElement("div",{className:"col-6 align-self-center"},r.a.createElement("div",{className:"row justify-content-center text-center"},this.state.edit?r.a.createElement("input",{id:"name",placeholder:this.props.data.Clan[0].name,onChange:function(t){e.setState({name:t.target.value})}}):this.props.data.Clan[0].name),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col text-center"},this.stars(this.props.data.Clan[0].score))))),r.a.createElement("div",{id:"user-details",className:"row mt-4"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"row justify-content-center"},"Area"),r.a.createElement("div",{className:"row justify-content-center text-muted"},this.state.edit?r.a.createElement("input",{id:"area",placeholder:"general location",onChange:function(t){return e.setState({area:t.target.value})}}):this.props.data.Clan[0].area))))))}}]),a}(n.Component),C=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e.displayPurchases=function(){var t=e.props.Buy,a=[];return e.props.data.Purchases.forEach((function(n,r){if(n.deal_id===t.id){var s={};s.purchase_units=n.purchase_units,s.purchase_total=n.purchase_total;var o=e.props.data.Members.find((function(e){return e.id===n.user_id}));s.user=o,a.push(s)}})),console.log(a),a},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card bg-light"},r.a.createElement("div",{className:"card-header d-flex align-items-center"},r.a.createElement("i",{className:"fas fa-chevron-left mr-3",onClick:function(){return e.props.seeOrder(null)}}),r.a.createElement("img",{className:"seller-img",src:"./Uploads/Deal_Images/"+this.props.Buy.image_url,alt:""}),r.a.createElement("div",null,this.props.Buy.description)),r.a.createElement("div",{className:"card-body p-0",style:{overflowY:"auto"}},r.a.createElement("div",{className:"container-fluid",id:"group-list"},r.a.createElement("ul",{id:"group-buys-list",style:{listStyle:"none",padding:"0",fontSize:"small"}},this.displayPurchases().map((function(e,t){return r.a.createElement("li",{key:t,className:"row group-buy-item"},r.a.createElement("div",{className:"col-6"},r.a.createElement("img",{className:"seller-img",src:"./Uploads/Profile_Images/"+e.user.image_url,alt:""}),r.a.createElement("span",{style:{color:"dimgray"}},e.user.first_name+" "+e.user.last_name)),r.a.createElement("div",{className:"col-6",style:{color:"#28a745"}},"Units: ",e.purchase_units))}))))))}}]),a}(n.Component),S=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={menuIndex:null,removeCheck:null,viewOrder:null,showBuyOptions:null,buyQuantity:0,spinner:!1},e.totalUnitsPurchased=function(t){var a=0;return e.props.data.Purchases.forEach((function(e){e.deal_id===t&&(a+=e.purchase_units)})),a},e.seeOrder=function(t){e.setState({viewOrder:t})},e.showBuyOptions=function(t,a){var n=e.props.data.Purchases.find((function(t){return t.deal_id===a.id&&t.user_id===e.props.userId}));e.setState({showBuyOptions:e.state.showBuyOptions===t?null:t,buyQuantity:n?n.purchase_units:0})},e.userHasOrder=function(t,a){var n=e.props.data.Purchases.find((function(e){return e.deal_id===a&&e.user_id===t}));return n||!1},e.closeOptions=function(){setTimeout((function(){e.setState({showBuyOptions:null,menuIndex:null,spinner:!1,removeCheck:null})}),1500)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.state.viewOrder&&r.a.createElement(C,{data:this.props.data,Buy:this.state.viewOrder,seeOrder:this.seeOrder}),!this.state.viewOrder&&r.a.createElement("div",{className:"card bg-light"},r.a.createElement("div",{className:"card-header button-group"},r.a.createElement("div",null,"Our Buys - Place Your Order Now!"),r.a.createElement(f.b,{to:"/catalog",className:"btn btn-sm btn-primary",style:{font:"small-caption",float:"right",height:"fit-content"}},"catalog")),r.a.createElement("div",{className:"card-body p-0",style:{overflowY:"auto"}},r.a.createElement("div",{className:"container-fluid",id:"group-list"},r.a.createElement("ul",{id:"group-buys-list",style:{listStyle:"none",padding:"0",fontSize:"small"}},this.props.data&&this.props.data.Buys.map((function(t,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{key:a,className:"row group-buy-item",style:{boxShadow:e.state.showBuyOptions===a?"0px 4px 6px 1px rgba(0, 0, 0, 0.2)":"none"},onClick:function(){return e.showBuyOptions(a,t)}},r.a.createElement("div",{className:"col-2"},r.a.createElement("img",{className:"seller-img",src:"./Uploads/Deal_Images/"+t.image_url,alt:""})),r.a.createElement("div",{className:"col-10",style:{color:"dimgray"}},r.a.createElement("span",{className:"item-emph"},t.description)),0==e.props.userIsMember&&r.a.createElement("div",{style:{position:"absolute",right:"5px"},className:"buy-ellips d-flex align-items-center"},r.a.createElement("div",{className:"buy-ellips-menu",style:e.state.menuIndex===a?{width:"295px"}:{width:"0"}},e.state.removeCheck!==a&&r.a.createElement("button",{className:"btn btn-sm btn-danger m-2",style:{fontSize:".7rem"},onClick:function(t){t.stopPropagation(),e.setState({removeCheck:a})}},"Remove"),e.state.removeCheck===a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{fontSize:".7rem"}},"Are you sure?"),r.a.createElement("button",{className:"btn btn-sm btn-danger m-2",style:{fontSize:".7rem"},onClick:function(a){a.stopPropagation(),e.props.removeBuy(t.id)}},"Remove"),r.a.createElement("button",{className:"btn btn-sm btn-secondary m-2",style:{fontSize:".7rem"},onClick:function(t){t.stopPropagation(),e.setState({removeCheck:null})}},"Keep Offer")),e.state.removeCheck!==a&&r.a.createElement("button",{className:"btn btn-sm btn-primary m-2",style:{fontSize:".7rem",whiteSpace:"nowrap"},onClick:function(a){a.stopPropagation(),e.seeOrder(t)}},"View Orders")),r.a.createElement("i",{style:{width:"20px",textAlign:"center",marginLeft:"5px",color:e.state.menuIndex===a?"red":"gray"},className:e.state.menuIndex===a?"far fa-times-circle":"fas fa-ellipsis-v",onClick:function(t){t.stopPropagation(),console.log(a,e.state.menuIndex),e.setState({menuIndex:a===e.state.menuIndex?null:a,removeCheck:null})}}))),r.a.createElement("div",{className:a===e.state.showBuyOptions?"buy-options bo-show":"buy-options"},r.a.createElement("div",{className:"row justify-content-center align-items-center"},r.a.createElement("div",{className:"col-8",style:{fontSize:"x-small",fontWeight:"700"}},r.a.createElement("div",null,t.summary),r.a.createElement("div",null,"Deal: ",t.units," ",t.unit_measure," for $",t.price)),r.a.createElement("div",{className:"col-4",style:{fontSize:"x-small",fontWeight:"700"}},r.a.createElement("div",{className:"text-right"},"Group orders ",e.totalUnitsPurchased(t.id),"/",t.units,t.unit_measure))),r.a.createElement("div",{className:"row justify-content-center align-items-center my-2"},r.a.createElement("div",{className:"col-4",style:{justifyContent:"space-between"}},r.a.createElement("div",{className:"text-center"},r.a.createElement("span",{className:"buy-cost",style:{fontSize:".7rem"}},"Total $",(t.price/t.units*e.state.buyQuantity).toFixed(2)))),r.a.createElement("div",{className:"col-4 text-center"},r.a.createElement("span",{style:{fontSize:".7rem"}},"Order in ",t.unit_measure),r.a.createElement("input",{className:"ml-2",style:{borderStyle:"none",borderRadius:"3px",width:"50px",textAlign:"center"},value:e.state.buyQuantity,type:"number",onChange:function(t){return e.setState({buyQuantity:t.target.value})}})),r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{style:{fontSize:"x-small"},className:"btn btn-sm btn-primary mr-1",onClick:function(){return e.setState({buyQuantity:e.state.buyQuantity+1})}},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement("button",{style:{fontSize:"x-small"},className:"btn btn-sm btn-primary",onClick:function(){return e.setState({buyQuantity:e.state.buyQuantity>0?e.state.buyQuantity-1:0})}},r.a.createElement("i",{className:"fas fa-minus"}))))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col text-center"},!1===e.userHasOrder(e.props.userId,t.id)?r.a.createElement("button",{style:{fontSize:".7rem"},className:"btn btn-sm btn-success",onClick:function(){e.props.placeOrder(t,e.state.buyQuantity),e.setState({spinner:!0}),e.closeOptions()}},"Commit",e.state.spinner&&r.a.createElement("div",{class:"spinner-border text-info",role:"status",style:{position:"absolute",top:"50%",left:"45%"}},r.a.createElement("span",{class:"sr-only"},"Loading..."))):r.a.createElement("button",{style:{fontSize:".7rem"},className:"btn btn-sm btn-success",onClick:function(){e.props.updateOrder(t,e.state.buyQuantity,e.userHasOrder(e.props.userId,t.id)),e.setState({spinner:!0}),e.closeOptions()}},"Update",e.state.spinner&&r.a.createElement("div",{class:"spinner-border text-info",role:"status",style:{position:"absolute",top:"50%",left:"45%"}},r.a.createElement("span",{class:"sr-only"},"Loading...")))))))})))))))}}]),a}(n.Component),I=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={showMemberOptions:null},e.showMemberOptions=function(t){e.setState({showMemberOptions:e.state.showMemberOptions===t?null:t})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card bg-light"},r.a.createElement("div",{className:"card-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},r.a.createElement("div",{className:"mr-4"},"Members ",this.props.data&&this.props.data.Members.length),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.data&&!this.props.userIsMember&&this.props.data.JoinRequests.length>0&&r.a.createElement("div",{className:"alert-tag"},"New Request"))),r.a.createElement("div",{className:"card-body p-0",style:{overflowY:"auto"}},r.a.createElement("div",{className:"container-fluid",id:"group-list"},r.a.createElement("ul",{id:"group-buys-list",style:{listStyle:"none",padding:"0",fontSize:"small"}},this.props.data&&!this.props.userIsMember&&this.props.data.JoinRequests.map((function(t,a){return r.a.createElement("li",{key:a,className:"row group-buy-item member-request",style:{backgroundColor:"#e9ecef",color:"dimgray"}},r.a.createElement("div",{className:"col-6"},t.first_name),r.a.createElement("div",{className:"col-6",style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement("button",{className:"btn btn-sm",style:{fontSize:"large",color:"#28a745"}},r.a.createElement("i",{className:"fas fa-check-square approve-deny",onClick:function(){return e.props.memberRequest(t.id,1)}})),r.a.createElement("button",{className:"btn btn-sm",style:{fontSize:"large",color:"#dc3545"}},r.a.createElement("i",{className:"fas fa-times-circle approve-deny",onClick:function(){return e.props.memberRequest(t.id,3)}}))))})),this.props.data&&this.props.data.Members.map((function(t,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement("li",{onClick:function(){return e.showMemberOptions(a)},className:"row group-buy-item",style:{backgroundColor:k(a)}},r.a.createElement("div",{className:"col-6"},t.first_name),r.a.createElement("div",{className:"col-6",style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement("div",null,t.id===e.props.data.Clan[0].admin_id&&r.a.createElement("i",{className:"fas fa-shield-alt mr-1"}),1===t.user_is_admin&&r.a.createElement("i",{className:"fas fa-shield-alt mr-3"}),0===e.props.userIsMember&&r.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){return e.showMemberOptions(a)}})))),0===e.props.userIsMember&&t.id!==e.props.data.Clan[0].admin_id&&r.a.createElement("div",{className:a===e.state.showMemberOptions?"row member-actions ma-show":"row member-actions",style:{backgroundColor:k(a),fontSize:"small"}},!t.user_is_admin&&r.a.createElement("button",{className:"btn btn-sm btn-dark",onClick:function(){e.props.makeRevokeAdmin(t.id,1),e.showMemberOptions(a)}},"Make Admin"),1===t.user_is_admin&&r.a.createElement("button",{className:"btn btn-sm btn-dark",onClick:function(){e.props.makeRevokeAdmin(t.id,0),e.showMemberOptions(a)}},"Revoke Admin"),r.a.createElement("button",{className:"btn btn-sm btn-dark",onClick:function(){return e.props.removeMember(t.id)}},"Remove Member")))}))))))}}]),a}(n.Component);function k(e){return e%4===0?"#17a2b8":e%3===0?"#ffc107":e%2===0?"#28a745":"#dc3545"}var O=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={edit:!1,newMessage:""},e.newNews=function(){e.setState({edit:!0})},e.cancelAddNews=function(){e.setState({newMessage:"",edit:!1})},e.addNews=function(){e.state.newMessage.length>0&&(e.props.addNewNews(e.state.newMessage),e.setState({newMessage:"",edit:!1}))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card bg-light"},r.a.createElement("div",{className:"card-header button-group"},r.a.createElement("div",null,"News"),!this.state.edit&&r.a.createElement("button",{className:"btn btn-sm btn-primary",style:{font:"small-caption",float:"right"},onClick:this.newNews},r.a.createElement("i",{className:"fas fa-plus"})),this.state.edit&&r.a.createElement("button",{className:"btn btn-sm btn-success",style:{font:"small-caption",float:"right"},onClick:this.addNews},"save"),this.state.edit&&r.a.createElement("button",{className:"btn btn-sm btn-danger",style:{font:"small-caption",float:"right"},onClick:this.cancelAddNews},"cancel")),r.a.createElement("div",{className:"card-body p-0",style:{overflowY:"auto",maxHeight:"315px"}},r.a.createElement("div",{className:"container-fluid pt-2",id:"news-list"},r.a.createElement("ul",{id:"group-news-list",style:{listStyle:"none",padding:"0",fontSize:"small"}},this.state.edit&&r.a.createElement("textarea",{style:{width:"100%",height:"90px"},name:"news",className:"group-news-item",onChange:function(t){return e.setState({newMessage:t.target.value})}}),this.props.data&&this.props.data.News.map((function(e){return r.a.createElement("li",{className:"mb-4"},r.a.createElement("div",{className:"group-news-item"},e.message),r.a.createElement("div",{className:"mt-1",style:{float:"right",fontSize:"x-small"}},new Date(e.created).toLocaleString()))}))))))}}]),a}(n.Component),x=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={modal:null,modalUpdate:null,joinRequested:!1,userIsMember:3},e.itemView=function(t){var a=e.state.data.Purchases.find((function(a){return a.user_id===e.props.user.id&&a.deal_id===t.id}));console.log(a),a?e.setState({modalUpdate:a,modal:t}):e.setState({modal:t})},e.closeModal=function(){e.setState({modal:null})},e.sendJoinRequest=function(){B(e.props.token,e.props.user,e.state.data.Clan[0].id).then((function(t){console.log(t),e.setState({joinRequested:!0})})).catch((function(e){console.log(e)}))},e.memberRequest=function(t,a){Q(e.props.token,t,e.state.data.Clan[0].id,a).then((function(n){console.log(n),1===a&&e.setState((function(e){var a=Object(l.a)({},e.data),n=a.JoinRequests.findIndex((function(e){return e.id===t})),r=a.JoinRequests.splice(n,1);return r[0].user_is_admin=0,a.Members.push(r[0]),{data:a}}))})).catch((function(e){console.log(e)}))},e.makeRevokeAdmin=function(t,a){P(e.props.token,t,e.state.data.Clan[0].id,a).then((function(n){console.log(n),e.setState((function(e){var n=Object(l.a)({},e.data),r=n.Members.findIndex((function(e){return e.id===t}));return n.Members[r].user_is_admin=a,{data:n}}))})).catch((function(e){console.log(e)}))},e.removeMember=function(t){D(e.props.token,t,e.state.data.Clan[0].id).then((function(a){console.log(a),e.setState((function(e){var a=Object(l.a)({},e.data),n=a.Members.findIndex((function(e){return e.id===t}));return a.Members.splice(n,1),{data:a}}))})).catch((function(e){console.log(e)}))},e.updateClan=function(t){M(e.props.token,e.state.data.Clan[0].id,t).then((function(a){console.log(a),e.setState((function(e){var a=Object(l.a)({},e.data);return Object.keys(t).forEach((function(e){a.Clan[0][e]=t[e]})),{data:a}}))})).catch((function(e){console.log(e)}))},e.removeBuy=function(t){U(e.props.token,e.state.data.Clan[0].id,t).then((function(a){console.log(a),console.log("BUY ID = ",t),e.setState((function(e){var a=Object(l.a)({},e.data),n=a.Buys.findIndex((function(e){return e.id===t}));return console.log(n),a.Buys.splice(n,1),{data:a}}))})).catch((function(e){console.log(e)}))},e.addNewNews=function(t){F(e.props.token,e.state.data.Clan[0].id,t).then((function(a){console.log(a),e.setState((function(e){var a=Object(l.a)({},e.data);return a.News.unshift({message:t}),{data:a}}))})).catch((function(e){console.log(e)}))},e.placeOrder=function(t,a){var n={userId:e.props.user.id,clanId:e.state.data.Clan[0].id,dealId:t.id,sellerId:t.user_id,purchaseUnits:a,unitPrice:t.price,units:t.units},r={method:"POST",headers:new Headers({Authorization:"Bearer "+e.props.token,"Content-Type":"application/json"}),body:JSON.stringify({entity:n})};fetch("/accounts/groupPurchase",r).then((function(e){return e.json()})).then((function(e){console.log(e),e.success?console.log(e):console.log("Unable to retrieve data")}))},e.updateOrder=function(t,a,n){var r={purchaseUnits:a,unitPrice:t.price,units:t.units,purchase_id:n.id},s={method:"POST",headers:new Headers({Authorization:"Bearer "+e.props.token,"Content-Type":"application/json"}),body:JSON.stringify({entity:r})};fetch("/accounts/groupPurchaseUpdate",s).then((function(e){return e.json()})).then((function(t){console.log(t),t.success?(console.log(t),e.setState((function(e){var t=Object(l.a)({},e.data),r=t.Purchases.find((function(e){return e.id===n.id}));return r&&(r.purchase_units=a),{data:t}}))):console.log("Unable to retrieve data")}))},e}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e=this,t=new URLSearchParams(window.location.search).get("ref");(function(e,t,a){return console.log("fetching data......",e,t),new Promise((function(n,r){var s={userId:t,clanId:a},o={method:"POST",headers:new Headers({Authorization:"Bearer "+e,"Content-Type":"application/json"}),body:JSON.stringify({entity:s})};fetch("/accounts/clanView",o).then((function(e){return e.json()})).then((function(e){console.log(e),e.success?r("Unable to retrieve data"):n(e)}))}))})(this.props.token,this.props.user.id,t).then((function(t){console.log(t),e.setState({data:t});var a=t.Members.find((function(t){return t.id===e.props.user.id}));a?e.setState({userIsMember:1===a.user_is_admin?0:1}):e.setState({userIsMember:2});t.JoinRequests.find((function(t){t.id===e.props.user.id&&e.setState({joinRequested:!0})}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"mygroup-page",className:"row row-border justify-content-center mb-4"},r.a.createElement("div",{id:"main-content",className:"col spartan"},this.state.modal&&r.a.createElement(A,{modal:this.state.modal,closeModal:this.closeModal}),r.a.createElement(w,{sendJoinRequest:this.sendJoinRequest,joinRequested:this.state.joinRequested,data:this.state.data,userIsMember:this.state.userIsMember,updateClan:this.updateClan}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{id:"mygroup-profile",className:"col-sm-12 col-lg-6 d-flex"},this.state.data&&r.a.createElement(N,{data:this.state.data,userIsMember:this.state.userIsMember,updateClan:this.updateClan})),r.a.createElement("div",{id:"mygroup-buys",className:"col-sm-12 col-lg-6 d-flex"},r.a.createElement(S,{itemView:this.itemView,data:this.state.data,removeBuy:this.removeBuy,userIsMember:this.state.userIsMember,placeOrder:this.placeOrder,updateOrder:this.updateOrder,userId:this.props.user.id}))),r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{id:"members-card",className:"col-sm-12 col-lg-6 d-flex"},r.a.createElement(I,{data:this.state.data,memberRequest:this.memberRequest,userIsMember:this.state.userIsMember,makeRevokeAdmin:this.makeRevokeAdmin,removeMember:this.removeMember})),r.a.createElement("div",{id:"news-card",className:"col-sm-12 col-lg-6 d-flex"},r.a.createElement(O,{addNewNews:this.addNewNews,data:this.state.data}))))))}}]),a}(n.Component),j=Object(E.b)((function(e){return{provisional:e.provisional,user:e.user,token:e.token}}))(x);function B(e,t,a){return console.log("fetching data......"),new Promise((function(n,r){var s={user:t,clanId:a},o={method:"POST",headers:new Headers({Authorization:"Bearer "+e,"Content-Type":"application/json"}),body:JSON.stringify({entity:s})};fetch("/accounts/joinClanRequest",o).then((function(e){return e.json()})).then((function(e){console.log(e),e.success?n(e):r("Unable to retrieve data")}))}))}function Q(e,t,a,n){return new Promise((function(r,s){var o={user:t,clanId:a,memberState:n},l={method:"POST",headers:new Headers({Authorization:"Bearer "+e,"Content-Type":"application/json"}),body:JSON.stringify({entity:o})};fetch("/accounts/addUserToGroup",l).then((function(e){return e.json()})).then((function(e){console.log(e),e.success?r(e):s("Unable to retrieve data")}))}))}function P(e,t,a,n){return new Promise((function(r,s){var o={user:t,clanId:a,adminValue:n},l={method:"POST",headers:new Headers({Authorization:"Bearer "+e,"Content-Type":"application/json"}),body:JSON.stringify({entity:o})};fetch("/accounts/adminToggle",l).then((function(e){return e.json()})).then((function(e){console.log(e),e.success?r(e):s("Unable to retrieve data")}))}))}function D(e,t,a){return new Promise((function(n,r){var s={user:t,clanId:a},o={method:"POST",headers:new Headers({Authorization:"Bearer "+e,"Content-Type":"application/json"}),body:JSON.stringify({entity:s})};fetch("/accounts/deleteMember",o).then((function(e){return e.json()})).then((function(e){console.log(e),e.success?n(e):r("Unable to retrieve data")}))}))}function M(e,t,a){return new Promise((function(n,r){var s={values:a,clanId:t},o={method:"POST",headers:new Headers({Authorization:"Bearer "+e,"Content-Type":"application/json"}),body:JSON.stringify({entity:s})};fetch("/accounts/updateClanFields",o).then((function(e){return e.json()})).then((function(e){console.log(e),e.success?n(e):r("Unable to retrieve data")}))}))}function U(e,t,a){return new Promise((function(n,r){var s={clanId:t,dealId:a},o={method:"POST",headers:new Headers({Authorization:"Bearer "+e,"Content-Type":"application/json"}),body:JSON.stringify({entity:s})};fetch("/accounts/deleteGroupBuy",o).then((function(e){return e.json()})).then((function(e){console.log(e),e.success?n(e):r("Unable to retrieve data")}))}))}function F(e,t,a){return new Promise((function(n,r){var s={clanId:t,message:a},o={method:"POST",headers:new Headers({Authorization:"Bearer "+e,"Content-Type":"application/json"}),body:JSON.stringify({entity:s})};fetch("/accounts/insertNews",o).then((function(e){return e.json()})).then((function(e){console.log(e),e.success?n(e):r("Unable to retrieve data")}))}))}function G(e,t,a,n){var s=function(t){var r={addType:"mylist"===t?"mylist":"clan",userId:a,clanId:"mylist"===t?null:t,dealId:n.id,sellerId:n.user_id},s={method:"POST",headers:new Headers({Authorization:"Bearer "+e,"Content-Type":"application/json"}),body:JSON.stringify({entity:r})};fetch("/accounts/addDealTo",s).then((function(e){return e.json()})).then((function(e){console.log(e),e.success?console.log(e):console.log("Unable to retrieve data")}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col"},r.a.createElement("div",{class:"dropdown dropleft"},r.a.createElement("button",{class:"btn btn-sm btn-light dropdown-toggle",style:{backgroundColor:"#5a9026",fontSize:"inherit",color:"white",fontWeight:"600"},type:"fc",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("div",{className:"btn-fc"}),"Add To..."),r.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenuButton",style:{backgroundColor:"#346802",color:"white",boxShadow:"0px 0px 11px 3px rgba(0, 0, 0, 0.2)",fontSize:"small"}},r.a.createElement("div",{className:"p-2",style:{cursor:"pointer"},onClick:function(){return s("mylist")}},"Wish List"),t.map((function(e){return r.a.createElement("div",{className:"p-2",style:{cursor:"pointer"},"list-value":e.id,onClick:function(e){s(e.target.getAttribute("list-value"))}},e.name)}))))))}var T=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row justify-content-center py-3"},r.a.createElement("div",{className:"col-md-12 col-lg-10"},r.a.createElement("div",{className:"catalog-center"},r.a.createElement("ul",{id:"catalog-wrapper",className:"m-2 p-2",style:{listStyle:"none"}},this.props.userClans&&this.props.data.Deals.map((function(t,a){if(t.description.toUpperCase().includes(e.props.searchValue.toUpperCase()))return function(e,t,a,n){return r.a.createElement("li",{key:t,className:"item-list-wrap my-2",style:{backgroundColor:"white"}},r.a.createElement("div",{className:"row",style:{textDecoration:"none",color:"dimgray",position:"relative"}},r.a.createElement("div",{style:{position:"absolute",right:"15px",color:"lightgrey",display:"none",fontSize:"1rem"},className:"fas fa-pencil-alt fa-1x"}),r.a.createElement("div",{className:"col-6 col-sm-4 col-md-3 mb-2 mb-md-0"},e.image_url&&r.a.createElement("img",{src:"/Uploads/Deal_Images/"+e.image_url,alt:"",style:{maxHeight:"100px",borderRadius:"5px"}}),!e.image_url&&r.a.createElement("img",{src:"/media/no_image.png",alt:"",style:{maxHeight:"100px"}})),r.a.createElement("div",{className:"col-6 col-sm-3 col-md-3"},r.a.createElement("div",{className:"item-description"},e.description),r.a.createElement("div",{className:"item-info my-2"},e.units," ",e.unit_measure," for $",e.price),e.seller_name&&r.a.createElement("div",{className:"item-seller mt-3"},r.a.createElement("img",{className:"seller-img",src:"/Uploads/Profile_Images/"+e.seller_image,alt:""}),r.a.createElement("div",{className:"seller-name"},r.a.createElement("div",null,e.seller_name),r.a.createElement("div",{className:"stars justify-content-center"},function(e){for(var t=[],a=0;a<5;a++)a<e?t.push(r.a.createElement("i",{key:a,className:"fas fa-star sY"})):t.push(r.a.createElement("i",{key:a,className:"fas fa-star sG"}));return t}(e.score))))),r.a.createElement("div",{className:"col-12 col-sm-5 col-md-6",style:{display:"grid"}},e.summary,r.a.createElement("div",{className:"row",style:{alignSelf:"flex-end",justifySelf:"flex-end"}},G(n.props.token,a,n.props.user.id,e)))))}(t,a,e.props.userClans,e)})))))))}}]),a}(n.Component),J=Object(E.b)((function(e){return{user:e.user,token:e.token}}))(T);var q=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={searchInput:"",modal:null},e.onSearch=function(t){var a=t.target.value;e.setState({searchInput:a})},e.itemView=function(t){console.log(t),e.setState({modal:e.state.data.Deals[t]})},e.closeModal=function(){e.setState({modal:null})},e}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e,t,a=this;new Promise((function(e,t){fetch("https://foodcommune.com/site/catalog",{method:"GET"}).then((function(e){return e.json()})).then((function(a){a?(console.log(a),e(a)):(console.log("Unable to retrieve data"),t("Did not load"))}))})).then((function(e){console.log("DATAAA",e),a.setState({data:e})})).catch((function(e){console.log(e)}));(e=this.props.token,t=this.props.user.id,new Promise((function(a,n){var r={userId:t},s={method:"POST",headers:new Headers({Authorization:"Bearer "+e,"Content-Type":"application/json"}),body:JSON.stringify({entity:r})};fetch("/accounts/userClans",s).then((function(e){return e.json()})).then((function(e){console.log(e),e?a(e):n("Unable to retrieve data")}))}))).then((function(e){console.log(e),a.setState({userClans:e.MyClans})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{id:"catalog",className:"col"},r.a.createElement(p,{onSearch:this.onSearch,placeHolderVal:Y()}),this.state.data&&r.a.createElement(J,{searchValue:this.state.searchInput,itemView:this.itemView,data:this.state.data,userClans:this.state.userClans}))))}}]),a}(n.Component),R=Object(E.b)((function(e){return{user:e.user,token:e.token}}))(q);function Y(){var e=(new Date).getTime();return e%2===0?"What are you looking for?":e%3===0?"Carrots, Apples, Tomatoes...":"Strawberries, Onions, Broccoli.."}var z=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(m.a)(n,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-white",style:{width:"100%"}},r.a.createElement(f.b,{to:"/",className:"navbar-brand d-flex"},r.a.createElement("img",{src:a(43),alt:""})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},r.a.createElement("div",{className:"navbar-nav",style:{minWidth:"50%"}},r.a.createElement(f.b,{to:"/",className:"nav-item nav-link"},"About"),r.a.createElement(f.b,{to:"/dashboard",className:"nav-item nav-link"},"How it Works"),r.a.createElement(f.b,{to:"/catalog",className:"nav-item nav-link"},"Catalog"),r.a.createElement(f.b,{to:"/groups",className:"nav-item nav-link"},"Groups"),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Bulk Food Source"),r.a.createElement("div",{style:{backgroundColor:"#f8f9fa"},className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},r.a.createElement("a",{className:"dropdown-item",href:"#"},"Fresh Produce"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Meats & Poultry"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Grains, Beans & Flour"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Cheese & Dairy"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Oils & Extracts"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Specialty Foods"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Spices & Stuff"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Wine, Beer & Spirits")))),r.a.createElement("div",{className:"navbar-nav wait-render",style:{width:"100%",display:"none",justifyContent:"flex-end",alignItems:"center"}},r.a.createElement("div",{id:"open-account",className:"nav-item nav-link user-false"},"Create Account"),r.a.createElement("div",{id:"open-signin",className:"nav-item nav-link user-false"},"Sign In"),r.a.createElement("div",{id:"signout-go",className:"nav-item nav-link user-true"},"Sign Out"),r.a.createElement("div",{className:"user-true"},r.a.createElement("i",{className:"fas fa-user-circle fa-2x mr-1 fc-green"}),r.a.createElement("span",{id:"user",style:{verticalAlign:"super",color:"dimgray"}})))))}}]),n}(n.Component),W=a(11),K=a.n(W),V=a(15),L={user:null,provisional:null,token:null,sessionExists:null,tokenExpiresAt:null,expiringSession:!1,expireRedirect:null};var H={SET_SESSION:function(e,t){return t.provisional?Object(l.a)({},e,{provisional:t.provisional}):Object(l.a)({},e,{user:t.user,token:t.token,tokenExpiresAt:t.tokenExpiresAt,expiringSession:!1})},EXPIRING_SESSION:function(e,t){return Object(l.a)({},e,{expiringSession:t})},EXPIRE_REDIRECT:function(e,t){return e.expireRedirect&&clearTimeout(e.expireRedirect),Object(l.a)({},e,{expireRedirect:t})},CANCEL_SESSION:function(e,t){return e.expireRedirect&&clearTimeout(e.expireRedirect),Object(l.a)({},e,{user:null,token:null,sessionExists:null,expiringSession:!1})},DIALPAD_SHOW:function(e,t){var a=!e.UI.dialPadShow,n="toggle"===t?a:t,r=Object(l.a)({},e.UI,{dialPadShow:n});return Object(l.a)({},e,{UI:r})}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;return Object.keys(H).includes(t.type)?H[t.type](e,t.payload):e},X=a(19),_=a(31),$=a.n(_),ee=Object(X.c)(Z,Object(X.a)($.a));function te(e){return{type:"SET_SESSION",payload:e}}console.log("running auth client..");var ae=function(){var e=Object(V.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/site/usersession",{method:"POST",mode:"same-origin",credentials:"same-origin",headers:{"Content-Type":"application/json"}}).then((function(e){if(e)return e.json()})).then((function(e){e.success&&(oe(e.tokenExpiresAt),ee.dispatch(te({token:e.token,user:e.user,tokenExpiresAt:e.tokenExpiresAt})))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(V.a)(K.a.mark((function e(t){var a,n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("GETTOKEN"),t?(a={method:"POST",mode:"same-origin",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({entity:{login:t.user.profile.login,request:"test"}})},fetch("/secure",a).then((function(e){if(e)return e.json()})).then((function(e){console.log(e),e.success&&(oe(e.tokenExpiresAt),ee.dispatch(te({token:e.token,user:e.user})))})).catch((function(e){console.log(e)}))):(n={method:"POST",mode:"same-origin",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({})},fetch("/secure/provisional",n).then((function(e){return e.json()})).then((function(e){ee.dispatch(te({provisional:e.token}))})).catch((function(e){console.log(e),ee.dispatch(te({provisional:"test token"}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(V.a)(K.a.mark((function e(t,a){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),se=function(){var e;ee.dispatch({type:"CANCEL_SESSION",payload:e})};function oe(e){var t=e-(new Date).getTime()/1e3,a=(setTimeout((function(){ee.dispatch({type:"EXPIRING_SESSION",payload:!0})}),1e3*(t-60)),setTimeout((function(){window.location.href="https://foodcommune.com"}),1e3*t));ee.dispatch({type:"EXPIRE_REDIRECT",payload:a})}var le=a(16);var ie=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={userMenu:!1},e.userMenu=function(){console.log("clicked"),e.setState({userMenu:!e.state.userMenu})},e.continueSession=function(){ne({user:{profile:{login:e.props.user.email}}})},e.endSession=function(){se()},e}return Object(m.a)(a,[{key:"componentWillMount",value:function(){ae()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.expiringSession&&r.a.createElement("div",{className:"session-exp-warning"},r.a.createElement("span",{style:{color:"red"}},"Your session is about to expire!"),r.a.createElement("div",{className:"d-flex justify-content-around mt-5"},r.a.createElement("button",{className:"btn btn-sm btn-danger",onClick:this.endSession},"Log Out"),r.a.createElement("button",{className:"btn btn-sm btn-success",onClick:this.continueSession},"Continue"))),this.props.user&&r.a.createElement(le.b,null,r.a.createElement(le.a,{to:{pathname:"/dashboard"}})),!this.props.user&&r.a.createElement(le.b,null,r.a.createElement(le.a,{to:{pathname:"/"}})),!this.props.user&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{id:"open-account",className:"nav-item nav-link",onClick:this.props.createAccount},"Create Account"),r.a.createElement("span",{id:"open-signin",className:"nav-item nav-link"},r.a.createElement(f.b,{to:"/SignIn",className:"link-gray"},"Log In"))),this.props.user&&r.a.createElement("div",null,r.a.createElement("div",{onClick:this.userMenu,style:{display:"flex",alignItems:"center",position:"relative"}},this.props.user.image_url&&r.a.createElement("div",{className:"img-wrap-xs mr-1"},r.a.createElement("img",{src:"/Uploads/Profile_Images/".concat(this.props.user.image_url),style:{width:"inherit"}})),!this.props.user.image_url&&r.a.createElement("i",{className:"fas fa-user-circle fa-2x mr-1 fc-green"}),r.a.createElement("span",{id:"user",style:{color:"dimgray"}},this.props.user.first_name),r.a.createElement("i",{className:"fas fa-caret-down ml-3"}),this.state.userMenu&&r.a.createElement("div",{id:"user-menu"},r.a.createElement("ul",{style:{listStyle:"none",padding:"10px"}},r.a.createElement("li",{style:{cursor:"pointer"},onClick:this.endSession},"Sign Out"),r.a.createElement("li",{style:{cursor:"pointer"}},r.a.createElement(f.b,{to:"/dashboard"},"Dashboard")),r.a.createElement("li",{style:{cursor:"pointer"},onClick:this.tokenExpireCheck},"Settings"))))))}}]),a}(n.Component),ce=Object(E.b)((function(e){return{sessionExists:e.sessionExists,provisional:e.provisional,user:e.user,tokenExpiresAt:e.tokenExpiresAt,expiringSession:e.expiringSession}}),(function(e){return{}}))(ie),me=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",errMsg:null,signInProgress:!1},e.closeSignInWindow=function(t){"sign-in-wrapper"===t.target.id&&e.props.signIn()},e.inputEmail=function(t){e.setState({email:t.target.value})},e.inputPassword=function(t){e.setState({password:t.target.value})},e.signInFlow=Object(V.a)(K.a.mark((function t(){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({signInProgress:!0}),t.next=3,re(e.state.email,e.state.password);case 3:t.sent||e.setState({errMsg:"Incorrect email or password",signInProgress:!1});case 5:case"end":return t.stop()}}),t)}))),e}return Object(m.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(t){return e.closeSignInWindow(t)}},r.a.createElement("div",{id:"sign-in",style:{position:"relative"}},this.state.signInProgress&&r.a.createElement("div",{class:"spinner-border text-info",role:"status",style:{position:"absolute",top:"50%",left:"45%"}},r.a.createElement("span",{class:"sr-only"},"Loading...")),r.a.createElement("div",{className:"header spartan"},r.a.createElement("img",{width:"40px",src:a(28),alt:""}),r.a.createElement("div",null,"Sign In")),r.a.createElement("div",{className:"content spartan"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{onChange:function(t){return e.inputEmail(t)},type:"email",className:"form-control",id:"sign-in-email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{onChange:function(t){return e.inputPassword(t)},onKeyDown:function(t){13===t.keyCode&&e.signInFlow()},type:"password",className:"form-control",id:"sign-in-password"})),r.a.createElement("button",{id:"signin-go",className:"btn btn-primary",onClick:this.signInFlow},"Log In"),r.a.createElement("div",{id:"sign-in-form-error",className:"spartan pt-2",style:{fontSize:"x-small",color:"red",textAlign:"center"}},this.state.errMsg),r.a.createElement("div",{id:"password-reset",className:"py-1"},r.a.createElement("small",{style:{fontWeight:"500",cursor:"pointer"}},r.a.createElement(f.b,{to:"/passwordreset",className:"link-gray"},"Reset Password")))))))}}]),n}(n.Component),ue=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={form:{email:"",passwordA:"",passwordB:"",firstName:"",lastName:"",phoneNumber:""},validate:!1,errMsg:"",showVerification:!1,verificationCode:"",verificationCodeInput:"",verifyCodeError:"",redirectToDash:!1,signInProgress:!1},e.setFormData=function(t){e.setState((function(e){return{form:Object(l.a)({},e.form,{},t)}}))},e.closeAccountWindow=function(t){"account-wrapper"===t.target.id&&e.props.createAccount()},e.startCreateAccount=function(){var t=e.state.form,a=0;if(Object.keys(t).forEach((function(e){""===t[e]&&a++})),a>0)return e.setState({validate:!0}),void console.log("error");if(t.email.includes("@")&&t.email.includes("."))if(t.passwordA===t.passwordB){e.setState({errMsg:""});if(t.passwordA.match(/^(?:(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).*)$/))if(t.passwordA.length<8)e.setState({errMsg:"Passwords must be at least 8 characters!"});else{var n=t.phoneNumber.replace(/\W/g,"");(n=1==n[0]?n.substring(1):n).length<10||n.length>10?e.setState({errMsg:"Not a valid phone number"}):(console.log("phone",n),e.verifyAccount())}else e.setState({errMsg:"Password does not meet criteria!"})}else e.setState({errMsg:"Passwords do not match. Please re-type passwords"});else e.setState({errMsg:"Email is not valid"})},e.verifyAccount=function(){e.setState({showVerification:!0,errMsg:"",verificationCodeInput:"",verifyCodeError:""});var t=(Math.floor(1e4*Math.random())*(new Date).getTime()).toString().substr(0,5);e.setState({verificationCode:t});var a={method:"POST",headers:new Headers({Authorization:"Bearer "+e.props.provisional,"Content-Type":"application/json"}),body:JSON.stringify({entity:{phone:e.state.form.phoneNumber,code:t}})};fetch("/site/verify",a).then((function(e){return e.json()})).then((function(e){console.log(e)}))},e.verifyCode=function(){e.state.verificationCodeInput===e.state.verificationCode?(e.insertUser(),console.log("ACCOUNT/PHONE VERIFIED")):e.setState({verifyCodeError:"The digits you entered do not match!"})},e.insertUser=function(){e.setState({signInProgress:!0});var t={firstName:e.state.form.firstName,lastName:e.state.form.lastName,email:e.state.form.email,phoneNumber:e.state.form.phoneNumber,password:e.state.form.passwordA},a={method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({entity:JSON.stringify(t)})};fetch("/site/createOktaAccount",a).then((function(e){return e.json()})).then((function(t){t.success?fetch("/site/createFCAccount",a).then((function(e){if(e)return e.json()})).then((function(t){t.success&&e.signInUser()})):(console.log(t),e.setState({showVerification:!1,errMsg:t.msg}))}))},e.signInUser=Object(V.a)(K.a.mark((function t(){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re(e.state.form.email,e.state.form.passwordA);case 2:t.sent&&(e.setState({redirectToDash:!0,showVerification:!1}),e.props.createAccount());case 4:case"end":return t.stop()}}),t)}))),e}return Object(m.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.state.redirectToDash&&r.a.createElement(le.b,null,r.a.createElement(le.a,{to:{pathname:"/dashboard"}})),r.a.createElement("div",{id:"account-wrapper",onClick:function(t){return e.closeAccountWindow(t)}},r.a.createElement("div",{id:"create-account"},r.a.createElement("div",{className:"header spartan"},r.a.createElement("img",{width:"40px",src:a(28),alt:""}),r.a.createElement("div",null,"Create Account")),!this.state.showVerification&&r.a.createElement("div",{id:"create-account-form",className:"spartan content"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email address"),r.a.createElement("input",{value:this.state.form.email,onChange:function(t){return e.setFormData({email:t.target.value})},type:"email",className:this.state.validate&&""===this.state.form.email?"form-control require":"form-control",id:"email","aria-describedby":"emailHelp"}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Create Password"),r.a.createElement("div",null,r.a.createElement("small",{className:"text-muted"},"Must be least 8 characters, a lowercase letter, an uppercase letter, a number, no parts of your username.")),r.a.createElement("input",{value:this.state.form.passwordA,onChange:function(t){return e.setFormData({passwordA:t.target.value})},type:"password",className:this.state.validate&&""===this.state.form.passwordA?"form-control require":"form-control",id:"InputPassword1"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Re-type Password"),r.a.createElement("input",{value:this.state.form.passwordB,onChange:function(t){return e.setFormData({passwordB:t.target.value})},type:"password",className:this.state.validate&&""===this.state.form.passwordB?"form-control require":"form-control",id:"InputPassword2"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"First Name"),r.a.createElement("input",{type:"text",className:this.state.validate&&""===this.state.form.firstName?"form-control require":"form-control",id:"fname",value:this.state.form.firstName,onChange:function(t){return e.setFormData({firstName:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Last Name"),r.a.createElement("input",{type:"text",className:this.state.validate&&""===this.state.form.lastName?"form-control require":"form-control",id:"lname",value:this.state.form.lastName,onChange:function(t){return e.setFormData({lastName:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Phone Number"),r.a.createElement("input",{type:"phone",className:this.state.validate&&""===this.state.form.phoneNumber?"form-control require":"form-control",id:"phone",value:this.state.form.phoneNumber,onChange:function(t){return e.setFormData({phoneNumber:t.target.value})}}),r.a.createElement("small",{className:"form-text text-muted"},"You will receive a SMS to verify your profile.")),r.a.createElement("button",{id:"create-account-go",className:"btn btn-primary",onClick:this.startCreateAccount},"Create"),r.a.createElement("div",{id:"form-error",className:"spartan pt-2",style:{fontSize:"x-small",color:"red",textAlign:"center"}},this.state.errMsg)),this.state.showVerification&&r.a.createElement("div",{id:"verify-account",className:"content spartan",style:{lineHeight:"initial",color:"dimgray",position:"relative"}},this.state.signInProgress&&r.a.createElement("div",{class:"spinner-border text-info",role:"status",style:{position:"absolute",top:"50%",left:"45%"}},r.a.createElement("span",{class:"sr-only"},"Loading...")),r.a.createElement("div",{id:"verify-go-back",className:"pb-4",style:{cursor:"pointer",color:"dodgerblue"},onClick:function(){return e.setState({showVerification:!1})}},r.a.createElement("i",{className:"fas fa-chevron-left"}),r.a.createElement("span",{className:"ml-1"},"Edit info")),r.a.createElement("div",null,"A message has been sent to the phone number you provided with a verification code. Please enter it here."),r.a.createElement("div",{className:"form-group py-2"},r.a.createElement("label",null,"5-digit verification code"),r.a.createElement("input",{onChange:function(t){return e.setState({verificationCodeInput:t.target.value})},type:"text",className:"form-control",id:"v-code"})),r.a.createElement("button",{id:"verify-account-go",className:"btn btn-success mr-2",onClick:this.verifyCode},"Verify"),r.a.createElement("button",{id:"verify-resend-go",className:"btn btn-primary",onClick:this.verifyAccount},"Re-send"),r.a.createElement("div",{id:"verify-form-error",className:"spartan pt-2",style:{fontSize:"x-small",color:"red",textAlign:"center"}},this.state.verifyCodeError)))))}}]),n}(n.Component),de=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={signInToggle:!1,createAccountToggle:!1},e.updateParentState=function(t){e.setState(t)},e.createAccount=function(t){console.log("toggle"),e.setState({createAccountToggle:!e.state.createAccountToggle})},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row",style:{backgroundColor:"white"}},r.a.createElement("div",{className:"col"},r.a.createElement(z,null)),r.a.createElement("div",{className:"col-12 col-sm d-flex align-items-center py-1 justify-content-center justify-content-md-end",style:{justifyContent:"flex-end"}},r.a.createElement(ce,{updateParentState:this.updateParentState,createAccount:this.createAccount})),this.state.createAccountToggle&&r.a.createElement(ue,{createAccount:this.createAccount})))}}]),a}(n.Component),pe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(m.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row row-border justify-content-center py-1",style:{position:"relative",backgroundColor:"white"}},r.a.createElement("div",{id:"top-slogan",className:"indie-flower"},"Find food you can trust!"),r.a.createElement("div",{className:"col-6 px-0"},r.a.createElement("img",{className:"img-inherit",src:a(45),alt:""})),r.a.createElement("div",{className:"col-6 px-0"},r.a.createElement("img",{className:"img-inherit",src:a(46),alt:""}))),r.a.createElement("div",{className:"row row-border py-1",style:{backgroundColor:"white"}},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"row check-content my-3"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("img",{className:"checks",src:"http://www.foodcommune.com/about/img/about-check1.gif",alt:""}),r.a.createElement("span",{className:"indie-flower fc-green"},"Farm To Table Trust")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("img",{className:"checks",src:"http://www.foodcommune.com/about/img/about-check1.gif"}),r.a.createElement("span",{className:"indie-flower fc-green"},"Community Involvement")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("img",{className:"checks",src:"http://www.foodcommune.com/about/img/about-check1.gif"}),r.a.createElement("span",{className:"indie-flower fc-green"},"Lower Food Costs")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("img",{className:"checks",src:"http://www.foodcommune.com/about/img/about-check1.gif"}),r.a.createElement("span",{className:"indie-flower fc-green"},"Healthy Eating"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col text-center"},r.a.createElement("img",{className:"img-inherit",style:{maxWidth:"775px",minWidth:"360px"},src:"./media/hderAd001.gif",alt:""}))))),r.a.createElement("div",{className:"row get-started justify-content-center py-3",style:{background:"linear-gradient(159deg, #346802 72%, #34680294)"}},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row indie-flower pt-1",style:{fontSize:"xxx-large",color:"white",display:"flex",justifyContent:"center",marginBottom:"-25px"}},"How It Works"),r.a.createElement("div",{className:"row justify-content-center mb-3"},r.a.createElement("div",{id:"signup-1",style:{color:"yellow",padding:"5px"}},"Sign-up and join a group"," ",r.a.createElement("i",{className:"fas fa-chevron-right"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"row step-container"},r.a.createElement("div",{className:"steps"},r.a.createElement("i",{className:"fas fa-circle fa-4x"}),r.a.createElement("span",{className:"step-number"},"1")),r.a.createElement("div",{className:"step-phrase"},"Organize Your Group!"))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"row step-container"},r.a.createElement("div",{className:"steps"},r.a.createElement("i",{className:"fas fa-circle fa-4x"}),r.a.createElement("span",{className:"step-number"},"2")),r.a.createElement("span",{className:"step-phrase"},"Search For Food!"))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"row step-container"},r.a.createElement("div",{className:"steps"},r.a.createElement("i",{className:"fas fa-circle fa-4x"}),r.a.createElement("span",{className:"step-number"},"3")),r.a.createElement("span",{className:"step-phrase"},"Make An Order!")))))),r.a.createElement("div",{className:"row py-1"},r.a.createElement("div",{className:"col",style:{backgroundColor:"white"}},r.a.createElement("div",{className:"row py-4",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement("img",{src:"./media/logo.PNG",alt:""}),r.a.createElement("span",{style:{fontSize:"x-large",padding:"5px",color:"dimgray"}},"Recent Offers"),r.a.createElement("img",{src:"./media/logo.PNG",alt:""})),r.a.createElement("div",{className:"row py-3",style:{justifyContent:"center"}}))),r.a.createElement("div",{className:"row",id:"content3"},r.a.createElement("div",{className:"col content"},r.a.createElement("div",{className:"row my-5 justify-content-center",style:{fontSize:"x-large",color:"var(--fc-orange)",fontStyle:"italic"}},"Sharing Strengthens Communities!"),r.a.createElement("div",{className:"row my-5"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("ul",null,r.a.createElement("li",{className:"li-label"},"Catalog"),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Fruit")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Vegetables")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Meats, Poultry and Seafood")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Other")))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("ul",null,r.a.createElement("li",{className:"li-label"},"Guides and Support"),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"How to sell and post offers")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Best practices for group purchases")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Get help finding products")))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("ul",null,r.a.createElement("li",{className:"li-label"},"News and Notifications"),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Find out about seasonal products")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Sign-up for new product alerts")))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("ul",null,r.a.createElement("li",{className:"li-label"},"Contact"),r.a.createElement("li",null,"Food Commune"),r.a.createElement("li",null,"Seattle, Wa"),r.a.createElement("li",null,"(206) 355-0133"),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Support Portal"))))))))}}]),n}(n.Component),fe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={description:"",summary:"",category:"",unit_measure:"",units:"",price:"",public:0,imageName:""},n.onFormChange=function(e){var t={};t[e.target.id]=e.target.value,n.setState(t)},n.createDeal=function(){var e={};Object.keys(n.state).forEach((function(t){["imageName"].includes(t)||(e[t]=n.state[t])}));var t=document.getElementById("image_url1").files[0],a=new FormData;a.append("file",t),t&&(e.image_url="".concat(n.props.user.id,"@").concat(t.name),e.user_id=n.props.user.id,console.log(e),fetch("/imageUpload?userid=".concat(n.props.user.id),{body:a,method:"POST"}).then((function(e){return e.json()})).then((function(e){console.log(e)}))),n.props.editDeal?(console.log(e),n.props.updateDeal(e)):(console.log("---\x3e NEW DEAL"),n.props.newDeal(e))},n.uploadImage=function(e){console.log("IMAGE ALT"),console.log(e.target.files),n.setState({imageName:e.target.files[0].name})},n.publicSetting=function(e){n.setState({public:e.target.checked?1:0})},e.editDeal&&(n.state=e.editDeal,console.log(e.editDeal)),n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"item-view-container",onClick:function(t){"item-view-container"===t.target.id&&e.props.showAddDeal()},className:"view-container",style:{overflowY:"auto",position:"absolute",height:"100%",width:"100%",zIndex:"1000",top:"0"}},r.a.createElement("div",{className:"modal-dialog",role:"document",style:{boxShadow:"0 0 16px 2px rgba(0,0,0,.3)",maxWidth:"425pm!important"}},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-close",onClick:this.props.showAddDeal},r.a.createElement("i",{className:"fas fa-window-close modal-close"})),r.a.createElement("div",{className:"header spartan d-flex align-items-center justify-content-center",style:{backgroundColor:"#346802",color:"white",padding:"12px"}},r.a.createElement("img",{width:"40px",src:"./media/logoAlpha.gif",alt:""})," ",r.a.createElement("div",null,this.props.editDeal?"Editing Deal":"New Deal")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement("input",{onChange:function(t){return e.onFormChange(t)},value:this.state.description,type:"text",className:"form-control",id:"description"}),r.a.createElement("small",{style:{color:this.state.description.length>30?"#dc3545":"#6c757d"}},"maximum length 30 characters (",30-this.state.description.length," remaining)")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Summary - Tell them about your deal"),r.a.createElement("textarea",{onChange:function(t){return e.onFormChange(t)},value:this.state.summary,type:"text",className:"form-control",id:"summary"}),r.a.createElement("small",{style:{color:this.state.summary.length>250?"#dc3545":"#6c757d"}},"maximum length 250 characters (",250-this.state.summary.length," remaining)")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Category"),r.a.createElement("select",{onChange:function(t){return e.onFormChange(t)},value:this.state.category,id:"category",className:"form-control form-control-sm"},r.a.createElement("option",null,"Fruit"),r.a.createElement("option",null,"Vegetables"),r.a.createElement("option",null,"Spices and Stuff"),r.a.createElement("option",null,"Chesse and Dairy"),r.a.createElement("option",null,"Meats and Poultry"),r.a.createElement("option",null,"Seafood")))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Unit measure"),r.a.createElement("select",{onChange:function(t){return e.onFormChange(t)},value:this.state.unit_measure,id:"unit_measure",className:"form-control form-control-sm"},r.a.createElement("option",{value:"lbs"},"lbs (pounds)"),r.a.createElement("option",{value:"oz"},"oz (ounces)"),r.a.createElement("option",{value:"kg"},"kg (kilograms)"),r.a.createElement("option",{value:"g"},"g (grams)"),r.a.createElement("option",{value:"gal"},"gal (gallons)"),r.a.createElement("option",{value:"qt"},"qt (quarts)"),r.a.createElement("option",{value:"case"},"case"),r.a.createElement("option",{value:"doz"},"doz (dozen)"))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Price"),r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",style:{backgroundColor:"#f8f9fa",fontSize:".8rem"}},"$")),r.a.createElement("input",{onChange:function(t){return e.onFormChange(t)},value:this.state.price,type:"number",className:"form-control",id:"price",style:{fontSize:".8rem"}})))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Units"),r.a.createElement("input",{onChange:function(t){return e.onFormChange(t)},value:this.state.units,type:"number",className:"form-control",id:"units",style:{fontSize:".8rem"}}),r.a.createElement("small",{className:"text-muted"},"Number of units included in your item")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text",style:{backgroundColor:"#f8f9fa"}},r.a.createElement("input",{checked:!!this.state.public,type:"checkbox",style:{fontSize:".8rem"},onChange:function(t){return e.publicSetting(t)}}))),r.a.createElement("span",{type:"text",className:"form-control","aria-label":"Text input with checkbox",style:{fontSize:".8rem"}},"Make this offer public")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{class:"input-group my-2"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"uploadInput"},"Upload Image")),r.a.createElement("div",{class:"custom-file"},r.a.createElement("input",{type:"file",class:"custom-file-input",id:"image_url1","aria-describedby":"uploadInput",onChange:function(t){return e.uploadImage(t)}}),r.a.createElement("label",{class:"custom-file-label",for:"image_url1"},""===this.state.imageName?"Choose File":this.state.imageName)))))),r.a.createElement("div",{className:"modal-footer",style:{justifyContent:"space-evenly"}},!this.props.editDeal&&r.a.createElement("button",{className:"btn btn-sm btn-primary flex-cc",onClick:this.createDeal},r.a.createElement("img",{src:"/media/logoAlpha.gif",alt:"",style:{width:"15px",marginRight:"2px"}}),"Create"),this.props.editDeal&&r.a.createElement("button",{className:"btn btn-sm btn-primary flex-cc",onClick:this.createDeal},r.a.createElement("img",{src:"/media/logoAlpha.gif",alt:"",style:{width:"15px",marginRight:"2px"}}),"Update")))))}}]),a}(n.Component),ge=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={edit:!1,area:"_",imageFile:null,imgUpload:!1,imgPreview:null},e.stars=function(e){for(var t=[],a=0;a<5;a++)a<e?t.push(r.a.createElement("i",{key:a,className:"fas fa-star sY"})):t.push(r.a.createElement("i",{key:a,className:"fas fa-star sG"}));return t},e.saveProfile=function(){e.setState({edit:!1});var t={};if("_"!==e.state.area&&(t.area=e.state.area),e.state.imageFile){var a=e.state.imageFile,n=new FormData;n.append("file",a),t.image_url="".concat(e.props.user.id,"@").concat(a.name),t.image_url=t.image_url.replace(/\s|"|'/g,""),console.log(t),fetch("/imageUpload/user?userId=".concat(e.props.user.id),{body:n,method:"POST"}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}0!==Object.keys(t).length&&e.props.updateProfile(t)},e.groupImgUpload=function(){e.setState((function(e){return{imgUpload:!0}}),(function(){document.getElementById("image").click()}))},e.imgPreview=function(t){var a=document.getElementById("image").files[0];e.setState({imageFile:a});var n=new FileReader;n.onloadend=function(t){e.setState({imgPreview:t.target.result})},n.readAsDataURL(a)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card bg-light"},r.a.createElement("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",null,"Profile"),this.state.edit?r.a.createElement("button",{id:"save",onClick:this.saveProfile,className:"btn btn-sm btn-success",style:{font:"small-caption"}},"save"):r.a.createElement("div",{id:"edit"},r.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){e.setState({edit:!0})}}))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("input",{id:"image",type:"file",style:{display:"none"},onChange:this.imgPreview}),r.a.createElement("div",{className:"col-6 text-center d-flex justify-content-center"},this.state.edit&&r.a.createElement("i",{className:"fas fa-camera-retro fa-3x",onClick:this.groupImgUpload}),!this.state.imgUpload&&!this.props.user.image_url&&r.a.createElement("i",{className:"fas fa-users fa-7x"}),!this.state.imgUpload&&this.props.user.image_url&&r.a.createElement("div",{className:"img-wrap-lg"},r.a.createElement("img",{src:"./Uploads/Profile_Images/".concat(this.props.user.image_url),style:{width:"inherit"}})),this.state.imgUpload&&r.a.createElement("div",{className:"img-wrap-lg"},r.a.createElement("img",{id:"preview",src:this.state.imgPreview,style:{width:"inherit"}}))),r.a.createElement("div",{className:"col-6 align-self-center"},r.a.createElement("div",{className:"row justify-content-center"},this.props.user.first_name," ",this.props.user.last_name),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col text-center"},this.stars(this.props.user.score))))),r.a.createElement("div",{id:"user-details",className:"row mt-4"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"row justify-content-center"},"Your Area"),r.a.createElement("div",{className:"row justify-content-center text-muted"},this.state.edit?r.a.createElement("input",{id:"area",placeholder:"general location",onChange:function(t){return e.setState({area:t.target.value})}}):this.props.user.area)),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"row justify-content-center"},"Profile Visibility"),r.a.createElement("div",{className:"row justify-content-center text-muted"},this.state.edit?r.a.createElement("select",{id:"visibility"},r.a.createElement("option",{value:"0"},"Private"),r.a.createElement("option",{value:"1"},"Group Only"),r.a.createElement("option",{value:"2"},"Public")):"Groups Only"))),r.a.createElement("div",{id:"user-details",className:"row mt-2"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"row justify-content-center"},"Transaction Types"),r.a.createElement("div",{className:"row justify-content-center text-muted"},0===this.props.user.type?"Buyer":1===this.props.user.type?"Seller":"Buyer/Seller"))))))}}]),a}(n.Component),he=Object(E.b)((function(e){return{user:e.user}}))(ge);function Ee(e,t,a){return r.a.createElement("li",{key:t,className:"item-list-wrap my-2",style:{backgroundColor:"white",cursor:2===a.state.tab?"pointer":"initial"}},r.a.createElement("div",{className:"row",style:{textDecoration:"none",color:"dimgray",position:"relative"}},r.a.createElement("div",{style:{position:"absolute",right:"15px",color:"lightgrey",display:"none",fontSize:"1rem"},className:"fas fa-pencil-alt fa-1x"}),r.a.createElement("div",{className:"col-6 col-md-3 mb-2 mb-md-0"},e.image_url&&r.a.createElement("img",{src:"/Uploads/Deal_Images/"+e.image_url,alt:"",style:{maxHeight:"100px",borderRadius:"5px"}}),!e.image_url&&r.a.createElement("img",{src:"/media/no_image.png",alt:"",style:{maxHeight:"100px"}})),r.a.createElement("div",{className:"col-6 col-md-3"},r.a.createElement("div",{className:"item-description"},e.description),r.a.createElement("div",{className:"item-info my-2"},e.units," ",e.unit_measure," for $",e.price),e.seller_name&&r.a.createElement("div",{className:"item-seller mt-3"},r.a.createElement("img",{className:"seller-img",src:"/Uploads/Profile_Images/"+e.seller_image,alt:""}),r.a.createElement("div",{className:"seller-name"},r.a.createElement("div",null,e.seller_name),r.a.createElement("div",{className:"stars justify-content-center"},function(e){for(var t=[],a=0;a<5;a++)a<e?t.push(r.a.createElement("i",{key:a,className:"fas fa-star sY"})):t.push(r.a.createElement("i",{key:a,className:"fas fa-star sG"}));return t}(e.score))))),r.a.createElement("div",{className:"col-12 col-sm-5 col-md-6",style:{display:"grid"}},e.summary,r.a.createElement("div",{className:"row",style:{alignSelf:"flex-end",justifySelf:"flex-end"}},2===a.state.tab&&!a.state.removeDeal&&r.a.createElement("div",{className:"col d-flex"},G(a.props.token,a.props.data.MyClans,a.props.user.id,e),r.a.createElement("button",{className:"btn btn-sm btn-danger mr-2",style:{fontSize:"inherit",fontWeight:"600"},onClick:function(){return a.setState({removeDeal:!0})}},"remove"),r.a.createElement("button",{className:"btn btn-sm btn-primary",style:{fontSize:"inherit",fontWeight:"600"},onClick:function(){return a.props.editDeal(t)}},"edit")),2===a.state.tab&&a.state.removeDeal&&r.a.createElement("div",{className:"col d-flex align-items-center"},r.a.createElement("span",{className:"mr-1"},"Are you sure you want to remove this offer?"),r.a.createElement("button",{className:"btn btn-sm btn-success mr-2",style:{fontSize:"inherit",fontWeight:"600"},onClick:function(){return a.props.removeDeal(e.id)}},"confirm"),r.a.createElement("button",{className:"btn btn-sm btn-danger mr-2",style:{fontSize:"inherit",fontWeight:"600"},onClick:function(){return a.setState({removeDeal:!1})}},"cancel")),3===a.state.tab&&r.a.createElement("div",{className:"col"},r.a.createElement("button",{className:"btn btn-sm btn-danger mr-2",style:{fontSize:"inherit",fontWeight:"600"},onClick:function(){return a.props.removeFromWishList(e.id)}},"remove"))))))}var ve=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={tab:1},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card",style:{height:"auto",maxHeight:"initial"}},r.a.createElement("div",{className:"card-header",style:{backgroundColor:"white",padding:".75rem 1.25rem 0 .75rem",display:"flex"}},r.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){return e.setState({tab:1})},className:1===this.state.tab?"profile-tabs-selected":"profile-tabs"},"My Orders"),r.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){return e.setState({tab:2})},className:2===this.state.tab?"profile-tabs-selected":"profile-tabs"},"My Offers"),r.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){return e.setState({tab:3})},className:3===this.state.tab?"profile-tabs-selected":"profile-tabs"},"Wish List"),1===this.state.tab&&r.a.createElement(f.b,{to:"/catalog",className:"btn btn-sm btn-primary",style:{font:"small-caption",position:"absolute",right:"10px"}},"catalog"),2===this.state.tab&&r.a.createElement("button",{className:"btn btn-sm btn-primary",style:{font:"small-caption",position:"absolute",right:"10px"},onClick:this.props.showAddDeal},r.a.createElement("i",{className:"fas fa-plus"}))),r.a.createElement("div",{className:"card-body py-2 px-2",style:{maxHeight:"450px",overflowY:"auto",overflowX:"hidden",backgroundColor:"#f5f5f5"}},r.a.createElement("ul",{id:"buys-list",style:{fontSize:"x-small",listStyle:"none",paddingInlineStart:"0"}},1===this.state.tab&&this.props.data&&!this.props.data.Purchases.length&&r.a.createElement("div",null,"No items to display"),this.props.data&&1===this.state.tab&&this.props.data.Purchases.map((function(t,a){return Ee(t,a,e)})),this.props.data&&2===this.state.tab&&this.props.data.Deals.map((function(t,a){return Ee(t,a,e)})),this.props.data&&3===this.state.tab&&this.props.data.Buys.map((function(t,a){return Ee(t,a,e)}))))))}}]),a}(n.Component),ye=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card bg-light",style:{maxHeight:"50vh"}},r.a.createElement("div",{className:"card-header text-center"},"Your Deals",r.a.createElement("button",{className:"btn btn-sm btn-primary",style:{font:"small-caption",float:"right"},onClick:this.props.showAddDeal},r.a.createElement("i",{className:"fas fa-plus"}))),r.a.createElement("div",{className:"card-body py-1 px-2"},r.a.createElement("div",{className:"py-2",id:"buys-list",style:{fontSize:"x-small",display:"flex",overflowY:"auto"}},this.props.data&&this.props.data.Deals.map((function(t,a){return function(e,t,a,n){return r.a.createElement("div",{onClick:function(){return n.props.editDeal(t)},key:t,className:"catalog-item mx-2",style:{minWidth:"175px",position:"relative",cursor:"pointer"}},r.a.createElement("div",{className:"item-header"},r.a.createElement("div",{style:{position:"absolute",right:"10px",top:"10px",color:"lightgrey",display:"none",fontSize:"1rem"},className:"fas fa-pencil-alt fa-1x"}),e.image_url&&r.a.createElement("img",{src:"/Uploads/Deal_Images/"+e.image_url,alt:""}),!e.image_url&&r.a.createElement("img",{src:"/media/no_image.png",alt:"",style:{alignSelf:"flex-end"}})),r.a.createElement("div",{className:"item-info-group"},r.a.createElement("div",{className:"item-description"},e.description),r.a.createElement("div",{className:"item-info"},e.units," ",e.unit_measure," for $",e.price),r.a.createElement("div",{className:"item-seller"},a.image_url&&r.a.createElement("img",{className:"seller-img",src:"/Uploads/Profile_Images/"+a.image_url,alt:""}),!a.image_url&&r.a.createElement("i",{className:"fas fa-user-circle fa-2x seller-img"}),r.a.createElement("div",{className:"seller-name"},r.a.createElement("div",null,a.name),r.a.createElement("div",{className:"stars justify-content-center"},function(e){for(var t=[],a=0;a<5;a++)a<e?t.push(r.a.createElement("i",{key:a,className:"fas fa-star sY"})):t.push(r.a.createElement("i",{key:a,className:"fas fa-star sG"}));return t}(a.score))))))}(t,a,e.props.user,e)})),!this.props.data&&r.a.createElement("div",null,"No items to display")))))}}]),a}(n.Component);Object(E.b)((function(e){return{user:e.user}}))(ye);var be=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={editGroup:!1,removeGroupSelector:null},e.changeState=function(){setTimeout((function(){e.setState((function(e){var t=Object(i.a)(e.groups);return t.forEach((function(e,a){t[a].members=10})),{groups:t}}))}),2e3)},e.goToGroups=function(e){e?window.location.replace("/group-page.html?ref=".concat(e)):window.location.replace("/groups.html")},e.editGroupList=function(){e.setState({editGroup:!e.state.editGroup})},e.removeGroup=function(t,a){t.stopPropagation(),e.setState({removeGroupSelector:a})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card bg-light",style:{width:"inherit"}},r.a.createElement("div",{className:"card-header button-group"},r.a.createElement("div",null,"Your Groups"),r.a.createElement("i",{onClick:this.editGroupList,style:{fontSize:"medium",cursor:"pointer"},className:"fas fa-pencil-alt"}),r.a.createElement("div",null,r.a.createElement(f.b,{to:"/groups",className:"btn btn-sm btn-primary mr-1",style:{font:"small-caption",textDecoration:"none"}},"join a group"),r.a.createElement(f.b,{to:"/groups?option=1",className:"btn btn-sm btn-warning",style:{font:"small-caption"}},"create group"))),r.a.createElement("div",{className:"card-body p-0"},r.a.createElement("div",{className:"container-fluid",id:"group-list"},r.a.createElement("ul",{id:"group-list",style:{listStyle:"none",padding:"0",fontSize:"small"}},this.props.data&&this.props.data.MyClans.map((function(t,a){return r.a.createElement("li",{key:a,className:"row",style:{backgroundColor:a%2===0?"dodgerblue":"#adb5bd"}},(!e.state.removeGroupSelector||e.state.removeGroupSelector!==t.id)&&r.a.createElement(f.b,{to:"/grouppage?ref="+t.id,className:"col group-item d-flex",style:{font:"small-caption",textDecoration:"none"}},r.a.createElement("div",{className:"col-2"},!t.image_url&&r.a.createElement("i",{className:"fas fa-users group-img"}),t.image_url&&r.a.createElement("div",{className:"img-wrap-sm"},r.a.createElement("img",{style:{width:"inherit"},src:"./Uploads/Group_Images/".concat(t.image_url),alt:""}))),r.a.createElement("div",{className:"col-6"},t.name)),e.state.removeGroupSelector===t.id&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col",style:{fontSize:"smaller",color:"white",display:"flex",alignItems:"center",justifyContent:"center",height:"55px"}},"Are you sure you want to leave ",t.name,"?"),r.a.createElement("div",{className:"col d-flex justify-content-around align-items-center"},r.a.createElement("button",{className:"btn btn-sm btn-danger",style:{fontSize:"smaller"},onClick:function(){return e.setState({removeGroupSelector:null})}},"cancel"),r.a.createElement("button",{style:{fontSize:"smaller"},className:"btn btn-sm btn-success",onClick:function(){return e.props.leaveGroup(t.id)}},"leave"))),e.state.editGroup&&!e.state.removeGroupSelector&&r.a.createElement("div",{style:{padding:"5px",display:"flex",alignItems:"center",backgroundColor:"whitesmoke"}},r.a.createElement("button",{style:{fontSize:"x-small"},className:"btn btn-sm btn-danger",onClick:function(a){return e.removeGroup(a,t.id)}},"remove")))}))))))}}]),a}(n.Component),Ae=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:null,showAddDeal:!1,editDeal:null},e.newDeal=function(t){Ne(e.props.token,e.props.user.id,t).then((function(a){console.log(a),e.setState((function(e){var a=Object(i.a)(e.data.Deals);return a.push(t),{data:Object(l.a)({},e.data,{Deals:a})}}),(function(){e.setState({showAddDeal:!1})}))})).catch((function(e){console.log(e)}))},e.updateDeal=function(t){Ce(e.props.token,e.props.user.id,t).then((function(a){console.log(a),e.setState((function(e){var a=Object(i.a)(e.data.Deals),n=a.findIndex((function(e){return e.id===t.id}));return a[n]=t,{data:Object(l.a)({},e.data,{Deals:a})}}),(function(){e.setState({showAddDeal:!1})}))})).catch((function(e){console.log(e)}))},e.removeDeal=function(t){Se(e.props.token,e.props.user.id,t).then((function(a){console.log(a),e.setState((function(e){var a=Object(i.a)(e.data.Deals),n=a.findIndex((function(e){return e.id===t}));return a.splice(n,1),{data:Object(l.a)({},e.data,{Deals:a})}}))})).catch((function(e){console.log(e)}))},e.showAddDeal=function(t){e.setState({showAddDeal:!e.state.showAddDeal,editDeal:null})},e.editDeal=function(t){e.setState({editDeal:e.state.data.Deals[t],showAddDeal:!0})},e.updateProfile=function(t){Ie(e.props.token,e.props.user.id,t).then((function(a){console.log(a),e.setState((function(e){var a=Object(l.a)({},e.user);return Object.keys(t).forEach((function(e){a[e]=t[e]})),{user:a}}))})).catch((function(e){console.log(e)}))},e.leaveGroup=function(t){ke(e.props.token,e.props.user,t).then((function(a){console.log(a),e.setState((function(e){var a=Object(i.a)(e.data.MyClans),n=a.findIndex((function(e){return e.id===t}));return a.splice(n,1),{data:Object(l.a)({},e.data,{MyClans:a})}}))})).catch((function(e){console.log(e)}))},e.removeFromWishList=function(t){console.log("wish list nix"),Oe(e.props.token,e.props.user,t).then((function(a){console.log(a),e.setState((function(e){var a=Object(i.a)(e.data.Buys),n=a.findIndex((function(e){return e.id===t}));return a.splice(n,1),{data:Object(l.a)({},e.data,{Buys:a})}}))})).catch((function(e){console.log(e)}))},e}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e,t,a=this;(e=this.props.token,t=this.props.user.id,console.log("fetching data......",e,t),new Promise((function(a,n){var r={userId:t},s={method:"POST",headers:new Headers({Authorization:"Bearer "+e,"Content-Type":"application/json"}),body:JSON.stringify({entity:r})};fetch("/accounts/dashboard",s).then((function(e){if(e)return e.json()})).then((function(e){e.success?n("Unable to retrieve data"):a(e)}))}))).then((function(e){console.log(e),a.setState({data:e})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"dashboard",className:"row row-border justify-content-center"},this.state.showAddDeal&&r.a.createElement(fe,{editDeal:this.state.editDeal,showAddDeal:this.showAddDeal,user:this.props.user,newDeal:this.newDeal,updateDeal:this.updateDeal}),r.a.createElement("div",{id:"main-content",className:"col-sm-12 col-md-10 spartan py-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{id:"profile-card",className:"col-sm-12 col-lg-6 d-flex"},r.a.createElement(he,{updateProfile:this.updateProfile})),r.a.createElement("div",{id:"groups-card",className:"col-sm-12 col-lg-6 d-flex"},r.a.createElement(be,{data:this.state.data,leaveGroup:this.leaveGroup}))),r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{id:"buys-card",className:"col-12"},r.a.createElement(ve,{data:this.state.data,showAddDeal:this.showAddDeal,editDeal:this.editDeal,removeDeal:this.removeDeal,user:this.props.user,token:this.props.token,removeFromWishList:this.removeFromWishList}))))))}}]),a}(n.Component),we=Object(E.b)((function(e){return{user:e.user,token:e.token}}))(Ae);function Ne(e,t,a){return console.log("fetching data......",e,t),a.user_id=t,new Promise((function(t,n){var r={method:"POST",headers:new Headers({Authorization:"Bearer "+e,"Content-Type":"application/json"}),body:JSON.stringify({entity:a})};fetch("/accounts/insertDeal",r).then((function(e){return e.json()})).then((function(e){e.success?t(e):n(e)}))}))}function Ce(e,t,a){return console.log("fetching data......",e,t),a.user_id=t,new Promise((function(t,n){var r={method:"POST",headers:new Headers({Authorization:"Bearer "+e,"Content-Type":"application/json"}),body:JSON.stringify({entity:a})};fetch("/accounts/updateDeal",r).then((function(e){return e.json()})).then((function(e){e.success?t(e):n(e)}))}))}function Se(e,t,a){return new Promise((function(t,n){var r={method:"POST",headers:new Headers({Authorization:"Bearer "+e,"Content-Type":"application/json"}),body:JSON.stringify({entity:{dealId:a}})};fetch("/accounts/removeDealDB",r).then((function(e){return e.json()})).then((function(e){e.success?t(e):n(e)}))}))}function Ie(e,t,a){var n={userId:t,values:a};return console.log("fetching data......",e,t),new Promise((function(t,a){var r={method:"POST",headers:new Headers({Authorization:"Bearer "+e,"Content-Type":"application/json"}),body:JSON.stringify({entity:n})};fetch("/accounts/updateUserProfile",r).then((function(e){return e.json()})).then((function(e){e.success?t(e):a(e)}))}))}function ke(e,t,a){return console.log("fetching data......"),new Promise((function(n,r){var s={user:t,clanId:a},o={method:"POST",headers:new Headers({Authorization:"Bearer "+e,"Content-Type":"application/json"}),body:JSON.stringify({entity:s})};fetch("/accounts/removeUserFromClan",o).then((function(e){return e.json()})).then((function(e){console.log(e),e.success?n(e):r("Unable to retrieve data")}))}))}function Oe(e,t,a){return console.log("fetching data......"),new Promise((function(n,r){var s={user:t,itemId:a},o={method:"POST",headers:new Headers({Authorization:"Bearer "+e,"Content-Type":"application/json"}),body:JSON.stringify({entity:s})};fetch("/accounts/deleteWishListBuy",o).then((function(e){return e.json()})).then((function(e){console.log(e),e.success?n(e):r("Unable to retrieve data")}))}))}var xe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={formHeader:"Password Reset",formError:null,recoverInput:void 0,userFound:!1,password1:void 0,password2:void 0,vCode:void 0,vCodeInput:void 0},e.resetGo=function(){var t=e.state.recoverInput;if(void 0===t)e.setState({formError:"No input entered"});else if(t.includes("@")&&t.includes("."))console.log("email"),t.trim(),e.getUser('profile.email eq "'.concat(t,'"'));else{var a=t.replace(/\W/g,"");a=1==a[0]?a.substring(1):a,isNaN(a)?e.setState({formError:"Input is neither a phone number or email"}):a.length<9||a.length>11?e.setState({formError:"Not a valid phone number"}):(console.log("phone",a),e.getUser('profile.mobilePhone eq "'.concat(a,'"')))}},e.getUser=function(t){fetch("/site/finduser?queryparams=".concat(t),{method:"GET",mode:"same-origin",credentials:"same-origin",headers:{"Content-Type":"application/json"}}).then((function(e){if(e)return e.json()})).then((function(t){console.log(t),e.startChangePasswordFlow(t.login,t.phone)})).catch((function(e){console.log(e)}))},e.startChangePasswordFlow=function(t,a){e.setState({userFound:!0,formHeader:"Enter New Password"});var n=(Math.floor(1e4*Math.random())*(new Date).getTime()).toString().substr(0,5);e.setState({vCode:n,login:t});var r={method:"POST",mode:"same-origin",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({entity:{phone:a,code:n}})};fetch("/site/verify",r).then((function(e){if(e)return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},e.setPassword=function(){if(e.state.vCode==e.state.vCodeInput)if(e.state.password1===e.state.password2)if(e.setState({formError:null}),e.state.password1.length<8)e.setState({formError:"Passwords must be at least 8 characters!"});else{var t={method:"POST",mode:"same-origin",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({entity:{login:e.state.login,newPassword:e.state.password1}})};fetch("/site/changepassword",t).then((function(e){if(e)return e.json()})).then((function(t){t.res?e.setState({formHeader:"Your password has been reset!",redirect:!0}):e.setState({formError:t.msg})})).catch((function(e){console.log(e)}))}else e.setState({formError:"Passwords do not match. Please re-type passwords"});else e.setState({formError:"5-digit code does not match!"})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"main-content",className:"row row-border justify-content-center py-5",style:{position:"relative"}},this.state.redirect&&r.a.createElement("div",null,this.state.formHeader,r.a.createElement(f.b,{to:"/signin"},r.a.createElement("button",{className:"btn btn-success ml-3"},"Log In Now"))),!this.state.userFound&&!this.state.redirect&&r.a.createElement("div",{id:"login-help",className:"col spartan"},r.a.createElement("div",{className:"row justify-content-center"},this.state.formHeader),r.a.createElement("div",{className:"row py-4 justify-content-center"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{style:{borderRadius:"5px",padding:"20px",backgroundColor:"white",fontSize:"small"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"recover-input"},"Enter an email or phone number associated with the account."),r.a.createElement("input",{type:"text",className:"form-control",id:"recover-input",placeholder:"email or phone",onChange:function(t){e.setState({recoverInput:t.target.value})}}),r.a.createElement("small",{className:"text-muted"},'Phone numbers do not require special characters ("-" or "()")')),r.a.createElement("button",{id:"recover-go",className:"btn btn-success",onClick:this.resetGo},"Reset"),r.a.createElement("div",{id:"form-error",className:"spartan pt-2",style:{fontSize:"x-small",color:"red",textAlign:"center"}}))))),this.state.userFound&&!this.state.redirect&&r.a.createElement("div",{id:"change-password",className:"col spartan"},r.a.createElement("div",{className:"row justify-content-center"},this.state.formHeader),r.a.createElement("div",{className:"row py-4 justify-content-center"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{style:{borderRadius:"5px",padding:"20px",backgroundColor:"white",fontSize:"small"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"InputPassword1"},"Create Password"),r.a.createElement("div",null,r.a.createElement("small",{className:"text-muted"},"Must be least 8 characters, a lowercase letter, an uppercase letter, a number, no parts of your username.")),r.a.createElement("input",{type:"password",className:"form-control",id:"InputPassword1",onChange:function(t){e.setState({password1:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"InputPassword2"},"Re-type Password"),r.a.createElement("input",{type:"password",className:"form-control",id:"InputPassword2",onChange:function(t){e.setState({password2:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"v-code"},"5-digit verification code"),r.a.createElement("div",null,r.a.createElement("small",{className:"text-muted"},"Sent to phone number associated with your account.")),r.a.createElement("input",{type:"text",className:"form-control",id:"v-code",onChange:function(t){e.setState({vCodeInput:t.target.value})},style:{width:"100px"}})),r.a.createElement("button",{id:"set-password-go",className:"btn btn-success",onClick:this.setPassword},"Change password"),this.state.formError&&r.a.createElement("div",{id:"password-form-error",className:"spartan pt-2",style:{fontSize:"x-small",color:"red",textAlign:"center"}},this.state.formError))))))}}]),a}(n.Component);var je=function(){return r.a.createElement(f.a,null,r.a.createElement(E.a,{store:ee},r.a.createElement("div",{className:"",id:"nav-view"},r.a.createElement(de,null)),r.a.createElement(le.d,null,r.a.createElement(le.b,{path:"/catalog"},r.a.createElement(R,null)),r.a.createElement(Be,{path:"/grouppage"},r.a.createElement(j,null)),r.a.createElement(Be,{path:"/groups"},r.a.createElement(y,null)),r.a.createElement(Be,{path:"/dashboard"},r.a.createElement(we,null)),r.a.createElement(le.b,{path:"/signin"},r.a.createElement(me,null)),r.a.createElement(le.b,{path:"/passwordreset"},r.a.createElement(xe,{style:{backgroundColor:"#f7f7f7"}})),r.a.createElement(le.b,{path:"/"},r.a.createElement(pe,null)))))};function Be(e){var t=e.children,a=e.path,n=e.ref,s=ee.getState();console.log(a),console.log("STORE",ee.getState());var o=!(!s.token||!s.user);return console.log(n),o?t:r.a.createElement(le.b,null,r.a.createElement(le.a,{to:{pathname:"/signin"}}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(je,null)),document.getElementById("wrapper"))}},[[32,1,2]]]);
//# sourceMappingURL=main.e3239548.chunk.js.map